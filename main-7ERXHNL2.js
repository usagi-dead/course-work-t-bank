var J5=Object.defineProperty,e6=Object.defineProperties;var t6=Object.getOwnPropertyDescriptors;var Ay=Object.getOwnPropertySymbols,n6=Object.getPrototypeOf,cP=Object.prototype.hasOwnProperty,uP=Object.prototype.propertyIsEnumerable,i6=Reflect.get;var aP=(t,e,n)=>e in t?J5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})cP.call(e,n)&&aP(t,n,e[n]);if(Ay)for(var n of Ay(e))uP.call(e,n)&&aP(t,n,e[n]);return t},oe=(t,e)=>e6(t,t6(e));var Oa=(t,e)=>{var n={};for(var i in t)cP.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Ay)for(var i of Ay(t))e.indexOf(i)<0&&uP.call(t,i)&&(n[i]=t[i]);return n};var Ls=(t,e,n)=>i6(n6(t),n,e);var x=(t,e,n)=>new Promise((i,r)=>{var o=u=>{try{c(n.next(u))}catch(d){r(d)}},s=u=>{try{c(n.throw(u))}catch(d){r(d)}},c=u=>u.done?i(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});var Lb;function xy(){return Lb}function Vo(t){let e=Lb;return Lb=t,e}var lP=Symbol("NotFound");function nd(t){return t===lP||t?.name==="\u0275NotFound"}function Oy(t,e){return Object.is(t,e)}var di=null,Ry=!1,Vb=1,r6=null,hi=Symbol("SIGNAL");function Me(t){let e=di;return di=t,e}function ky(){return di}var ka={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function id(t){if(Ry)throw new Error("");if(di===null)return;di.consumerOnSignalRead(t);let e=di.producersTail;if(e!==void 0&&e.producer===t)return;let n,i=di.recomputing;if(i&&(n=e!==void 0?e.nextProducer:di.producers,n!==void 0&&n.producer===t)){di.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===di&&(!i||s6(r,di)))return;let o=od(di),s={producer:t,consumer:di,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};di.producersTail=s,e!==void 0?e.nextProducer=s:di.producers=s,o&&hP(t,s)}function dP(){Vb++}function Fy(t){if(!(od(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vb)){if(!t.producerMustRecompute(t)&&!rd(t)){Py(t);return}t.producerRecomputeValue(t),Py(t)}}function Ub(t){if(t.consumers===void 0)return;let e=Ry;Ry=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||o6(i)}}finally{Ry=e}}function Bb(){return di?.consumerAllowSignalWrites!==!1}function o6(t){t.dirty=!0,Ub(t),t.consumerMarkedDirty?.(t)}function Py(t){t.dirty=!1,t.lastCleanEpoch=Vb}function Fa(t){return t&&(t.producersTail=void 0,t.recomputing=!0),Me(t)}function Eu(t,e){if(Me(e),!t)return;t.recomputing=!1;let n=t.producersTail,i=n!==void 0?n.nextProducer:t.producers;if(i!==void 0){if(od(t))do i=jb(i);while(i!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function rd(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,i=e.lastReadVersion;if(i!==n.version||(Fy(n),i!==n.version))return!0}return!1}function wu(t){if(od(t)){let e=t.producers;for(;e!==void 0;)e=jb(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function hP(t,e){let n=t.consumersTail,i=od(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!i)for(let r=t.producers;r!==void 0;r=r.nextProducer)hP(r.producer,r)}function jb(t){let e=t.producer,n=t.nextProducer,i=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!od(e)){let o=e.producers;for(;o!==void 0;)o=jb(o)}return n}function od(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ly(t){r6?.(t)}function s6(t,e){let n=e.producersTail;if(n!==void 0){let i=e.producers;do{if(i===t)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function Vy(t,e){let n=Object.create(a6);n.computation=t,e!==void 0&&(n.equal=e);let i=()=>{if(Fy(n),id(n),n.value===Sp)throw n.error;return n.value};return i[hi]=n,Ly(n),i}var My=Symbol("UNSET"),Ny=Symbol("COMPUTING"),Sp=Symbol("ERRORED"),a6=oe(O({},ka),{value:My,dirty:!0,error:null,equal:Oy,kind:"computed",producerMustRecompute(t){return t.value===My||t.value===Ny},producerRecomputeValue(t){if(t.value===Ny)throw new Error("");let e=t.value;t.value=Ny;let n=Fa(t),i,r=!1;try{i=t.computation(),Me(null),r=e!==My&&e!==Sp&&i!==Sp&&t.equal(e,i)}catch(o){i=Sp,t.error=o}finally{Eu(t,n)}if(r){t.value=e;return}t.value=i,t.version++}});function c6(){throw new Error}var fP=c6;function pP(t){fP(t)}function Hb(t){fP=t}var u6=null;function zb(t,e){let n=Object.create(Uy);n.value=t,e!==void 0&&(n.equal=e);let i=()=>mP(n);return i[hi]=n,Ly(n),[i,s=>sd(n,s),s=>$b(n,s)]}function mP(t){return id(t),t.value}function sd(t,e){Bb()||pP(t),t.equal(t.value,e)||(t.value=e,l6(t))}function $b(t,e){Bb()||pP(t),sd(t,e(t.value))}var Uy=oe(O({},ka),{equal:Oy,value:void 0,kind:"signal"});function l6(t){t.version++,dP(),Ub(t),u6?.(t)}function be(t){return typeof t=="function"}function ad(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var By=ad(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Iu(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pn=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(be(i))try{i()}catch(o){e=o instanceof By?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{gP(o)}catch(s){e=e??[],s instanceof By?e=[...e,...s.errors]:e.push(s)}}if(e)throw new By(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gP(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Iu(n,e)}remove(e){let{_finalizers:n}=this;n&&Iu(n,e),e instanceof t&&e._removeParent(this)}};pn.EMPTY=(()=>{let t=new pn;return t.closed=!0,t})();var qb=pn.EMPTY;function jy(t){return t instanceof pn||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function gP(t){be(t)?t():t.unsubscribe()}var oo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cd={setTimeout(t,e,...n){let{delegate:i}=cd;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hy(t){cd.setTimeout(()=>{let{onUnhandledError:e}=oo;if(e)e(t);else throw t})}function so(){}var yP=Gb("C",void 0,void 0);function vP(t){return Gb("E",void 0,t)}function _P(t){return Gb("N",t,void 0)}function Gb(t,e,n){return{kind:t,value:e,error:n}}var bu=null;function ud(t){if(oo.useDeprecatedSynchronousErrorHandling){let e=!bu;if(e&&(bu={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=bu;if(bu=null,n)throw i}}else t()}function EP(t){oo.useDeprecatedSynchronousErrorHandling&&bu&&(bu.errorThrown=!0,bu.error=t)}var Tu=class extends pn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jy(e)&&e.add(this)):this.destination=f6}static create(e,n,i){return new Vs(e,n,i)}next(e){this.isStopped?Kb(_P(e),this):this._next(e)}error(e){this.isStopped?Kb(vP(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kb(yP,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},d6=Function.prototype.bind;function Wb(t,e){return d6.call(t,e)}var Qb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){zy(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){zy(i)}else zy(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){zy(n)}}},Vs=class extends Tu{constructor(e,n,i){super();let r;if(be(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&oo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Wb(e.next,o),error:e.error&&Wb(e.error,o),complete:e.complete&&Wb(e.complete,o)}):r=e}this.destination=new Qb(r)}};function zy(t){oo.useDeprecatedSynchronousErrorHandling?EP(t):Hy(t)}function h6(t){throw t}function Kb(t,e){let{onStoppedNotification:n}=oo;n&&cd.setTimeout(()=>n(t,e))}var f6={closed:!0,next:so,error:h6,complete:so};var ld=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Yt(t){return t}function La(...t){return Yb(t)}function Yb(t){return t.length===0?Yt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=m6(n)?n:new Vs(n,i,r);return ud(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=wP(i),new i((r,o)=>{let s=new Vs({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[ld](){return this}pipe(...n){return Yb(n)(this)}toPromise(n){return n=wP(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function wP(t){var e;return(e=t??oo.Promise)!==null&&e!==void 0?e:Promise}function p6(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}function m6(t){return t&&t instanceof Tu||p6(t)&&jy(t)}function Zb(t){return be(t?.lift)}function Re(t){return e=>{if(Zb(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(t,e,n,i,r){return new Xb(t,e,n,i,r)}var Xb=class extends Tu{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function dd(){return Re((t,e)=>{let n=null;t._refCount++;let i=Te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var hd=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pn;let n=this.getSubject();e.add(this.source.subscribe(Te(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pn.EMPTY)}return e}refCount(){return dd()(this)}};var IP=ad(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new $y(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new IP}next(n){ud(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ud(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ud(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?qb:(this.currentObservers=null,o.push(n),new pn(()=>{this.currentObservers=null,Iu(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new $y(e,n),t})(),$y=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:qb}};var ct=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ap={now(){return(Ap.delegate||Date).now()},delegate:void 0};var Uo=class extends at{constructor(e=1/0,n=1/0,i=Ap){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),c=0;for(let u=1;u<i.length&&i[u]<=s;u+=2)c=u;c&&i.splice(0,c+1)}}};var qy=class extends pn{constructor(e,n){super()}schedule(e,n=0){return this}};var xp={setInterval(t,e,...n){let{delegate:i}=xp;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fd=class extends qy{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return xp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&xp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Iu(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var pd=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};pd.now=Ap.now;var md=class extends pd{constructor(e,n=pd.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var ao=new md(fd),Jb=ao;var Gy=class extends fd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Wy=class extends md{};var Cu=new Wy(Gy);var kt=new ne(t=>t.complete());function Ky(t){return t&&be(t.schedule)}function eT(t){return t[t.length-1]}function gd(t){return be(eT(t))?t.pop():void 0}function Bo(t){return Ky(eT(t))?t.pop():void 0}function bP(t,e){return typeof eT(t)=="number"?t.pop():e}function Qy(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Tr(t,e,n,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function CP(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{d(i.next(f))}catch(m){s(m)}}function u(f){try{d(i.throw(f))}catch(m){s(m)}}function d(f){f.done?o(f.value):r(f.value).then(c,u)}d((i=i.apply(t,e||[])).next())})}function TP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Du(t){return this instanceof Du?(this.v=t,this):new Du(t)}function DP(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(C){return Promise.resolve(C).then(_,m)}}function c(_,C){i[_]&&(r[_]=function(R){return new Promise(function(N,k){o.push([_,R,N,k])>1||u(_,R)})},C&&(r[_]=C(r[_])))}function u(_,C){try{d(i[_](C))}catch(R){y(o[0][3],R)}}function d(_){_.value instanceof Du?Promise.resolve(_.value.v).then(f,m):y(o[0][2],_)}function f(_){u("next",_)}function m(_){u("throw",_)}function y(_,C){_(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function SP(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof TP=="function"?TP(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),r(c,u,s.done,s.value)})}}function r(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var yd=t=>t&&typeof t.length=="number"&&typeof t!="function";function Yy(t){return be(t?.then)}function Zy(t){return be(t[ld])}function Xy(t){return Symbol.asyncIterator&&be(t?.[Symbol.asyncIterator])}function Jy(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function g6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ev=g6();function tv(t){return be(t?.[ev])}function nv(t){return DP(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Du(n.read());if(r)return yield Du(void 0);yield yield Du(i)}}finally{n.releaseLock()}})}function iv(t){return be(t?.getReader)}function ot(t){if(t instanceof ne)return t;if(t!=null){if(Zy(t))return y6(t);if(yd(t))return v6(t);if(Yy(t))return _6(t);if(Xy(t))return AP(t);if(tv(t))return E6(t);if(iv(t))return w6(t)}throw Jy(t)}function y6(t){return new ne(e=>{let n=t[ld]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function v6(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _6(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hy)})}function E6(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function AP(t){return new ne(e=>{I6(t,e).catch(n=>e.error(n))})}function w6(t){return AP(nv(t))}function I6(t,e){var n,i,r,o;return CP(this,void 0,void 0,function*(){try{for(n=SP(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function qi(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function co(t,e=0){return Re((n,i)=>{n.subscribe(Te(i,r=>qi(i,t,()=>i.next(r),e),()=>qi(i,t,()=>i.complete(),e),r=>qi(i,t,()=>i.error(r),e)))})}function Va(t,e=0){return Re((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function xP(t,e){return ot(t).pipe(Va(e),co(e))}function RP(t,e){return ot(t).pipe(Va(e),co(e))}function MP(t,e){return new ne(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function NP(t,e){return new ne(n=>{let i;return qi(n,e,()=>{i=t[ev](),qi(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>be(i?.return)&&i.return()})}function rv(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{qi(n,e,()=>{let i=t[Symbol.asyncIterator]();qi(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function PP(t,e){return rv(nv(t),e)}function OP(t,e){if(t!=null){if(Zy(t))return xP(t,e);if(yd(t))return MP(t,e);if(Yy(t))return RP(t,e);if(Xy(t))return rv(t,e);if(tv(t))return NP(t,e);if(iv(t))return PP(t,e)}throw Jy(t)}function Ft(t,e){return e?OP(t,e):ot(t)}function te(...t){let e=Bo(t);return Ft(t,e)}function vd(t,e){let n=be(t)?t:()=>t,i=r=>r.error(n());return new ne(e?r=>e.schedule(i,0,r):i)}function ov(t){return!!t&&(t instanceof ne||be(t.lift)&&be(t.subscribe))}var Us=ad(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function kP(t){return t instanceof Date&&!isNaN(t)}function H(t,e){return Re((n,i)=>{let r=0;n.subscribe(Te(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:b6}=Array;function T6(t,e){return b6(e)?t(...e):t(e)}function _d(t){return H(e=>T6(t,e))}var{isArray:C6}=Array,{getPrototypeOf:D6,prototype:S6,keys:A6}=Object;function sv(t){if(t.length===1){let e=t[0];if(C6(e))return{args:e,keys:null};if(x6(e)){let n=A6(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function x6(t){return t&&typeof t=="object"&&D6(t)===S6}function av(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function jo(...t){let e=Bo(t),n=gd(t),{args:i,keys:r}=sv(t);if(i.length===0)return Ft([],e);let o=new ne(R6(i,e,r?s=>av(r,s):Yt));return n?o.pipe(_d(n)):o}function R6(t,e,n=Yt){return i=>{FP(e,()=>{let{length:r}=t,o=new Array(r),s=r,c=r;for(let u=0;u<r;u++)FP(e,()=>{let d=Ft(t[u],e),f=!1;d.subscribe(Te(i,m=>{o[u]=m,f||(f=!0,c--),c||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function FP(t,e,n){t?qi(n,t,e):e()}function LP(t,e,n,i,r,o,s,c){let u=[],d=0,f=0,m=!1,y=()=>{m&&!u.length&&!d&&e.complete()},_=R=>d<i?C(R):u.push(R),C=R=>{o&&e.next(R),d++;let N=!1;ot(n(R,f++)).subscribe(Te(e,k=>{r?.(k),o?_(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(d--;u.length&&d<i;){let k=u.shift();s?qi(e,s,()=>C(k)):C(k)}y()}catch(k){e.error(k)}}))};return t.subscribe(Te(e,_,()=>{m=!0,y()})),()=>{c?.()}}function Zt(t,e,n=1/0){return be(e)?Zt((i,r)=>H((o,s)=>e(i,o,r,s))(ot(t(i,r))),n):(typeof e=="number"&&(n=e),Re((i,r)=>LP(i,r,t,n)))}function Ua(t=1/0){return Zt(Yt,t)}function VP(){return Ua(1)}function Bs(...t){return VP()(Ft(t,Bo(t)))}function Rp(t){return new ne(e=>{ot(t()).subscribe(e)})}function tT(...t){let e=gd(t),{args:n,keys:i}=sv(t),r=new ne(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,d=s;for(let f=0;f<s;f++){let m=!1;ot(n[f]).subscribe(Te(o,y=>{m||(m=!0,d--),c[f]=y},()=>u--,void 0,()=>{(!u||!m)&&(d||o.next(i?av(i,c):c),o.complete())}))}});return e?r.pipe(_d(e)):r}var M6=["addListener","removeListener"],N6=["addEventListener","removeEventListener"],P6=["on","off"];function Gt(t,e,n,i){if(be(n)&&(i=n,n=void 0),i)return Gt(t,e,n).pipe(_d(i));let[r,o]=F6(t)?N6.map(s=>c=>t[s](e,c,n)):O6(t)?M6.map(UP(t,e)):k6(t)?P6.map(UP(t,e)):[];if(!r&&yd(t))return Zt(s=>Gt(s,e,n))(ot(t));if(!r)throw new TypeError("Invalid event target");return new ne(s=>{let c=(...u)=>s.next(1<u.length?u:u[0]);return r(c),()=>o(c)})}function UP(t,e){return n=>i=>t[n](e,i)}function O6(t){return be(t.addListener)&&be(t.removeListener)}function k6(t){return be(t.on)&&be(t.off)}function F6(t){return be(t.addEventListener)&&be(t.removeEventListener)}function fi(t=0,e,n=Jb){let i=-1;return e!=null&&(Ky(e)?n=e:i=e),new ne(r=>{let o=kP(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Xt(...t){let e=Bo(t),n=bP(t,1/0),i=t;return i.length?i.length===1?ot(i[0]):Ua(n)(Ft(i,e)):kt}var nT=new ne(so);function ze(t,e){return Re((n,i)=>{let r=0;n.subscribe(Te(i,o=>t.call(e,o,r++)&&i.next(o)))})}function Cr(t){return Re((e,n)=>{let i=null,r=!1,o;i=e.subscribe(Te(n,void 0,void 0,s=>{o=ot(t(s,Cr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function BP(t,e,n,i,r){return(o,s)=>{let c=n,u=e,d=0;o.subscribe(Te(s,f=>{let m=d++;u=c?t(u,f,m):(c=!0,f),i&&s.next(u)},r&&(()=>{c&&s.next(u),s.complete()})))}}function Ba(t,e){return be(e)?Zt(t,e,1):Zt(t,1)}function uo(t){return Re((e,n)=>{let i=!1;e.subscribe(Te(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function ni(t){return t<=0?()=>kt:Re((e,n)=>{let i=0;e.subscribe(Te(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function jP(){return Re((t,e)=>{t.subscribe(Te(e,so))})}function HP(t){return H(()=>t)}function iT(t,e){return e?n=>Bs(e.pipe(ni(1),jP()),n.pipe(iT(t))):Zt((n,i)=>ot(t(n,i)).pipe(ni(1),HP(n)))}function js(t,e=ao){let n=fi(t,e);return iT(()=>n)}function mn(t,e=Yt){return t=t??L6,Re((n,i)=>{let r,o=!0;n.subscribe(Te(i,s=>{let c=e(s);(o||!t(r,c))&&(o=!1,r=c,i.next(s))}))})}function L6(t,e){return t===e}function cv(t=V6){return Re((e,n)=>{let i=!1;e.subscribe(Te(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function V6(){return new Us}function ja(t){return Re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Hs(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ze((r,o)=>t(r,o,i)):Yt,ni(1),n?uo(e):cv(()=>new Us))}function Ed(t){return t<=0?()=>kt:Re((e,n)=>{let i=[];e.subscribe(Te(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function rT(t,e){let n=arguments.length>=2;return i=>i.pipe(t?ze((r,o)=>t(r,o,i)):Yt,Ed(1),n?uo(e):cv(()=>new Us))}function Ha(t){let e=1/0,n;return t!=null&&(typeof t=="object"?{count:e=1/0,delay:n}=t:e=t),e<=0?()=>kt:Re((i,r)=>{let o=0,s,c=()=>{if(s?.unsubscribe(),s=null,n!=null){let d=typeof n=="number"?fi(n):ot(n(o)),f=Te(r,()=>{f.unsubscribe(),u()});d.subscribe(f)}else u()},u=()=>{let d=!1;s=i.subscribe(Te(r,void 0,()=>{++o<e?s?c():d=!0:r.complete()})),d&&c()};u()})}function uv(t,e){return Re(BP(t,e,arguments.length>=2,!0))}function sr(t={}){let{connector:e=()=>new at,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,c,u,d=0,f=!1,m=!1,y=()=>{c?.unsubscribe(),c=void 0},_=()=>{y(),s=u=void 0,f=m=!1},C=()=>{let R=s;_(),R?.unsubscribe()};return Re((R,N)=>{d++,!m&&!f&&y();let k=u=u??e();N.add(()=>{d--,d===0&&!m&&!f&&(c=oT(C,r))}),k.subscribe(N),!s&&d>0&&(s=new Vs({next:$=>k.next($),error:$=>{m=!0,y(),c=oT(_,n,$),k.error($)},complete:()=>{f=!0,y(),c=oT(_,i),k.complete()}}),ot(R).subscribe(s))})(o)}}function oT(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new Vs({next:()=>{i.unsubscribe(),t()}});return ot(e(...n)).subscribe(i)}function zs(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,sr({connector:()=>new Uo(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function lv(t){return ze((e,n)=>t<=n)}function vt(...t){let e=Bo(t);return Re((n,i)=>{(e?Bs(t,n,e):Bs(t,n)).subscribe(i)})}function Ue(t,e){return Re((n,i)=>{let r=null,o=0,s=!1,c=()=>s&&!r&&i.complete();n.subscribe(Te(i,u=>{r?.unsubscribe();let d=0,f=o++;ot(t(u,f)).subscribe(r=Te(i,m=>i.next(e?e(u,m,f,d++):m),()=>{r=null,c()}))},()=>{s=!0,c()}))})}function En(t){return Re((e,n)=>{ot(t).subscribe(Te(n,()=>n.complete(),so)),!n.closed&&e.subscribe(n)})}function wd(t,e=!1){return Re((n,i)=>{let r=0;n.subscribe(Te(i,o=>{let s=t(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function Wt(t,e,n){let i=be(t)||e||n?{next:t,error:e,complete:n}:t;return i?Re((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let c=!0;r.subscribe(Te(o,u=>{var d;(d=i.next)===null||d===void 0||d.call(i,u),o.next(u)},()=>{var u;c=!1,(u=i.complete)===null||u===void 0||u.call(i),o.complete()},u=>{var d;c=!1,(d=i.error)===null||d===void 0||d.call(i,u),o.error(u)},()=>{var u,d;c&&((u=i.unsubscribe)===null||u===void 0||u.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):Yt}function zP(t,e){return Re((n,i)=>{let{leading:r=!0,trailing:o=!1}=e??{},s=!1,c=null,u=null,d=!1,f=()=>{u?.unsubscribe(),u=null,o&&(_(),d&&i.complete())},m=()=>{u=null,d&&i.complete()},y=C=>u=ot(t(C)).subscribe(Te(i,f,m)),_=()=>{if(s){s=!1;let C=c;c=null,i.next(C),!d&&y(C)}};n.subscribe(Te(i,C=>{s=!0,c=C,!(u&&!u.closed)&&(r?_():y(C))},()=>{d=!0,!(o&&s&&u&&!u.closed)&&i.complete()}))})}function za(t,e=ao,n){let i=fi(t,e);return zP(()=>i,n)}function sT(...t){let e=gd(t);return Re((n,i)=>{let r=t.length,o=new Array(r),s=t.map(()=>!1),c=!1;for(let u=0;u<r;u++)ot(t[u]).subscribe(Te(i,d=>{o[u]=d,!c&&!s[u]&&(s[u]=!0,(c=s.every(Yt))&&(s=null))},so));n.subscribe(Te(i,u=>{if(c){let d=[u,...o];i.next(e?e(...d):d)}}))})}function $P(t){let e=Me(null);try{return t()}finally{Me(e)}}var mv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,n){super(Ga(e,n)),this.code=e}};function U6(t){return`NG0${Math.abs(t)}`}function Ga(t,e){return`${U6(t)}${e?": "+e:""}`}var Mu=globalThis;function At(t){for(let e in t)if(t[e]===At)return e;throw Error("")}function WP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function qs(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(qs).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function vT(t,e){return t?e?`${t} ${e}`:t:e||""}var B6=At({__forward_ref__:At});function Gi(t){return t.__forward_ref__=Gi,t.toString=function(){return qs(this())},t}function Ln(t){return _T(t)?t():t}function _T(t){return typeof t=="function"&&t.hasOwnProperty(B6)&&t.__forward_ref__===Gi}function KP(t,e){t==null&&ET(e,t,null,"!=")}function ET(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Sr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fp(t){return j6(t,gv)}function wT(t){return Fp(t)!==null}function j6(t,e){return t.hasOwnProperty(e)&&t[e]||null}function H6(t){let e=t?.[gv]??null;return e||null}function cT(t){return t&&t.hasOwnProperty(hv)?t[hv]:null}var gv=At({\u0275prov:At}),hv=At({\u0275inj:At}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function IT(t){return t&&!!t.\u0275providers}var bT=At({\u0275cmp:At}),TT=At({\u0275dir:At}),CT=At({\u0275pipe:At}),DT=At({\u0275mod:At}),Pp=At({\u0275fac:At}),Nu=At({__NG_ELEMENT_ID__:At}),qP=At({__NG_ENV_ID__:At});function Wa(t){return typeof t=="string"?t:t==null?"":String(t)}function fv(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Wa(t)}var ST=At({ngErrorCode:At}),QP=At({ngErrorMessage:At}),Np=At({ngTokenPath:At});function AT(t,e){return YP("",-200,e)}function yv(t,e){throw new q(-201,!1)}function z6(t,e){t[Np]??=[];let n=t[Np],i;typeof e=="object"&&"multi"in e&&e?.multi===!0?(KP(e.provide,"Token with multi: true should have a provide property"),i=fv(e.provide)):i=fv(e),n[0]!==i&&t[Np].unshift(i)}function $6(t,e){let n=t[Np],i=t[ST],r=t[QP]||t.message;return t.message=G6(r,i,n,e),t}function YP(t,e,n){let i=new q(e,t);return i[ST]=e,i[QP]=t,n&&(i[Np]=n),i}function q6(t){return t[ST]}function G6(t,e,n=[],i=null){let r="";n&&n.length>1&&(r=` Path: ${n.join(" -> ")}.`);let o=i?` Source: ${i}.`:"";return Ga(e,`${t}${o}${r}`)}var uT;function ZP(){return uT}function Di(t){let e=uT;return uT=t,e}function xT(t,e,n){let i=Fp(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(e!==void 0)return e;yv(t,"Injector")}var W6={},Su=W6,lT="__NG_DI_FLAG__",dT=class{injector;constructor(e){this.injector=e}retrieve(e,n){let i=Au(n)||0;try{return this.injector.get(e,i&8?null:Su,i)}catch(r){if(nd(r))return r;throw r}}};function K6(t,e=0){let n=xy();if(n===void 0)throw new q(-203,!1);if(n===null)return xT(t,void 0,e);{let i=Q6(e),r=n.retrieve(t,i);if(nd(r)){if(i.optional)return null;throw r}return r}}function Ee(t,e=0){return(ZP()||K6)(Ln(t),e)}function g(t,e){return Ee(t,Au(e))}function Au(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Q6(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function hT(t){let e=[];for(let n=0;n<t.length;n++){let i=Ln(t[n]);if(Array.isArray(i)){if(i.length===0)throw new q(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let c=i[s],u=Y6(c);typeof u=="number"?u===-1?r=c.token:o|=u:r=c}e.push(Ee(r,o))}else e.push(Ee(i))}return e}function vv(t,e){return t[lT]=e,t.prototype[lT]=e,t}function Y6(t){return t[lT]}function $a(t,e){let n=t.hasOwnProperty(Pp);return n?t[Pp]:null}function XP(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function JP(t){return t.flat(Number.POSITIVE_INFINITY)}function _v(t,e){t.forEach(n=>Array.isArray(n)?_v(n,e):e(n))}function RT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Lp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function eO(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function tO(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function nO(t,e,n){let i=bd(t,e);return i>=0?t[i|1]=n:(i=~i,tO(t,i,e,n)),i}function Ev(t,e){let n=bd(t,e);if(n>=0)return t[n|1]}function bd(t,e){return Z6(t,e,1)}function Z6(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var ho={},ar=[],Ka=new M(""),Un=new M("",-1),MT=new M(""),Op=class{get(e,n=Su){if(n===Su){let r=YP("",-201);throw r.name="\u0275NotFound",r}return n}};function NT(t){return t[DT]||null}function Ho(t){return t[bT]||null}function wv(t){return t[TT]||null}function iO(t){return t[CT]||null}function Ar(t){return{\u0275providers:t}}function rO(...t){return{\u0275providers:PT(!0,t),\u0275fromNgModule:!0}}function PT(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return _v(e,s=>{let c=s;pv(c,o,[],i)&&(r||=[],r.push(c))}),r!==void 0&&oO(r,o),n}function oO(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];OT(r,o=>{e(o,i)})}}function pv(t,e,n,i){if(t=Ln(t),!t)return!1;let r=null,o=cT(t),s=!o&&Ho(t);if(!o&&!s){let u=t.ngModule;if(o=cT(u),o)r=u;else return!1}else{if(s&&!s.standalone)return!1;r=t}let c=i.has(r);if(s){if(c)return!1;if(i.add(r),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)pv(d,e,n,i)}}else if(o){if(o.imports!=null&&!c){i.add(r);let d;try{_v(o.imports,f=>{pv(f,e,n,i)&&(d||=[],d.push(f))})}finally{}d!==void 0&&oO(d,e)}if(!c){let d=$a(r)||(()=>new r);e({provide:r,useFactory:d,deps:ar},r),e({provide:MT,useValue:r,multi:!0},r),e({provide:Ka,useValue:()=>Ee(r),multi:!0},r)}let u=o.providers;if(u!=null&&!c){let d=t;OT(u,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function OT(t,e){for(let n of t)IT(n)&&(n=n.\u0275providers),Array.isArray(n)?OT(n,e):e(n)}var X6=At({provide:String,useValue:At});function sO(t){return t!==null&&typeof t=="object"&&X6 in t}function J6(t){return!!(t&&t.useExisting)}function e9(t){return!!(t&&t.useFactory)}function xu(t){return typeof t=="function"}function aO(t){return!!t.useClass}var Vp=new M(""),dv={},GP={},aT;function Td(){return aT===void 0&&(aT=new Op),aT}var Jt=class{},Ru=class extends Jt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,pT(e,s=>this.processProvider(s)),this.records.set(Un,Id(void 0,this)),r.has("environment")&&this.records.set(Jt,Id(void 0,this));let o=this.records.get(Vp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(MT,ar,{self:!0}))}retrieve(e,n){let i=Au(n)||0;try{return this.get(e,Su,i)}catch(r){if(nd(r))return r;throw r}}destroy(){Mp(this),this._destroyed=!0;let e=Me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return Mp(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Mp(this);let n=Vo(this),i=Di(void 0),r;try{return e()}finally{Vo(n),Di(i)}}get(e,n=Su,i){if(Mp(this),e.hasOwnProperty(qP))return e[qP](this);let r=Au(i),o,s=Vo(this),c=Di(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=o9(e)&&Fp(e);f&&this.injectableDefInScope(f)?d=Id(fT(e),dv):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let u=r&2?Td():this.parent;return n=r&8&&n===Su?null:n,u.get(e,n)}catch(u){let d=q6(u);throw d===-200||d===-201?new q(d,null):u}finally{Di(c),Vo(s)}}resolveInjectorInitializers(){let e=Me(null),n=Vo(this),i=Di(void 0),r;try{let o=this.get(Ka,ar,{self:!0});for(let s of o)s()}finally{Vo(n),Di(i),Me(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(qs(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ln(e);let n=xu(e)?e:Ln(e&&e.provide),i=n9(e);if(!xu(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Id(void 0,dv,!0),r.factory=()=>hT(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n,i){let r=Me(null);try{if(n.value===GP)throw AT(qs(e));return n.value===dv&&(n.value=GP,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&r9(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ln(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fT(t){let e=Fp(t),n=e!==null?e.factory:$a(t);if(n!==null)return n;if(t instanceof M)throw new q(204,!1);if(t instanceof Function)return t9(t);throw new q(204,!1)}function t9(t){if(t.length>0)throw new q(204,!1);let n=H6(t);return n!==null?()=>n.factory(t):()=>new t}function n9(t){if(sO(t))return Id(void 0,t.useValue);{let e=kT(t);return Id(e,dv)}}function kT(t,e,n){let i;if(xu(t)){let r=Ln(t);return $a(r)||fT(r)}else if(sO(t))i=()=>Ln(t.useValue);else if(e9(t))i=()=>t.useFactory(...hT(t.deps||[]));else if(J6(t))i=(r,o)=>Ee(Ln(t.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Ln(t&&(t.useClass||t.provide));if(i9(t))i=()=>new r(...hT(t.deps));else return $a(r)||fT(r)}return i}function Mp(t){if(t.destroyed)throw new q(205,!1)}function Id(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function i9(t){return!!t.deps}function r9(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function o9(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function pT(t,e){for(let n of t)Array.isArray(n)?pT(n,e):n&&IT(n)?pT(n.\u0275providers,e):e(n)}function Cn(t,e){let n;t instanceof Ru?(Mp(t),n=t):n=new dT(t);let i,r=Vo(n),o=Di(void 0);try{return e()}finally{Vo(r),Di(o)}}function cO(){return ZP()!==void 0||xy()!=null}var fo=0,ye=1,Ne=2,Vn=3,xr=4,Si=5,Pu=6,Cd=7,wn=8,Ou=9,zo=10,Kt=11,Dd=12,FT=13,ku=14,Ai=15,Qa=16,Fu=17,$o=18,Up=19,LT=20,$s=21,Iv=22,Gs=23,cr=24,Lu=25,Mt=26,uO=1,VT=6,Ya=7,Bp=8,Vu=9,$n=10;function qo(t){return Array.isArray(t)&&typeof t[uO]=="object"}function po(t){return Array.isArray(t)&&t[uO]===!0}function UT(t){return(t.flags&4)!==0}function Za(t){return t.componentOffset>-1}function Sd(t){return(t.flags&1)===1}function mo(t){return!!t.template}function Ad(t){return(t[Ne]&512)!==0}function Uu(t){return(t[Ne]&256)===256}var BT="svg",lO="math";function Rr(t){for(;Array.isArray(t);)t=t[fo];return t}function jT(t,e){return Rr(e[t])}function go(t,e){return Rr(e[t.index])}function jp(t,e){return t.data[e]}function Bu(t,e){return t[e]}function HT(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Mr(t,e){let n=e[t];return qo(n)?n:n[fo]}function dO(t){return(t[Ne]&4)===4}function bv(t){return(t[Ne]&128)===128}function hO(t){return po(t[Vn])}function Nr(t,e){return e==null?null:t[e]}function zT(t){t[Fu]=0}function $T(t){t[Ne]&1024||(t[Ne]|=1024,bv(t)&&Xa(t))}function fO(t,e){for(;t>0;)e=e[ku],t--;return e}function Hp(t){return!!(t[Ne]&9216||t[cr]?.dirty)}function Tv(t){t[zo].changeDetectionScheduler?.notify(8),t[Ne]&64&&(t[Ne]|=1024),Hp(t)&&Xa(t)}function Xa(t){t[zo].changeDetectionScheduler?.notify(0);let e=qa(t);for(;e!==null&&!(e[Ne]&8192||(e[Ne]|=8192,!bv(e)));)e=qa(e)}function qT(t,e){if(Uu(t))throw new q(911,!1);t[$s]===null&&(t[$s]=[]),t[$s].push(e)}function pO(t,e){if(t[$s]===null)return;let n=t[$s].indexOf(e);n!==-1&&t[$s].splice(n,1)}function qa(t){let e=t[Vn];return po(e)?e[Vn]:e}function GT(t){return t[Cd]??=[]}function WT(t){return t.cleanup??=[]}function mO(t,e,n,i){let r=GT(e);r.push(n),t.firstCreatePass&&WT(t).push(i,r.length-1)}var We={lFrame:SO(null),bindingsEnabled:!0,skipHydrationRootTNode:null},zp=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(zp||{}),s9=0,mT=!1;function gO(){return We.lFrame.elementDepthCount}function yO(){We.lFrame.elementDepthCount++}function KT(){We.lFrame.elementDepthCount--}function Cv(){return We.bindingsEnabled}function QT(){return We.skipHydrationRootTNode!==null}function YT(t){return We.skipHydrationRootTNode===t}function ZT(){We.skipHydrationRootTNode=null}function ve(){return We.lFrame.lView}function hn(){return We.lFrame.tView}function Ce(t){return We.lFrame.contextLView=t,t[wn]}function De(t){return We.lFrame.contextLView=null,t}function Dn(){let t=XT();for(;t!==null&&t.type===64;)t=t.parent;return t}function XT(){return We.lFrame.currentTNode}function vO(){let t=We.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function xd(t,e){let n=We.lFrame;n.currentTNode=t,n.isParent=e}function JT(){return We.lFrame.isParent}function eC(){We.lFrame.isParent=!1}function _O(){return We.lFrame.contextLView}function tC(t){ET("Must never be called in production mode"),s9=t}function nC(){return mT}function Rd(t){let e=mT;return mT=t,e}function Go(){let t=We.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function EO(){return We.lFrame.bindingIndex}function wO(t){return We.lFrame.bindingIndex=t}function Ja(){return We.lFrame.bindingIndex++}function iC(t){let e=We.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IO(){return We.lFrame.inI18n}function bO(t,e){let n=We.lFrame;n.bindingIndex=n.bindingRootIndex=t,Dv(e)}function TO(){return We.lFrame.currentDirectiveIndex}function Dv(t){We.lFrame.currentDirectiveIndex=t}function CO(t){let e=We.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function rC(){return We.lFrame.currentQueryIndex}function Sv(t){We.lFrame.currentQueryIndex=t}function a9(t){let e=t[ye];return e.type===2?e.declTNode:e.type===1?t[Si]:null}function oC(t,e,n){if(n&4){let r=e,o=t;for(;r=r.parent,r===null&&!(n&1);)if(r=a9(o),r===null||(o=o[ku],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=We.lFrame=DO();return i.currentTNode=e,i.lView=t,!0}function Av(t){let e=DO(),n=t[ye];We.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DO(){let t=We.lFrame,e=t===null?null:t.child;return e===null?SO(t):e}function SO(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function AO(){let t=We.lFrame;return We.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var sC=AO;function xv(){let t=AO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xO(t){return(We.lFrame.contextLView=fO(t,We.lFrame.contextLView))[wn]}function Ws(){return We.lFrame.selectedIndex}function ec(t){We.lFrame.selectedIndex=t}function $p(){let t=We.lFrame;return jp(t.tView,t.selectedIndex)}function Rv(){We.lFrame.currentNamespace=BT}function RO(){return We.lFrame.currentNamespace}var MO=!0;function Mv(){return MO}function qp(t){MO=t}function gT(t,e=null,n=null,i){let r=aC(t,e,n,i);return r.resolveInjectorInitializers(),r}function aC(t,e=null,n=null,i,r=new Set){let o=[n||ar,rO(t)];return i=i||(typeof t=="object"?void 0:qs(t)),new Ru(o,e||Td(),i||null,r)}var Lt=class t{static THROW_IF_NOT_FOUND=Su;static NULL=new Op;static create(e,n){if(Array.isArray(e))return gT({name:""},n,e,"");{let i=e.name??"";return gT({name:i},e.parent,e.providers,i)}}static \u0275prov=z({token:t,providedIn:"any",factory:()=>Ee(Un)});static __NG_ELEMENT_ID__=-1},$e=new M(""),xt=(()=>{class t{static __NG_ELEMENT_ID__=c9;static __NG_ENV_ID__=n=>n}return t})(),kp=class extends xt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Uu(this._lView)}onDestroy(e){let n=this._lView;return qT(n,e),()=>pO(n,e)}};function c9(){return new kp(ve())}var Dr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},xi=new M("",{providedIn:"root",factory:()=>{let t=g(Jt),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Dr),e.handleError(n))}}}),NO={provide:Ka,useValue:()=>void g(Dr),multi:!0};function ur(t){return typeof t=="function"&&t[hi]!==void 0}function Y(t,e){let[n,i,r]=zb(t,e?.equal),o=n,s=o[hi];return o.set=i,o.update=r,o.asReadonly=cC.bind(o),o}function cC(){let t=this[hi];if(t.readonlyFn===void 0){let e=()=>this();e[hi]=t,t.readonlyFn=e}return t.readonlyFn}function uC(t){return ur(t)&&typeof t.set=="function"}var lo=class{},Gp=new M("",{providedIn:"root",factory:()=>!1});var lC=new M(""),dC=new M("");var Md=(()=>{class t{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=u9}return t})();function u9(){return new Md(ve(),Dn())}var Wo=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ct(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),ju=(()=>{class t{internalPendingTasks=g(Wo);scheduler=g(lo);errorHandler=g(xi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let i=this.add();n().catch(this.errorHandler).finally(i)}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();function Hu(...t){}var Wp=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>new yT})}return t})(),yT=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,i=this.queues.get(n);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,i]of this.queues)n===null?e||=this.flushQueue(i):e||=n.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}};function Bd(t){return{toString:t}.toString()}var Nv="__parameters__";function g9(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function nD(t,e,n){return Bd(()=>{let i=g9(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return c.annotation=s,c;function c(u,d,f){let m=u.hasOwnProperty(Nv)?u[Nv]:Object.defineProperty(u,Nv,{value:[]})[Nv];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),u}}return r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var nn=vv(nD("Optional"),8),im=vv(nD("Self"),2),Yo=vv(nD("SkipSelf"),4);function y9(t){return typeof t=="function"}var jv=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function mk(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var rn=(()=>{let t=()=>gk;return t.ngInherit=!0,t})();function gk(t){return t.type.prototype.ngOnChanges&&(t.setInput=_9),v9}function v9(){let t=vk(this),e=t?.current;if(e){let n=t.previous;if(n===ho)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function _9(t,e,n,i,r){let o=this.declaredInputs[i],s=vk(t)||E9(t,{previous:ho,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new jv(d&&d.currentValue,n,u===ho),mk(t,e,r,n)}var yk="__ngSimpleChanges__";function vk(t){return t[yk]||null}function E9(t,e){return t[yk]=e}var PO=[];var Nt=function(t,e=null,n){for(let i=0;i<PO.length;i++){let r=PO[i];r(t,e,n)}};function w9(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=gk(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function _k(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Lv(t,e,n){Ek(t,e,3,n)}function Vv(t,e,n,i){(t[Ne]&3)===n&&Ek(t,e,n,i)}function hC(t,e){let n=t[Ne];(n&3)===e&&(n&=16383,n+=1,t[Ne]=n)}function Ek(t,e,n,i){let r=i!==void 0?t[Fu]&65535:0,o=i??-1,s=e.length-1,c=0;for(let u=r;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],i!=null&&c>=i)break}else e[u]<0&&(t[Fu]+=65536),(c<o||o==-1)&&(I9(t,n,e,u),t[Fu]=(t[Fu]&4294901760)+u+2),u++}function OO(t,e){Nt(4,t,e);let n=Me(null);try{e.call(t)}finally{Me(n),Nt(5,t,e)}}function I9(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],c=t[s];r?t[Ne]>>14<t[Fu]>>16&&(t[Ne]&3)===e&&(t[Ne]+=16384,OO(c,o)):OO(c,o)}var Pd=-1,$u=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=i}};function b9(t){return(t.flags&8)!==0}function T9(t){return(t.flags&16)!==0}function C9(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],c=n[i++];t.setAttribute(e,s,c,o)}else{let o=r,s=n[++i];D9(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function wk(t){return t===3||t===4||t===6}function D9(t){return t.charCodeAt(0)===64}function Od(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?kO(t,n,r,null,e[++i]):kO(t,n,r,null,null))}}return t}function kO(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){r!==null&&(t[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r)}function Ik(t){return t!==Pd}function Hv(t){return t&32767}function S9(t){return t>>16}function zv(t,e){let n=S9(t),i=e;for(;n>0;)i=i[ku],n--;return i}var bC=!0;function $v(t){let e=bC;return bC=t,e}var A9=256,bk=A9-1,Tk=5,x9=0,Ko={};function R9(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Nu)&&(i=n[Nu]),i==null&&(i=n[Nu]=x9++);let r=i&bk,o=1<<r;e.data[t+(r>>Tk)]|=o}function qv(t,e){let n=Ck(t,e);if(n!==-1)return n;let i=e[ye];i.firstCreatePass&&(t.injectorIndex=e.length,fC(i.data,t),fC(e,null),fC(i.blueprint,null));let r=iD(t,e),o=t.injectorIndex;if(Ik(r)){let s=Hv(r),c=zv(r,e),u=c[ye].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=r,o}function fC(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ck(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function iD(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=Rk(r),i===null)return Pd;if(n++,r=r[ku],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Pd}function TC(t,e,n){R9(t,e,n)}function M9(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(wk(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function Dk(t,e,n){if(n&8||t!==void 0)return t;yv(e,"NodeInjector")}function Sk(t,e,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let r=t[Ou],o=Di(void 0);try{return r?r.get(e,i,n&8):xT(e,i,n&8)}finally{Di(o)}}return Dk(i,e,n)}function Ak(t,e,n,i=0,r){if(t!==null){if(e[Ne]&2048&&!(i&2)){let s=k9(t,e,n,i,Ko);if(s!==Ko)return s}let o=xk(t,e,n,i,Ko);if(o!==Ko)return o}return Sk(e,n,i,r)}function xk(t,e,n,i,r){let o=P9(n);if(typeof o=="function"){if(!oC(e,t,i))return i&1?Dk(r,n,i):Sk(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&8))yv(n);else return s}finally{sC()}}else if(typeof o=="number"){let s=null,c=Ck(t,e),u=Pd,d=i&1?e[Ai][Si]:null;for((c===-1||i&4)&&(u=c===-1?iD(t,e):e[c+8],u===Pd||!LO(i,!1)?c=-1:(s=e[ye],c=Hv(u),e=zv(u,e)));c!==-1;){let f=e[ye];if(FO(o,c,f.data)){let m=N9(c,e,n,s,i,d);if(m!==Ko)return m}u=e[c+8],u!==Pd&&LO(i,e[ye].data[c+8]===d)&&FO(o,c,e)?(s=f,c=Hv(u),e=zv(u,e)):c=-1}}return r}function N9(t,e,n,i,r,o){let s=e[ye],c=s.data[t+8],u=i==null?Za(c)&&bC:i!=s&&(c.type&3)!==0,d=r&1&&o===c,f=Uv(c,s,n,u,d);return f!==null?Yp(e,s,f,c,r):Ko}function Uv(t,e,n,i,r){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,d=t.directiveEnd,f=o>>20,m=i?c:c+f,y=r?c+f:d;for(let _=m;_<y;_++){let C=s[_];if(_<u&&n===C||_>=u&&C.type===n)return _}if(r){let _=s[u];if(_&&mo(_)&&_.type===n)return u}return null}function Yp(t,e,n,i,r){let o=t[n],s=e.data;if(o instanceof $u){let c=o;if(c.resolving){let _=fv(s[n]);throw AT(_)}let u=$v(c.canSeeViewProviders);c.resolving=!0;let d=s[n].type||s[n],f,m=c.injectImpl?Di(c.injectImpl):null,y=oC(t,i,0);try{o=t[n]=c.factory(void 0,r,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&w9(n,s[n],e)}finally{m!==null&&Di(m),$v(u),c.resolving=!1,sC()}}return o}function P9(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Nu)?t[Nu]:void 0;return typeof e=="number"?e>=0?e&bk:O9:e}function FO(t,e,n){let i=1<<t;return!!(n[e+(t>>Tk)]&i)}function LO(t,e){return!(t&2)&&!(t&1&&e)}var zu=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return Ak(this._tNode,this._lView,e,Au(i),n)}};function O9(){return new zu(Dn(),ve())}function Be(t){return Bd(()=>{let e=t.prototype.constructor,n=e[Pp]||CC(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Pp]||CC(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function CC(t){return _T(t)?()=>{let e=CC(Ln(t));return e&&e()}:$a(t)}function k9(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[Ne]&2048&&!Ad(s);){let c=xk(o,s,n,i|2,Ko);if(c!==Ko)return c;let u=o.parent;if(!u){let d=s[LT];if(d){let f=d.get(n,Ko,i);if(f!==Ko)return f}u=Rk(s),s=s[ku]}o=u}return r}function Rk(t){let e=t[ye],n=e.type;return n===2?e.declTNode:n===1?t[Si]:null}function rm(t){return M9(Dn(),t)}function F9(){return jd(Dn(),ve())}function jd(t,e){return new Je(go(t,e))}var Je=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=F9}return t})();function L9(t){return t instanceof Je?t.nativeElement:t}function V9(){return this._results[Symbol.iterator]()}var kd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new at}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=JP(e);(this._changesDetected=!XP(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=V9};function Mk(t){return(t.flags&128)===128}var rD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rD||{}),Nk=new Map,U9=0;function B9(){return U9++}function j9(t){Nk.set(t[Up],t)}function DC(t){Nk.delete(t[Up])}var VO="__ngContext__";function Fd(t,e){qo(e)?(t[VO]=e[Up],j9(e)):t[VO]=e}function Pk(t){return kk(t[Dd])}function Ok(t){return kk(t[xr])}function kk(t){for(;t!==null&&!po(t);)t=t[xr];return t}var SC;function oD(t){SC=t}function sD(){if(SC!==void 0)return SC;if(typeof document<"u")return document;throw new q(210,!1)}var a_=new M("",{providedIn:"root",factory:()=>H9}),H9="ng",c_=new M(""),pi=new M("",{providedIn:"platform",factory:()=>"unknown"});var u_=new M(""),l_=new M("",{providedIn:"root",factory:()=>sD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var z9="h",$9="b";var Fk="r";var Lk="di";var Vk=!1,Uk=new M("",{providedIn:"root",factory:()=>Vk});var q9=(t,e,n,i)=>{};function G9(t,e,n,i){q9(t,e,n,i)}function d_(t){return(t.flags&32)===32}var W9=()=>null;function Bk(t,e,n=!1){return W9(t,e,n)}function jk(t,e){let n=t.contentQueries;if(n!==null){let i=Me(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let c=t.data[s];Sv(o),c.contentQueries(2,e[s],s)}}}finally{Me(i)}}}function AC(t,e,n){Sv(0);let i=Me(null);try{e(t,n)}finally{Me(i)}}function aD(t,e,n){if(UT(e)){let i=Me(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{Me(i)}}}var Ks=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ks||{}),Pv;function K9(){if(Pv===void 0&&(Pv=null,Mu.trustedTypes))try{Pv=Mu.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pv}function h_(t){return K9()?.createHTML(t)||t}var Ov;function Hk(){if(Ov===void 0&&(Ov=null,Mu.trustedTypes))try{Ov=Mu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ov}function UO(t){return Hk()?.createHTML(t)||t}function BO(t){return Hk()?.createScriptURL(t)||t}var Gv=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mv})`}};function Hd(t){return t instanceof Gv?t.changingThisBreaksApplicationSecurity:t}function f_(t,e){let n=zk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mv})`)}return n===e}function zk(t){return t instanceof Gv&&t.getTypeName()||null}function Q9(t){let e=new RC(t);return Y9()?new xC(e):e}var xC=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(h_(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},RC=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=h_(e),n}};function Y9(){try{return!!new window.DOMParser().parseFromString(h_(""),"text/html")}catch{return!1}}var Z9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cD(t){return t=String(t),t.match(Z9)?t:"unsafe:"+t}function Qs(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function om(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var $k=Qs("area,br,col,hr,img,wbr"),qk=Qs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gk=Qs("rp,rt"),X9=om(Gk,qk),J9=om(qk,Qs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eq=om(Gk,Qs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jO=om($k,J9,eq,X9),Wk=Qs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tq=Qs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nq=Qs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),iq=om(Wk,tq,nq),rq=Qs("script,style,template"),MC=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=aq(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=sq(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=HO(e).toLowerCase();if(!jO.hasOwnProperty(n))return this.sanitizedSomething=!0,!rq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,c=s.toLowerCase();if(!iq.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;Wk[c]&&(u=cD(u)),this.buf.push(" ",s,'="',zO(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=HO(e).toLowerCase();jO.hasOwnProperty(n)&&!$k.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(zO(e))}};function oq(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function sq(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Kk(e);return e}function aq(t){let e=t.firstChild;if(e&&oq(t,e))throw Kk(e);return e}function HO(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Kk(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var cq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uq=/([^\#-~ |!])/g;function zO(t){return t.replace(/&/g,"&amp;").replace(cq,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(uq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var kv;function Qk(t,e){let n=null;try{kv=kv||Q9(t);let i=e?String(e):"";n=kv.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=kv.getInertBodyElement(i)}while(i!==o);let c=new MC().sanitizeChildren($O(n)||n);return h_(c)}finally{if(n){let i=$O(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function $O(t){return"content"in t&&lq(t)?t.content:null}function lq(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var sm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sm||{});function am(t){let e=lD();return e?UO(e.sanitize(sm.HTML,t)||""):f_(t,"HTML")?UO(Hd(t)):Qk(sD(),Wa(t))}function p_(t){let e=lD();return e?e.sanitize(sm.URL,t)||"":f_(t,"URL")?Hd(t):cD(Wa(t))}function Yk(t){let e=lD();if(e)return BO(e.sanitize(sm.RESOURCE_URL,t)||"");if(f_(t,"ResourceURL"))return BO(Hd(t));throw new q(904,!1)}function dq(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Yk:p_}function uD(t,e,n){return dq(e,n)(t)}function lD(){let t=ve();return t&&t[zo].sanitizer}var hq=/^>|^->|<!--|-->|--!>|<!-$/g,fq=/(<|>)/g,pq="\u200B$1\u200B";function mq(t){return t.replace(hq,e=>e.replace(fq,pq))}function dD(t){return t.ownerDocument.defaultView}function Pr(t){return t.ownerDocument}function Zk(t){return t instanceof Function?t():t}function gq(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}var Xk="ng-template";function yq(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&gq(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(hD(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function hD(t){return t.type===4&&t.value!==Xk}function vq(t,e,n){let i=t.type===4&&!n?Xk:t.value;return e===i}function _q(t,e,n){let i=4,r=t.attrs,o=r!==null?Iq(r):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!yo(i)&&!yo(u))return!1;if(s&&yo(u))continue;s=!1,i=u|i&1;continue}if(!s)if(i&4){if(i=2|i&1,u!==""&&!vq(t,u,n)||u===""&&e.length===1){if(yo(i))return!1;s=!0}}else if(i&8){if(r===null||!yq(t,r,u,n)){if(yo(i))return!1;s=!0}}else{let d=e[++c],f=Eq(u,r,hD(t),n);if(f===-1){if(yo(i))return!1;s=!0;continue}if(d!==""){let m;if(f>o?m="":m=r[f+1].toLowerCase(),i&2&&d!==m){if(yo(i))return!1;s=!0}}}}return yo(i)||s}function yo(t){return(t&1)===0}function Eq(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++r];for(;typeof c=="string";)c=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return bq(e,t)}function Jk(t,e,n=!1){for(let i=0;i<e.length;i++)if(_q(t,e[i],n))return!0;return!1}function wq(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function Iq(t){for(let e=0;e<t.length;e++){let n=t[e];if(wk(n))return e}return t.length}function bq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Tq(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function qO(t,e){return t?":not("+e.trim()+")":e}function Cq(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let c=t[++n];r+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!yo(s)&&(e+=qO(o,r),r=""),i=s,o=o||!yo(i);n++}return r!==""&&(e+=qO(o,r)),e}function Dq(t){return t.map(Cq).join(",")}function Sq(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!yo(r))break;r=o}i++}return n.length&&e.push(1,...n),e}var Or={};function Aq(t,e){return t.createText(e)}function xq(t,e,n){t.setValue(e,n)}function Rq(t,e){return t.createComment(mq(e))}function eF(t,e,n){return t.createElement(e,n)}function Wv(t,e,n,i,r){t.insertBefore(e,n,i,r)}function tF(t,e,n){t.appendChild(e,n)}function GO(t,e,n,i,r){i!==null?Wv(t,e,n,i,r):tF(t,e,n)}function nF(t,e,n){t.removeChild(null,e,n)}function Mq(t,e,n){t.setAttribute(e,"style",n)}function Nq(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function iF(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&C9(t,e,i),r!==null&&Nq(t,e,r),o!==null&&Mq(t,e,o)}function fD(t,e,n,i,r,o,s,c,u,d,f){let m=Mt+i,y=m+r,_=Pq(m,y),C=typeof d=="function"?d():d;return _[ye]={type:t,blueprint:_,template:n,queries:null,viewQuery:c,declTNode:e,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:f}}function Pq(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Or);return n}function Oq(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=fD(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pD(t,e,n,i,r,o,s,c,u,d,f){let m=e.blueprint.slice();return m[fo]=r,m[Ne]=i|4|128|8|64|1024,(d!==null||t&&t[Ne]&2048)&&(m[Ne]|=2048),zT(m),m[Vn]=m[ku]=t,m[wn]=n,m[zo]=s||t&&t[zo],m[Kt]=c||t&&t[Kt],m[Ou]=u||t&&t[Ou]||null,m[Si]=o,m[Up]=B9(),m[Pu]=f,m[LT]=d,m[Ai]=e.type==2?t[Ai]:m,m}function kq(t,e,n){let i=go(e,t),r=Oq(n),o=t[zo].rendererFactory,s=mD(t,pD(t,r,null,rF(n),i,e,null,o.createRenderer(i,n),null,null,null));return t[e.index]=s}function rF(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function oF(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function mD(t,e){return t[Dd]?t[FT][xr]=e:t[Dd]=e,t[FT]=e,e}function V(t=1){sF(hn(),ve(),Ws()+t,!1)}function sF(t,e,n,i){if(!i)if((e[Ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Lv(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Vv(e,o,0,n)}ec(n)}var m_=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(m_||{});function NC(t,e,n,i){let r=Me(null);try{let[o,s,c]=t.inputs[n],u=null;(s&m_.SignalBased)!==0&&(u=e[o][hi]),u!==null&&u.transformFn!==void 0?i=u.transformFn(i):c!==null&&(i=c.call(e,i)),t.setInput!==null?t.setInput(e,u,i,n,o):mk(e,u,o,i)}finally{Me(r)}}var Qo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qo||{}),Fq;function gD(t,e){return Fq(t,e)}function Nd(t,e,n,i,r){if(i!=null){let o,s=!1;po(i)?o=i:qo(i)&&(s=!0,i=i[fo]);let c=Rr(i);t===0&&n!==null?r==null?tF(e,n,c):Wv(e,n,c,r||null,!0):t===1&&n!==null?Wv(e,n,c,r||null,!0):t===2?nF(e,c,s):t===3&&e.destroyNode(c),o!=null&&Gq(e,t,o,n,r)}}function Lq(t,e){aF(t,e),e[fo]=null,e[Si]=null}function Vq(t,e,n,i,r,o){i[fo]=r,i[Si]=e,y_(t,i,n,1,r,o)}function aF(t,e){e[zo].changeDetectionScheduler?.notify(9),y_(t,e,e[Kt],2,null,null)}function Uq(t){let e=t[Dd];if(!e)return pC(t[ye],t);for(;e;){let n=null;if(qo(e))n=e[Dd];else{let i=e[$n];i&&(n=i)}if(!n){for(;e&&!e[xr]&&e!==t;)qo(e)&&pC(e[ye],e),e=e[Vn];e===null&&(e=t),qo(e)&&pC(e[ye],e),n=e&&e[xr]}e=n}}function yD(t,e){let n=t[Vu],i=n.indexOf(e);n.splice(i,1)}function g_(t,e){if(Uu(e))return;let n=e[Kt];n.destroyNode&&y_(t,e,n,3,null,null),Uq(e)}function pC(t,e){if(Uu(e))return;let n=Me(null);try{e[Ne]&=-129,e[Ne]|=256,e[cr]&&wu(e[cr]),jq(t,e),Bq(t,e),e[ye].type===1&&e[Kt].destroy();let i=e[Qa];if(i!==null&&po(e[Vn])){i!==e[Vn]&&yD(i,e);let r=e[$o];r!==null&&r.detachView(t)}DC(e)}finally{Me(n)}}function Bq(t,e){let n=t.cleanup,i=e[Cd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?i[c]():i[-c].unsubscribe(),s+=2}else{let c=i[n[s+1]];n[s].call(c)}i!==null&&(e[Cd]=null);let r=e[$s];if(r!==null){e[$s]=null;for(let s=0;s<r.length;s++){let c=r[s];c()}}let o=e[Gs];if(o!==null){e[Gs]=null;for(let s of o)s.destroy()}}function jq(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof $u)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=r[o[s]],u=o[s+1];Nt(4,c,u);try{u.call(c)}finally{Nt(5,c,u)}}else{Nt(4,r,o);try{o.call(r)}finally{Nt(5,r,o)}}}}}function cF(t,e,n){return Hq(t,e.parent,n)}function Hq(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[fo];if(Za(i)){let{encapsulation:r}=t.data[i.directiveStart+i.componentOffset];if(r===Ks.None||r===Ks.Emulated)return null}return go(i,n)}function uF(t,e,n){return $q(t,e,n)}function zq(t,e,n){return t.type&40?go(t,n):null}var $q=zq,WO;function vD(t,e,n,i){let r=cF(t,i,e),o=e[Kt],s=i.parent||e[Si],c=uF(s,i,e);if(r!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)GO(o,r,n[u],c,!1);else GO(o,r,n,c,!1);WO!==void 0&&WO(o,i,e,n,r)}function Kp(t,e){if(e!==null){let n=e.type;if(n&3)return go(e,t);if(n&4)return PC(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Kp(t,i);{let r=t[e.index];return po(r)?PC(-1,r):Rr(r)}}else{if(n&128)return Kp(t,e.next);if(n&32)return gD(e,t)()||Rr(t[e.index]);{let i=lF(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=qa(t[Ai]);return Kp(r,i)}else return Kp(t,e.next)}}}return null}function lF(t,e){if(e!==null){let i=t[Ai][Si],r=e.projection;return i.projection[r]}return null}function PC(t,e){let n=$n+t+1;if(n<e.length){let i=e[n],r=i[ye].firstChild;if(r!==null)return Kp(i,r)}return e[Ya]}function _D(t,e,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=i[n.index],u=n.type;if(s&&e===0&&(c&&Fd(Rr(c),i),n.flags|=2),!d_(n))if(u&8)_D(t,e,n.child,i,r,o,!1),Nd(e,t,r,c,o);else if(u&32){let d=gD(n,i),f;for(;f=d();)Nd(e,t,r,f,o);Nd(e,t,r,c,o)}else u&16?dF(t,e,i,n,r,o):Nd(e,t,r,c,o);n=s?n.projectionNext:n.next}}function y_(t,e,n,i,r,o){_D(n,i,t.firstChild,e,r,o,!1)}function qq(t,e,n){let i=e[Kt],r=cF(t,n,e),o=n.parent||e[Si],s=uF(o,n,e);dF(i,0,e,n,r,s)}function dF(t,e,n,i,r,o){let s=n[Ai],u=s[Si].projection[i.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];Nd(e,t,r,f,o)}else{let d=u,f=s[Vn];Mk(i)&&(d.flags|=128),_D(t,e,d,f,r,o,!0)}}function Gq(t,e,n,i,r){let o=n[Ya],s=Rr(n);o!==s&&Nd(e,t,i,o,r);for(let c=$n;c<n.length;c++){let u=n[c];y_(u[ye],u,t,e,i,o)}}function Wq(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Qo.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Qo.Important),t.setStyle(n,i,r,o))}}function hF(t,e,n,i,r){let o=Ws(),s=i&2;try{ec(-1),s&&e.length>Mt&&sF(t,e,Mt,!1),Nt(s?2:0,r,n),n(i,r)}finally{ec(o),Nt(s?3:1,r,n)}}function v_(t,e,n){Jq(t,e,n),(n.flags&64)===64&&eG(t,e,n)}function zd(t,e,n=go){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],c=s===-1?n(e,t):t[s];t[r++]=c}}}function Kq(t,e,n,i){let o=i.get(Uk,Vk)||n===Ks.ShadowDom,s=t.selectRootElement(e,o);return Qq(s),s}function Qq(t){Yq(t)}var Yq=()=>null;function Zq(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fF(t,e,n,i,r,o){let s=e[ye];if(wD(t,s,e,n,i)){Za(t)&&Xq(e,t.index);return}t.type&3&&(n=Zq(n)),pF(t,e,n,i,r,o)}function pF(t,e,n,i,r,o){if(t.type&3){let s=go(t,e);i=o!=null?o(i,t.value||"",n):i,r.setProperty(s,n,i)}else t.type&12}function Xq(t,e){let n=Mr(e,t);n[Ne]&16||(n[Ne]|=64)}function Jq(t,e,n){let i=n.directiveStart,r=n.directiveEnd;Za(n)&&kq(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qv(n,e);let o=n.initialInputs;for(let s=i;s<r;s++){let c=t.data[s],u=Yp(e,t,s,n);if(Fd(u,e),o!==null&&rG(e,s-i,u,c,n,o),mo(c)){let d=Mr(n.index,e);d[wn]=Yp(e,t,s,n)}}}function eG(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=TO();try{ec(o);for(let c=i;c<r;c++){let u=t.data[c],d=e[c];Dv(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&tG(u,d)}}finally{ec(-1),Dv(s)}}function tG(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ED(t,e){let n=t.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];Jk(e,o.selectors,!1)&&(i??=[],mo(o)?i.unshift(o):i.push(o))}return i}function nG(t,e,n,i,r,o){let s=go(t,e);iG(e[Kt],s,o,t.value,n,i,r)}function iG(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let c=s==null?Wa(o):s(o,i||"",r);t.setAttribute(e,r,c,n)}}function rG(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1];NC(i,n,u,d)}}function __(t,e,n,i,r){let o=Mt+n,s=e[ye],c=r(s,e,t,i,n);e[o]=c,xd(t,!0);let u=t.type===2;return u?(iF(e[Kt],c,t),(gO()===0||Sd(t))&&Fd(c,e),yO()):Fd(c,e),Mv()&&(!u||!d_(t))&&vD(s,e,c,t),t}function E_(t){let e=t;return JT()?eC():(e=e.parent,xd(e,!1)),e}function oG(t,e){let n=t[Ou];if(!n)return;n.get(xi,null)?.(e)}function wD(t,e,n,i,r){let o=t.inputs?.[i],s=t.hostDirectiveInputs?.[i],c=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],f=s[u+1],m=e.data[d];NC(m,n[d],f,r),c=!0}if(o)for(let u of o){let d=n[u],f=e.data[u];NC(f,d,i,r),c=!0}return c}function sG(t,e){let n=Mr(e,t),i=n[ye];aG(i,n);let r=n[fo];r!==null&&n[Pu]===null&&(n[Pu]=Bk(r,n[Ou])),Nt(18),ID(i,n,n[wn]),Nt(19,n[wn])}function aG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ID(t,e,n){Av(e);try{let i=t.viewQuery;i!==null&&AC(1,i,n);let r=t.template;r!==null&&hF(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[$o]?.finishViewCreation(t),t.staticContentQueries&&jk(t,e),t.staticViewQueries&&AC(2,t.viewQuery,n);let o=t.components;o!==null&&cG(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Ne]&=-5,xv()}}function cG(t,e){for(let n=0;n<e.length;n++)sG(t,e[n])}function cm(t,e,n,i){let r=Me(null);try{let o=e.tView,c=t[Ne]&4096?4096:16,u=pD(t,o,n,c,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),d=t[e.index];u[Qa]=d;let f=t[$o];return f!==null&&(u[$o]=f.createEmbeddedView(o)),ID(o,u,n),u}finally{Me(r)}}function Ld(t,e){return!e||e.firstChild===null||Mk(t)}var KO=!1,uG=new M("");function Zp(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(Rr(o)),po(o)&&mF(o,i);let s=n.type;if(s&8)Zp(t,e,n.child,i);else if(s&32){let c=gD(n,e),u;for(;u=c();)i.push(u)}else if(s&16){let c=lF(e,n);if(Array.isArray(c))i.push(...c);else{let u=qa(e[Ai]);Zp(u[ye],u,c,i,!0)}}n=r?n.projectionNext:n.next}return i}function mF(t,e){for(let n=$n;n<t.length;n++){let i=t[n],r=i[ye].firstChild;r!==null&&Zp(i[ye],i,r,e)}t[Ya]!==t[fo]&&e.push(t[Ya])}function gF(t){if(t[Lu]!==null){for(let e of t[Lu])e.impl.addSequence(e);t[Lu].length=0}}var yF=[];function lG(t){return t[cr]??dG(t)}function dG(t){let e=yF.pop()??Object.create(fG);return e.lView=t,e}function hG(t){t.lView[cr]!==t&&(t.lView=null,yF.push(t))}var fG=oe(O({},ka),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Xa(t.lView)},consumerOnSignalRead(){this.lView[cr]=this}});function pG(t){let e=t[cr]??Object.create(mG);return e.lView=t,e}var mG=oe(O({},ka),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=qa(t.lView);for(;e&&!vF(e[ye]);)e=qa(e);e&&$T(e)},consumerOnSignalRead(){this.lView[cr]=this}});function vF(t){return t.type!==2}function _F(t){if(t[Gs]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[Gs])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[Ne]&8192)}}var gG=100;function bD(t,e=0){let i=t[zo].rendererFactory,r=!1;r||i.begin?.();try{yG(t,e)}finally{r||i.end?.()}}function yG(t,e){let n=nC();try{Rd(!0),OC(t,e);let i=0;for(;Hp(t);){if(i===gG)throw new q(103,!1);i++,OC(t,1)}}finally{Rd(n)}}function EF(t,e){tC(e?zp.Exhaustive:zp.OnlyDirtyViews);try{bD(t)}finally{tC(zp.Off)}}function vG(t,e,n,i){if(Uu(e))return;let r=e[Ne],o=!1,s=!1;Av(e);let c=!0,u=null,d=null;o||(vF(t)?(d=lG(e),u=Fa(d)):ky()===null?(c=!1,d=pG(e),u=Fa(d)):e[cr]&&(wu(e[cr]),e[cr]=null));try{zT(e),wO(t.bindingStartIndex),n!==null&&hF(t,e,n,2,i);let f=(r&3)===3;if(!o)if(f){let _=t.preOrderCheckHooks;_!==null&&Lv(e,_,null)}else{let _=t.preOrderHooks;_!==null&&Vv(e,_,0,null),hC(e,0)}if(s||_G(e),_F(e),wF(e,0),t.contentQueries!==null&&jk(t,e),!o)if(f){let _=t.contentCheckHooks;_!==null&&Lv(e,_)}else{let _=t.contentHooks;_!==null&&Vv(e,_,1),hC(e,1)}wG(t,e);let m=t.components;m!==null&&bF(e,m,0);let y=t.viewQuery;if(y!==null&&AC(2,y,i),!o)if(f){let _=t.viewCheckHooks;_!==null&&Lv(e,_)}else{let _=t.viewHooks;_!==null&&Vv(e,_,2),hC(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Iv]){for(let _ of e[Iv])_();e[Iv]=null}o||(gF(e),e[Ne]&=-73)}catch(f){throw o||Xa(e),f}finally{d!==null&&(Eu(d,u),c&&hG(d)),xv()}}function wF(t,e){for(let n=Pk(t);n!==null;n=Ok(n))for(let i=$n;i<n.length;i++){let r=n[i];IF(r,e)}}function _G(t){for(let e=Pk(t);e!==null;e=Ok(e)){if(!(e[Ne]&2))continue;let n=e[Vu];for(let i=0;i<n.length;i++){let r=n[i];$T(r)}}}function EG(t,e,n){Nt(18);let i=Mr(e,t);IF(i,n),Nt(19,i[wn])}function IF(t,e){bv(t)&&OC(t,e)}function OC(t,e){let i=t[ye],r=t[Ne],o=t[cr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&rd(o)),s||=!1,o&&(o.dirty=!1),t[Ne]&=-9217,s)vG(i,t,i.template,t[wn]);else if(r&8192){let c=Me(null);try{_F(t),wF(t,1);let u=i.components;u!==null&&bF(t,u,1),gF(t)}finally{Me(c)}}}function bF(t,e,n){for(let i=0;i<e.length;i++)EG(t,e[i],n)}function wG(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ec(~r);else{let o=r,s=n[++i],c=n[++i];bO(s,o);let u=e[o];Nt(24,u),c(2,u),Nt(25,u)}}}finally{ec(-1)}}function TD(t,e){let n=nC()?64:1088;for(t[zo].changeDetectionScheduler?.notify(e);t;){t[Ne]|=n;let i=qa(t);if(Ad(t)&&!i)return t;t=i}return null}function TF(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function CF(t,e){let n=$n+e;if(n<t.length)return t[n]}function um(t,e,n,i=!0){let r=e[ye];if(IG(r,e,t,n),i){let s=PC(n,t),c=e[Kt],u=c.parentNode(t[Ya]);u!==null&&Vq(r,t[Si],c,e,u,s)}let o=e[Pu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function DF(t,e){let n=Xp(t,e);return n!==void 0&&g_(n[ye],n),n}function Xp(t,e){if(t.length<=$n)return;let n=$n+e,i=t[n];if(i){let r=i[Qa];r!==null&&r!==t&&yD(r,i),e>0&&(t[n-1][xr]=i[xr]);let o=Lp(t,$n+e);Lq(i[ye],i);let s=o[$o];s!==null&&s.detachView(o[ye]),i[Vn]=null,i[xr]=null,i[Ne]&=-129}return i}function IG(t,e,n,i){let r=$n+i,o=n.length;i>0&&(n[r-1][xr]=e),i<o-$n?(e[xr]=n[r],RT(n,$n+i,e)):(n.push(e),e[xr]=null),e[Vn]=n;let s=e[Qa];s!==null&&n!==s&&SF(s,e);let c=e[$o];c!==null&&c.insertView(t),Tv(e),e[Ne]|=128}function SF(t,e){let n=t[Vu],i=e[Vn];if(qo(i))t[Ne]|=2;else{let r=i[Vn][Ai];e[Ai]!==r&&(t[Ne]|=2)}n===null?t[Vu]=[e]:n.push(e)}var tc=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ye];return Zp(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[wn]}set context(e){this._lView[wn]=e}get destroyed(){return Uu(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vn];if(po(e)){let n=e[Bp],i=n?n.indexOf(this):-1;i>-1&&(Xp(e,i),Lp(n,i))}this._attachedToViewContainer=!1}g_(this._lView[ye],this._lView)}onDestroy(e){qT(this._lView,e)}markForCheck(){TD(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ne]&=-129}reattach(){Tv(this._lView),this._lView[Ne]|=128}detectChanges(){this._lView[Ne]|=1024,bD(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ou].get(uG,KO)}catch{this.exhaustive=KO}}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ad(this._lView),n=this._lView[Qa];n!==null&&!e&&yD(n,this._lView),aF(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let n=Ad(this._lView),i=this._lView[Qa];i!==null&&!n&&SF(i,this._lView),Tv(this._lView)}};var Qt=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=bG;constructor(n,i,r){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,r){let o=cm(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:r});return new tc(o)}}return t})();function bG(){return w_(Dn(),ve())}function w_(t,e){return t.type&4?new Qt(e,t,jd(t,e)):null}function $d(t,e,n,i,r){let o=t.data[e];if(o===null)o=TG(t,e,n,i,r),IO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=vO();o.injectorIndex=s===null?-1:s.injectorIndex}return xd(o,!0),o}function TG(t,e,n,i,r){let o=XT(),s=JT(),c=s?o:o&&o.parent,u=t.data[e]=DG(t,c,n,e,i,r);return CG(t,u,o,s),u}function CG(t,e,n,i){t.firstChild===null&&(t.firstChild=e),n!==null&&(i?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function DG(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,c=0;return QT()&&(c|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var V0e=new RegExp(`^(\\d+)*(${$9}|${z9})*(.*)`);function SG(t){let e=t[VT]??[],i=t[Vn][Kt],r=[];for(let o of e)o.data[Lk]!==void 0?r.push(o):AG(o,i);t[VT]=r}function AG(t,e){let n=0,i=t.firstChild;if(i){let r=t.data[Fk];for(;n<r;){let o=i.nextSibling;nF(e,i,!1),i=o,n++}}}var xG=()=>null,RG=()=>null;function Kv(t,e){return xG(t,e)}function AF(t,e,n){return RG(t,e,n)}var xF=class{},I_=class{},kC=class{resolveComponentFactory(e){throw new q(917,!1)}},lm=class{static NULL=new kC},vo=class{},Zo=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>MG()}return t})();function MG(){let t=ve(),e=Dn(),n=Mr(e.index,t);return(qo(n)?n:t)[Kt]}var RF=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();var Bv={},FC=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){let r=this.injector.get(e,Bv,i);return r!==Bv||n===Bv?r:this.parentInjector.get(e,n,i)}};function Qv(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)r=vT(r,c);else if(o==2){let u=c,d=e[++s];i=vT(i,u+": "+d+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function Le(t,e=0){let n=ve();if(n===null)return Ee(t,e);let i=Dn();return Ak(i,n,Ln(t),e)}function b_(){let t="invalid";throw new Error(t)}function MF(t,e,n,i,r){let o=i===null?null:{"":-1},s=r(t,n);if(s!==null){let c=s,u=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,d]=f.resolveHostDirectives(s);break}OG(t,e,n,c,o,u,d)}o!==null&&i!==null&&NG(n,i,o)}function NG(t,e,n){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new q(-301,!1);i.push(e[r],o)}}function PG(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function OG(t,e,n,i,r,o,s){let c=i.length,u=!1;for(let y=0;y<c;y++){let _=i[y];!u&&mo(_)&&(u=!0,PG(t,n,y)),TC(qv(n,e),t,_.type)}BG(n,t.data.length,c);for(let y=0;y<c;y++){let _=i[y];_.providersResolver&&_.providersResolver(_)}let d=!1,f=!1,m=oF(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let _=i[y];if(n.mergedAttrs=Od(n.mergedAttrs,_.hostAttrs),FG(t,n,e,m,_),UG(m,_,r),s!==null&&s.has(_)){let[R,N]=s.get(_);n.directiveToIndex.set(_.type,[m,R+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(_))&&n.directiveToIndex.set(_.type,m);_.contentQueries!==null&&(n.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(n.flags|=64);let C=_.type.prototype;!d&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),m++}kG(t,n,o)}function kG(t,e,n){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=t.data[i];if(n===null||!n.has(r))QO(0,e,r,i),QO(1,e,r,i),ZO(e,i,!1);else{let o=n.get(r);YO(0,e,o,i),YO(1,e,o,i),ZO(e,i,!0)}}}function QO(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),NF(e,o)}}function YO(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(i,o),NF(e,s)}}function NF(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function ZO(t,e,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=t;if(i===null||!n&&r===null||n&&o===null||hD(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<i.length;){let u=i[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&r.hasOwnProperty(u)){let d=r[u];for(let f of d)if(f===e){s??=[],s.push(u,i[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let d=o[u];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],i[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function FG(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=$a(r.type,!0)),s=new $u(o,mo(r),Le,null);t.blueprint[i]=s,n[i]=s,LG(t,e,i,oF(t,n,r.hostVars,Or),r)}function LG(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;VG(s)!=c&&s.push(c),s.push(n,i,o)}}function VG(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function UG(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;mo(e)&&(n[""]=t)}}function BG(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CD(t,e,n,i,r,o,s,c){let u=e[ye],d=u.consts,f=Nr(d,s),m=$d(u,t,n,i,f);return o&&MF(u,e,m,Nr(d,c),r),m.mergedAttrs=Od(m.mergedAttrs,m.attrs),m.attrs!==null&&Qv(m,m.attrs,!1),m.mergedAttrs!==null&&Qv(m,m.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,m),m}function DD(t,e){_k(t,e),UT(e)&&t.queries.elementEnd(e)}function PF(t,e,n,i,r,o){let s=e.consts,c=Nr(s,r),u=$d(e,t,n,i,c);if(u.mergedAttrs=Od(u.mergedAttrs,u.attrs),o!=null){let d=Nr(s,o);u.localNames=[];for(let f=0;f<d.length;f+=2)u.localNames.push(d[f],-1)}return u.attrs!==null&&Qv(u,u.attrs,!1),u.mergedAttrs!==null&&Qv(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function SD(t){return kF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function OF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function kF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Gu(t,e,n){return t[e]=n}function FF(t,e){return t[e]}function Wi(t,e,n){if(n===Or)return!1;let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Vd(t,e,n,i){let r=Wi(t,e,n);return Wi(t,e+1,i)||r}function jG(t,e,n,i,r){let o=Vd(t,e,n,i);return Wi(t,e+2,r)||o}function AD(t,e,n,i,r,o){let s=Vd(t,e,n,i);return Vd(t,e+2,r,o)||s}function mC(t,e,n){return function i(r){let o=Za(t)?Mr(t.index,e):e;TD(o,5);let s=e[wn],c=XO(e,s,n,r),u=i.__ngNextListenerFn__;for(;u;)c=XO(e,s,u,r)&&c,u=u.__ngNextListenerFn__;return c}}function XO(t,e,n,i){let r=Me(null);try{return Nt(6,e,n),n(i)!==!1}catch(o){return oG(t,o),!1}finally{Nt(7,e,n),Me(r)}}function HG(t,e,n,i,r,o,s,c){let u=Sd(t),d=!1,f=null;if(!i&&u&&(f=zG(e,n,o,t.index)),f!==null){let m=f.__ngLastListenerFn__||f;m.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let m=go(t,n),y=i?i(m):m;G9(n,y,o,c);let _=r.listen(y,o,c),C=i?R=>i(Rr(R[t.index])):t.index;LF(C,e,n,o,c,_,!1)}return d}function zG(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let c=e[Cd],u=r[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function LF(t,e,n,i,r,o,s){let c=e.firstCreatePass?WT(e):null,u=GT(n),d=u.length;u.push(r,o),c&&c.push(i,t,d,(d+1)*(s?-1:1))}function JO(t,e,n,i,r,o){let s=e[n],c=e[ye],d=c.data[n].outputs[i],m=s[d].subscribe(o);LF(t.index,c,e,r,o,m,!0)}var LC=Symbol("BINDING");var Yv=class extends lm{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ho(e);return new nc(n,this.ngModule)}};function $G(t){return Object.keys(t).map(e=>{let[n,i,r]=t[e],o={propName:n,templateName:e,isSignal:(i&m_.SignalBased)!==0};return r&&(o.transform=r),o})}function qG(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function GG(t,e,n){let i=e instanceof Jt?e:e?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new FC(n,i):n}function WG(t){let e=t.get(vo,null);if(e===null)throw new q(407,!1);let n=t.get(RF,null),i=t.get(lo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function KG(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return eF(e,n,n==="svg"?BT:n==="math"?lO:null)}var nc=class extends I_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=$G(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=qG(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Dq(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,i,r,o,s){Nt(22);let c=Me(null);try{let u=this.componentDef,d=QG(i,u,s,o),f=GG(u,r||this.ngModule,e),m=WG(f),y=m.rendererFactory.createRenderer(null,u),_=i?Kq(y,i,u.encapsulation,f):KG(u,y),C=s?.some(ek)||o?.some(k=>typeof k!="function"&&k.bindings.some(ek)),R=pD(null,d,null,512|rF(u),null,null,m,y,f,null,Bk(_,f,!0));R[Mt]=_,Av(R);let N=null;try{let k=CD(Mt,R,2,"#host",()=>d.directiveRegistry,!0,0);_&&(iF(y,_,k),Fd(_,R)),v_(d,R,k),aD(d,k,R),DD(d,k),n!==void 0&&ZG(k,this.ngContentSelectors,n),N=Mr(k.index,R),R[wn]=N[wn],ID(d,R,null)}catch(k){throw N!==null&&DC(N),DC(R),k}finally{Nt(23),xv()}return new Zv(this.componentType,R,!!C)}finally{Me(c)}}};function QG(t,e,n,i){let r=t?["ng-version","20.1.7"]:Sq(e.selectors[0]),o=null,s=null,c=0;if(n)for(let f of n)c+=f[LC].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(i)for(let f=0;f<i.length;f++){let m=i[f];if(typeof m!="function")for(let y of m.bindings){c+=y[LC].requiredVars;let _=f+1;y.create&&(y.targetIdx=_,(o??=[]).push(y)),y.update&&(y.targetIdx=_,(s??=[]).push(y))}}let u=[e];if(i)for(let f of i){let m=typeof f=="function"?f:f.type,y=wv(m);u.push(y)}return fD(0,null,YG(o,s),1,c,u,null,null,null,[r],null)}function YG(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let i of t)i.create();if(n&2&&e)for(let i of e)i.update()}}function ek(t){let e=t[LC].kind;return e==="input"||e==="twoWay"}var Zv=class extends xF{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=jp(n[ye],Mt),this.location=jd(this._tNode,n),this.instance=Mr(this._tNode.index,n)[wn],this.hostView=this.changeDetectorRef=new tc(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,o=wD(i,r[ye],r,e,n);this.previousInputValues.set(e,n);let s=Mr(i.index,r);TD(s,1)}get injector(){return new zu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZG(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Vt=(()=>{class t{static __NG_ELEMENT_ID__=XG}return t})();function XG(){let t=Dn();return UF(t,ve())}var JG=Vt,VF=class extends JG{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return jd(this._hostTNode,this._hostLView)}get injector(){return new zu(this._hostTNode,this._hostLView)}get parentInjector(){let e=iD(this._hostTNode,this._hostLView);if(Ik(e)){let n=zv(e,this._hostLView),i=Hv(e),r=n[ye].data[i+8];return new zu(r,n)}else return new zu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tk(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Kv(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,r,Ld(this._hostTNode,s)),c}createComponent(e,n,i,r,o,s,c){let u=e&&!y9(e),d;if(u)d=n;else{let N=n||{};d=N.index,i=N.injector,r=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,c=N.bindings}let f=u?e:new nc(Ho(e)),m=i||this.parentInjector;if(!o&&f.ngModule==null){let k=(u?m:this.parentInjector).get(Jt,null);k&&(o=k)}let y=Ho(f.componentType??{}),_=Kv(this._lContainer,y?.id??null),C=_?.firstChild??null,R=f.create(m,r,C,o,s,c);return this.insertImpl(R.hostView,d,Ld(this._hostTNode,_)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(hO(r)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=r[Vn],d=new VF(u,u[Si],u[Vn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return um(s,r,o,i),e.attachToViewContainerRef(),RT(gC(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tk(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Xp(this._lContainer,n);i&&(Lp(gC(this._lContainer),n),g_(i[ye],i))}detach(e){let n=this._adjustIndex(e,-1),i=Xp(this._lContainer,n);return i&&Lp(gC(this._lContainer),n)!=null?new tc(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function tk(t){return t[Bp]}function gC(t){return t[Bp]||(t[Bp]=[])}function UF(t,e){let n,i=e[t.index];return po(i)?n=i:(n=TF(i,e,null,t),e[t.index]=n,mD(e,n)),tW(n,e,t,i),new VF(n,t,e)}function eW(t,e){let n=t[Kt],i=n.createComment(""),r=go(e,t),o=n.parentNode(r);return Wv(n,o,i,n.nextSibling(r),!1),i}var tW=rW,nW=()=>!1;function iW(t,e,n){return nW(t,e,n)}function rW(t,e,n,i){if(t[Ya])return;let r;n.type&8?r=Rr(i):r=eW(e,n),t[Ya]=r}var VC=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},UC=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];r.push(c.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)xD(e,n).matches!==null&&this.queries[n].setDirty()}},Xv=class{flags;read;predicate;constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=hW(e):this.predicate=e}},BC=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jC=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,oW(n,o)),this.matchTNodeWithReadOption(e,n,Uv(n,e,o,!1,!1))}else i===Qt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Uv(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Je||r===Vt||r===Qt&&n.type&4)this.addMatch(n.index,-2);else{let o=Uv(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function oW(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function sW(t,e){return t.type&11?jd(t,e):t.type&4?w_(t,e):null}function aW(t,e,n,i){return n===-1?sW(e,t):n===-2?cW(t,e,i):Yp(t,t[ye],n,e)}function cW(t,e,n){if(n===Je)return jd(e,t);if(n===Qt)return w_(e,t);if(n===Vt)return UF(e,t)}function BF(t,e,n,i){let r=e[$o].queries[i];if(r.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let d=s[u];if(d<0)c.push(null);else{let f=o[d];c.push(aW(e,f,s[u+1],n.metadata.read))}}r.matches=c}return r.matches}function HC(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=BF(t,e,r,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)i.push(s[c/2]);else{let d=o[c+1],f=e[-u];for(let m=$n;m<f.length;m++){let y=f[m];y[Qa]===y[Vn]&&HC(y[ye],y,d,i)}if(f[Vu]!==null){let m=f[Vu];for(let y=0;y<m.length;y++){let _=m[y];HC(_[ye],_,d,i)}}}}}return i}function uW(t,e){return t[$o].queries[e].queryList}function jF(t,e,n){let i=new kd((n&4)===4);return mO(t,e,i,i.destroy),(e[$o]??=new UC).queries.push(new VC(i))-1}function lW(t,e,n){let i=hn();return i.firstCreatePass&&(HF(i,new Xv(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),jF(i,ve(),e)}function dW(t,e,n,i){let r=hn();if(r.firstCreatePass){let o=Dn();HF(r,new Xv(e,n,i),o.index),fW(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return jF(r,ve(),n)}function hW(t){return t.split(",").map(e=>e.trim())}function HF(t,e,n){t.queries===null&&(t.queries=new BC),t.queries.track(new jC(e,n))}function fW(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function xD(t,e){return t.queries.getByIndex(e)}function pW(t,e){let n=t[ye],i=xD(n,e);return i.crossesNgTemplate?HC(n,t,e,[]):BF(n,t,i,e)}var nk=new Set;function lr(t){nk.has(t)||(nk.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ic=class{},T_=class{};function RD(t,e){return new Jp(t,e??null,[])}var Jp=class extends ic{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Yv(this);constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n;let o=NT(e);this._bootstrapComponents=Zk(o.bootstrap),this._r3Injector=aC(e,n,[{provide:ic,useValue:this},{provide:lm,useValue:this.componentFactoryResolver},...i],qs(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jv=class extends T_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jp(this.moduleType,e,[])}};var em=class extends ic{injector;componentFactoryResolver=new Yv(this);instance=null;constructor(e){super();let n=new Ru([...e.providers,{provide:ic,useValue:this},{provide:lm,useValue:this.componentFactoryResolver}],e.parent||Td(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qd(t,e,n=null){return new em({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var mW=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=PT(!1,n.type),r=i.length>0?qd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(Ee(Jt))})}return t})();function Z(t){return Bd(()=>{let e=zF(t),n=oe(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(mW).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ks.Emulated,styles:t.styles||ar,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&lr("NgStandalone"),$F(n);let i=t.dependencies;return n.directiveDefs=ik(i,gW),n.pipeDefs=ik(i,iO),n.id=_W(n),n})}function gW(t){return Ho(t)||wv(t)}function _o(t){return Bd(()=>({type:t.type,bootstrap:t.bootstrap||ar,declarations:t.declarations||ar,imports:t.imports||ar,exports:t.exports||ar,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yW(t,e){if(t==null)return ho;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,c,u;Array.isArray(r)?(c=r[0],o=r[1],s=r[2]??o,u=r[3]||null):(o=r,s=r,c=m_.None,u=null),n[o]=[i,c,u],e[o]=s}return n}function vW(t){if(t==null)return ho;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function F(t){return Bd(()=>{let e=zF(t);return $F(e),e})}function Ri(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function zF(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ho,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ar,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:yW(t.inputs,e),outputs:vW(t.outputs),debugInfo:null}}function $F(t){t.features?.forEach(e=>e(t))}function ik(t,e){return t?()=>{let n=typeof t=="function"?t():t,i=[];for(let r of n){let o=e(r);o!==null&&i.push(o)}return i}:null}function _W(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function EW(t){return Object.getPrototypeOf(t.prototype).constructor}function Qe(t){let e=EW(t.type),n=!0,i=[t];for(;e;){let r;if(mo(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=yC(t.inputs),s.declaredInputs=yC(t.declaredInputs),s.outputs=yC(t.outputs);let c=r.hostBindings;c&&CW(t,c);let u=r.viewQuery,d=r.contentQueries;if(u&&bW(t,u),d&&TW(t,d),wW(t,r),WP(t.outputs,r.outputs),mo(r)&&r.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Qe&&(n=!1)}}e=Object.getPrototypeOf(e)}IW(i)}function wW(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n])}}function IW(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Od(r.hostAttrs,n=Od(n,r.hostAttrs))}}function yC(t){return t===ho?{}:t===ar?[]:t}function bW(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function TW(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function CW(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Oe(t){let e=n=>{let i=Array.isArray(t);n.hostDirectives===null?(n.resolveHostDirectives=DW,n.hostDirectives=i?t.map(zC):[t]):i?n.hostDirectives.unshift(...t.map(zC)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function DW(t){let e=[],n=!1,i=null,r=null;for(let o=0;o<t.length;o++){let s=t[o];if(s.hostDirectives!==null){let c=e.length;i??=new Map,r??=new Map,qF(s,e,i),r.set(s,[c,e.length-1])}o===0&&mo(s)&&(n=!0,e.push(s))}for(let o=n?1:0;o<t.length;o++)e.push(t[o]);return[e,i,r]}function qF(t,e,n){if(t.hostDirectives!==null)for(let i of t.hostDirectives)if(typeof i=="function"){let r=i();for(let o of r)rk(zC(o),e,n)}else rk(i,e,n)}function rk(t,e,n){let i=wv(t.directive);SW(i.declaredInputs,t.inputs),qF(i,e,n),n.set(i,t),e.push(i)}function zC(t){return typeof t=="function"?{directive:Ln(t),inputs:ho,outputs:ho}:{directive:Ln(t.directive),inputs:ok(t.inputs),outputs:ok(t.outputs)}}function ok(t){if(t===void 0||t.length===0)return ho;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function SW(t,e){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],r=t[n];t[i]=r}}function GF(t,e,n,i,r,o,s,c){if(n.firstCreatePass){t.mergedAttrs=Od(t.mergedAttrs,t.attrs);let f=t.tView=fD(2,t,r,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),xd(t,!1);let u=xW(n,e,t,i);Mv()&&vD(n,e,u,t),Fd(u,e);let d=TF(u,e,u,t);e[i+Mt]=d,mD(e,d),iW(d,t,e)}function AW(t,e,n,i,r,o,s,c,u,d,f){let m=n+Mt,y;return e.firstCreatePass?(y=$d(e,m,4,s||null,c||null),Cv()&&MF(e,t,y,Nr(e.consts,d),ED),_k(e,y)):y=e.data[m],GF(y,t,e,n,i,r,o,u),Sd(y)&&v_(e,t,y),d!=null&&zd(t,y,f),y}function tm(t,e,n,i,r,o,s,c,u,d,f){let m=n+Mt,y;if(e.firstCreatePass){if(y=$d(e,m,4,s||null,c||null),d!=null){let _=Nr(e.consts,d);y.localNames=[];for(let C=0;C<_.length;C+=2)y.localNames.push(_[C],-1)}}else y=e.data[m];return GF(y,t,e,n,i,r,o,u),d!=null&&zd(t,y,f),y}function X(t,e,n,i,r,o,s,c){let u=ve(),d=hn(),f=Nr(d.consts,o);return AW(u,d,t,e,n,i,r,f,void 0,s,c),X}var xW=RW;function RW(t,e,n,i){return qp(!0),e[Kt].createComment("")}var C_=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(C_||{}),Wu=new M(""),WF=!1,$C=class extends at{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,cO()&&(this.destroyRef=g(xt,{optional:!0})??void 0,this.pendingTasks=g(Wo,{optional:!0})??void 0)}emit(e){let n=Me(null);try{super.next(e)}finally{Me(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let u=e;r=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:r,error:o,complete:s});return e instanceof pn&&e.add(c),c}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Ae=$C;function KF(t){let e,n;function i(){t=Hu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function sk(t){return queueMicrotask(()=>t()),()=>{t=Hu}}var MD="isAngularZone",e_=MD+"_ID",MW=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=WF}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,OW(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(MD)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,NW,Hu,Hu);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},NW={};function ND(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function PW(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){KF(()=>{t.callbackScheduled=!1,qC(t),t.isCheckStableRunning=!0,ND(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),qC(t)}function OW(t){let e=()=>{PW(t)},n=MW++;t._inner=t._inner.fork({name:"angular",properties:{[MD]:!0,[e_]:n,[e_+n]:!0},onInvokeTask:(i,r,o,s,c,u)=>{if(kW(u))return i.invokeTask(o,s,c,u);try{return ak(t),i.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ck(t)}},onInvoke:(i,r,o,s,c,u,d)=>{try{return ak(t),i.invoke(o,s,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!FW(u)&&e(),ck(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,qC(t),ND(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function qC(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ak(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ck(t){t._nesting--,ND(t)}var t_=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function kW(t){return QF(t,"__ignore_ng_zone__")}function FW(t){return QF(t,"__scheduler_tick__")}function QF(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var PD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),YF=[0,1,2,3],ZF=(()=>{class t{ngZone=g(_e);scheduler=g(lo);errorHandler=g(Dr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(Wu,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Nt(16),this.executing=!0;for(let i of YF)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Nt(17)}register(n){let{view:i}=n;i!==void 0?((i[Lu]??=[]).push(n),Xa(i),i[Ne]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(C_.AFTER_NEXT_RENDER,n):n()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),n_=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,i,r,o,s=null){this.impl=e,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Lu];e&&(this.view[Lu]=e.filter(n=>n!==this))}};function Ys(t,e){let n=e?.injector??g(Lt);return lr("NgAfterNextRender"),VW(t,n,e,!0)}function LW(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function VW(t,e,n,i){let r=e.get(PD);r.impl??=e.get(ZF);let o=e.get(Wu,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(xt):null,c=e.get(Md,null,{optional:!0}),u=new n_(r.impl,LW(t),c?.view,i,s,o?.snapshot(null));return r.impl.register(u),u}var OD=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var kD=new M("");function Zs(t){return!!t&&typeof t.then=="function"}function D_(t){return!!t&&typeof t.subscribe=="function"}var FD=new M("");function S_(t){return Ar([{provide:FD,multi:!0,useValue:t}])}var LD=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=g(FD,{optional:!0})??[];injector=g(Lt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Cn(this.injector,r);if(Zs(o))n.push(o);else if(D_(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dm=new M("");function XF(){Hb(()=>{let t="";throw new q(600,t)})}function JF(t){return t.isBoundToModule}var UW=10;var Xo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(xi);afterRenderManager=g(PD);zonelessEnabled=g(Gp);rootEffectScheduler=g(Wp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new at;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(Wo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(n=>!n))}constructor(){g(Wu,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=g(Jt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=Lt.NULL){return this._injector.get(_e).run(()=>{Nt(10);let s=n instanceof I_;if(!this._injector.get(LD).done){let C="";throw new q(405,C)}let u;s?u=n:u=this._injector.get(lm).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let d=JF(u)?void 0:this._injector.get(ic),f=i||u.selector,m=u.create(r,[],f,d),y=m.location.nativeElement,_=m.injector.get(kD,null);return _?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),Qp(this.components,m),_?.unregisterApplication(y)}),this._loadComponent(m),Nt(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Nt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(C_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let n=Me(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(n),this.afterTick.next(),Nt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<UW;)Nt(14),this.synchronizeOnce(),Nt(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Hp(r))continue;let o=i&&!this.zonelessEnabled?0:1;bD(r,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Hp(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Qp(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(dm,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ke(t,e,n,i){let r=ve(),o=Ja();if(Wi(r,o,e)){let s=hn(),c=$p();nG(c,r,t,e,n,i)}return ke}var GC=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function vC(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function BW(t,e,n){let i,r,o=0,s=t.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let d=t.at(o),f=e[o],m=vC(o,d,o,f,n);if(m!==0){m<0&&t.updateValue(o,f),o++;continue}let y=t.at(s),_=e[u],C=vC(s,y,u,_,n);if(C!==0){C<0&&t.updateValue(s,_),s--,u--;continue}let R=n(o,d),N=n(s,y),k=n(o,f);if(Object.is(k,N)){let $=n(u,_);Object.is($,R)?(t.swap(o,s),t.updateValue(s,_),u--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(i??=new i_,r??=lk(t,o,s,n),WC(t,i,o,k))t.updateValue(o,f),o++,s++;else if(r.has(k))i.set(R,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=u;)uk(t,i,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),d=u.next();for(;!d.done&&o<=s;){let f=t.at(o),m=d.value,y=vC(o,f,o,m,n);if(y!==0)y<0&&t.updateValue(o,m),o++,d=u.next();else{i??=new i_,r??=lk(t,o,s,n);let _=n(o,m);if(WC(t,i,o,_))t.updateValue(o,m),o++,s++,d=u.next();else if(!r.has(_))t.attach(o,t.create(o,m)),o++,s++,d=u.next();else{let C=n(o,f);i.set(C,t.detach(o)),s--}}}for(;!d.done;)uk(t,i,n,t.length,d.value),d=u.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(u=>{t.destroy(u)})}function WC(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function uk(t,e,n,i,r){if(WC(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function lk(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var i_=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function ii(t,e,n,i,r,o,s,c){lr("NgControlFlow");let u=ve(),d=hn(),f=Nr(d.consts,o);return tm(u,d,t,e,n,i,r,f,256,s,c),Ku}function Ku(t,e,n,i,r,o,s,c){lr("NgControlFlow");let u=ve(),d=hn(),f=Nr(d.consts,o);return tm(u,d,t,e,n,i,r,f,512,s,c),Ku}function ri(t,e){lr("NgControlFlow");let n=ve(),i=Ja(),r=n[i]!==Or?n[i]:-1,o=r!==-1?r_(n,Mt+r):void 0,s=0;if(Wi(n,i,t)){let c=Me(null);try{if(o!==void 0&&DF(o,s),t!==-1){let u=Mt+t,d=r_(n,u),f=ZC(n[ye],u),m=AF(d,f,n),y=cm(n,f,e,{dehydratedView:m});um(d,y,s,Ld(f,m))}}finally{Me(c)}}else if(o!==void 0){let c=CF(o,s);c!==void 0&&(c[wn]=e)}}var KC=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-$n}};var QC=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function VD(t,e,n,i,r,o,s,c,u,d,f,m,y){lr("NgControlFlow");let _=ve(),C=hn(),R=u!==void 0,N=ve(),k=c?s.bind(N[Ai][wn]):s,$=new QC(R,k);N[Mt+t]=$,tm(_,C,t+1,e,n,i,r,Nr(C.consts,o),256),R&&tm(_,C,t+2,u,d,f,m,Nr(C.consts,y),512)}var YC=class extends GC{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-$n}at(e){return this.getLView(e)[wn].$implicit}attach(e,n){let i=n[Pu];this.needsIndexUpdate||=e!==this.length,um(this.lContainer,n,e,Ld(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,jW(this.lContainer,e)}create(e,n){let i=Kv(this.lContainer,this.templateTNode.tView.ssrId),r=cm(this.hostLView,this.templateTNode,new KC(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){g_(e[ye],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[wn].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[wn].$index=e}getLView(e){return HW(this.lContainer,e)}};function UD(t){let e=Me(null),n=Ws();try{let i=ve(),r=i[ye],o=i[n],s=n+1,c=r_(i,s);if(o.liveCollection===void 0){let d=ZC(r,s);o.liveCollection=new YC(c,i,d)}else o.liveCollection.reset();let u=o.liveCollection;if(BW(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let d=Ja(),f=u.length===0;if(Wi(i,d,f)){let m=n+2,y=r_(i,m);if(f){let _=ZC(r,m),C=AF(y,_,i),R=cm(i,_,void 0,{dehydratedView:C});um(y,R,0,Ld(_,C))}else r.firstUpdatePass&&SG(y),DF(y,0)}}}finally{Me(e)}}function r_(t,e){return t[e]}function jW(t,e){return Xp(t,e)}function HW(t,e){return CF(t,e)}function ZC(t,e){return jp(t,e)}function U(t,e,n){let i=ve(),r=Ja();if(Wi(i,r,e)){let o=hn(),s=$p();fF(s,i,t,e,i[Kt],n)}return U}function dk(t,e,n,i,r){wD(e,t,n,r?"class":"style",i)}function j(t,e,n,i){let r=ve(),o=r[ye],s=t+Mt,c=o.firstCreatePass?CD(s,r,2,e,ED,Cv(),n,i):o.data[s];if(__(c,r,t,e,eL),Sd(c)){let u=r[ye];v_(u,r,c),aD(u,c,r)}return i!=null&&zd(r,c),j}function L(){let t=hn(),e=Dn(),n=E_(e);return t.firstCreatePass&&DD(t,n),YT(n)&&ZT(),KT(),n.classesWithoutHost!=null&&b9(n)&&dk(t,n,ve(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&T9(n)&&dk(t,n,ve(),n.stylesWithoutHost,!1),L}function ce(t,e,n,i){return j(t,e,n,i),L(),ce}function BD(t,e,n,i){let r=ve(),o=r[ye],s=t+Mt,c=o.firstCreatePass?PF(s,o,2,e,n,i):o.data[s];return __(c,r,t,e,eL),i!=null&&zd(r,c),BD}function jD(){let t=Dn(),e=E_(t);return YT(e)&&ZT(),KT(),jD}function A_(t,e,n,i){return BD(t,e,n,i),jD(),A_}var eL=(t,e,n,i,r)=>(qp(!0),eF(e[Kt],i,RO()));function ut(t,e,n){let i=ve(),r=i[ye],o=t+Mt,s=r.firstCreatePass?CD(o,i,8,"ng-container",ED,Cv(),e,n):r.data[o];if(__(s,i,t,"ng-container",nL),Sd(s)){let c=i[ye];v_(c,i,s),aD(c,s,i)}return n!=null&&zd(i,s),ut}function st(){let t=hn(),e=Dn(),n=E_(e);return t.firstCreatePass&&DD(t,n),st}function Mi(t,e,n){return ut(t,e,n),st(),Mi}function HD(t,e,n){let i=ve(),r=i[ye],o=t+Mt,s=r.firstCreatePass?PF(o,r,8,"ng-container",e,n):r.data[o];return __(s,i,t,"ng-container",nL),n!=null&&zd(i,s),HD}function tL(){let t=Dn(),e=E_(t);return st}function Gd(t,e,n){return HD(t,e,n),tL(),Gd}var nL=(t,e,n,i,r)=>(qp(!0),Rq(e[Kt],""));function lt(){return ve()}function Ni(t,e,n){let i=ve(),r=Ja();if(Wi(i,r,e)){let o=hn(),s=$p();pF(s,i,t,e,i[Kt],n)}return Ni}var hm="en-US";var zW=hm;function iL(t){typeof t=="string"&&(zW=t.toLowerCase().replace(/_/g,"-"))}function Q(t,e,n){let i=ve(),r=hn(),o=Dn();return rL(r,i,i[Kt],o,t,e,n),Q}function rL(t,e,n,i,r,o,s){let c=!0,u=null;if((i.type&3||s)&&(u??=mC(i,e,o),HG(i,t,e,s,n,r,o,u)&&(c=!1)),c){let d=i.outputs?.[r],f=i.hostDirectiveOutputs?.[r];if(f&&f.length)for(let m=0;m<f.length;m+=2){let y=f[m],_=f[m+1];u??=mC(i,e,o),JO(i,e,y,_,r,u)}if(d&&d.length)for(let m of d)u??=mC(i,e,o),JO(i,e,m,r,r,u)}}function W(t=1){return xO(t)}function $W(t,e){let n=null,i=wq(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){n=r;continue}if(i===null?Jk(t,o,!0):Tq(i,o))return r}return n}function qn(t){let e=ve()[Ai][Si];if(!e.projection){let n=t?t.length:1,i=e.projection=eO(n,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?$W(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Ut(t,e=0,n,i,r,o){let s=ve(),c=hn(),u=i?t+1:null;u!==null&&tm(s,c,u,i,r,o,null,n);let d=$d(c,Mt+t,16,null,n||null);d.projection===null&&(d.projection=e),eC();let m=!s[Pu]||QT();s[Ai][Si].projection[d.projection]===null&&u!==null?qW(s,c,u):m&&!d_(d)&&qq(c,s,d)}function qW(t,e,n){let i=Mt+n,r=e.data[i],o=t[i],s=Kv(o,r.tView.ssrId),c=cm(t,r,void 0,{dehydratedView:s});um(o,c,0,Ld(r,s))}function oi(t,e,n,i){dW(t,e,n,i)}function dr(t,e,n){lW(t,e,n)}function Bt(t){let e=ve(),n=hn(),i=rC();Sv(i+1);let r=xD(n,i);if(t.dirty&&dO(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=pW(e,i);t.reset(o,L9),t.notifyOnChanges()}return!0}return!1}function jt(){return uW(ve(),rC())}function si(t){let e=_O();return Bu(e,Mt+t)}function Fv(t,e){return t<<17|e<<2}function qu(t){return t>>17&32767}function GW(t){return(t&2)==2}function WW(t,e){return t&131071|e<<17}function XC(t){return t|2}function Ud(t){return(t&131068)>>2}function _C(t,e){return t&-131069|e<<2}function KW(t){return(t&1)===1}function JC(t){return t|1}function QW(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,c=qu(s),u=Ud(s);t[i]=n;let d=!1,f;if(Array.isArray(n)){let m=n;f=m[1],(f===null||bd(m,f)>0)&&(d=!0)}else f=n;if(r)if(u!==0){let y=qu(t[c+1]);t[i+1]=Fv(y,c),y!==0&&(t[y+1]=_C(t[y+1],i)),t[c+1]=WW(t[c+1],i)}else t[i+1]=Fv(c,0),c!==0&&(t[c+1]=_C(t[c+1],i)),c=i;else t[i+1]=Fv(u,0),c===0?c=i:t[u+1]=_C(t[u+1],i),u=i;d&&(t[i+1]=XC(t[i+1])),hk(t,f,i,!0),hk(t,f,i,!1),YW(e,f,t,i,o),s=Fv(c,u),o?e.classBindings=s:e.styleBindings=s}function YW(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&bd(o,e)>=0&&(n[i+1]=JC(n[i+1]))}function hk(t,e,n,i){let r=t[n+1],o=e===null,s=i?qu(r):Ud(r),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],d=t[s+1];ZW(u,e)&&(c=!0,t[s+1]=i?JC(d):XC(d)),s=i?qu(d):Ud(d)}c&&(t[n+1]=i?XC(r):JC(r))}function ZW(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?bd(t,e)>=0:!1}function dt(t,e,n){return oL(t,e,n,!1),dt}function me(t,e){return oL(t,e,null,!0),me}function oL(t,e,n,i){let r=ve(),o=hn(),s=iC(2);if(o.firstUpdatePass&&JW(o,t,s,i),e!==Or&&Wi(r,s,e)){let c=o.data[Ws()];r8(o,c,r,r[Kt],t,r[s+1]=o8(e,n),i,s)}}function XW(t,e){return e>=t.expandoStartIndex}function JW(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[Ws()],s=XW(t,n);s8(o,i)&&e===null&&!s&&(e=!1),e=e8(r,o,e,i),QW(r,o,e,n,s,i)}}function e8(t,e,n,i){let r=CO(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=EC(null,t,e,n,i),n=nm(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=EC(r,t,e,n,i),o===null){let u=t8(t,e,i);u!==void 0&&Array.isArray(u)&&(u=EC(null,t,e,u[1],i),u=nm(u,e.attrs,i),n8(t,e,i,u))}else o=i8(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function t8(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Ud(i)!==0)return t[qu(i)]}function n8(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[qu(r)]=i}function i8(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=nm(i,s,n)}return nm(i,e.attrs,n)}function EC(t,e,n,i,r){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],i=nm(i,o.hostAttrs,r),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),i}function nm(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),nO(t,s,n?!0:e[++o]))}return t===void 0?null:t}function r8(t,e,n,i,r,o,s,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=KW(d)?fk(u,e,n,r,Ud(d),s):void 0;if(!o_(f)){o_(o)||GW(d)&&(o=fk(u,null,n,r,c,s));let m=jT(Ws(),n);Wq(i,s,m,r,o)}}function fk(t,e,n,i,r,o){let s=e===null,c;for(;r>0;){let u=t[r],d=Array.isArray(u),f=d?u[1]:u,m=f===null,y=n[r+1];y===Or&&(y=m?ar:void 0);let _=m?Ev(y,i):f===i?y:void 0;if(d&&!o_(_)&&(_=Ev(u,i)),o_(_)&&(c=_,s))return c;let C=t[r+1];r=s?qu(C):Ud(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Ev(u,i))}return c}function o_(t){return t!==void 0}function o8(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=qs(Hd(t)))),t}function s8(t,e){return(t.flags&(e?8:16))!==0}function re(t,e=""){let n=ve(),i=hn(),r=t+Mt,o=i.firstCreatePass?$d(i,r,1,e,null):i.data[r],s=a8(i,n,o,e,t);n[r]=s,Mv()&&vD(i,n,s,o),xd(o,!1)}var a8=(t,e,n,i,r)=>(qp(!0),Aq(e[Kt],i));function c8(t,e,n,i=""){return Wi(t,Ja(),n)?e+Wa(n)+i:Or}function u8(t,e,n,i,r,o=""){let s=EO(),c=Vd(t,s,n,r);return iC(2),c?e+Wa(n)+i+Wa(r)+o:Or}function Ki(t){return nt("",t),Ki}function nt(t,e,n){let i=ve(),r=c8(i,t,e,n);return r!==Or&&sL(i,Ws(),r),nt}function x_(t,e,n,i,r){let o=ve(),s=u8(o,t,e,n,i,r);return s!==Or&&sL(o,Ws(),s),x_}function sL(t,e,n){let i=jT(e,t);xq(t[Kt],i,n)}function fm(t,e,n){uC(e)&&(e=e());let i=ve(),r=Ja();if(Wi(i,r,e)){let o=hn(),s=$p();fF(s,i,t,e,i[Kt],n)}return fm}function R_(t,e){let n=uC(t);return n&&t.set(e),n}function pm(t,e){let n=ve(),i=hn(),r=Dn();return rL(i,n,n[Kt],r,t,e),pm}function l8(t,e,n){let i=hn();if(i.firstCreatePass){let r=mo(t);eD(n,i.data,i.blueprint,r,!0),eD(e,i.data,i.blueprint,r,!1)}}function eD(t,e,n,i,r){if(t=Ln(t),Array.isArray(t))for(let o=0;o<t.length;o++)eD(t[o],e,n,i,r);else{let o=hn(),s=ve(),c=Dn(),u=xu(t)?t:Ln(t.provide),d=kT(t),f=c.providerIndexes&1048575,m=c.directiveStart,y=c.providerIndexes>>20;if(xu(t)||!t.multi){let _=new $u(d,r,Le,null),C=IC(u,e,r?f:f+y,m);C===-1?(TC(qv(c,s),o,u),wC(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(_),s.push(_)):(n[C]=_,s[C]=_)}else{let _=IC(u,e,f+y,m),C=IC(u,e,f,f+y),R=_>=0&&n[_],N=C>=0&&n[C];if(r&&!N||!r&&!R){TC(qv(c,s),o,u);let k=f8(r?h8:d8,n.length,r,i,d,t);!r&&N&&(n[C].providerFactory=k),wC(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=aL(n[r?C:_],d,!r&&i);wC(o,t,_>-1?_:C,k)}!r&&i&&N&&n[C].componentProviders++}}}function wC(t,e,n,i){let r=xu(e),o=aO(e);if(r||o){let u=(o?Ln(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[i,u]):d[f+1].push(i,u)}else d.push(n,u)}}}function aL(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function IC(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function d8(t,e,n,i,r){return tD(this.multi,[])}function h8(t,e,n,i,r){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Yp(i,i[ye],this.providerFactory.index,r);s=u.slice(0,c),tD(o,s);for(let d=c;d<u.length;d++)s.push(u[d])}else s=[],tD(o,s);return s}function tD(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function f8(t,e,n,i,r,o){let s=new $u(t,n,Le,null);return s.multi=[],s.index=e,s.componentProviders=0,aL(s,r,i&&!n),s}function ee(t,e=[]){return n=>{n.providersResolver=(i,r)=>l8(i,r?r(t):t,e)}}function Qi(t,e,n,i){return cL(ve(),Go(),t,e,n,i)}function Wd(t,e,n,i,r,o,s){return uL(ve(),Go(),t,e,n,i,r,o,s)}function zD(t,e,n,i,r,o,s,c){let u=Go()+t,d=ve(),f=AD(d,u,n,i,r,o);return Wi(d,u+4,s)||f?Gu(d,u+5,c?e.call(c,n,i,r,o,s):e(n,i,r,o,s)):FF(d,u+5)}function $D(t,e,n,i,r,o,s,c,u){let d=Go()+t,f=ve(),m=AD(f,d,n,i,r,o);return Vd(f,d+4,s,c)||m?Gu(f,d+6,u?e.call(u,n,i,r,o,s,c):e(n,i,r,o,s,c)):FF(f,d+6)}function mm(t,e){let n=t[e];return n===Or?void 0:n}function cL(t,e,n,i,r,o){let s=e+n;return Wi(t,s,r)?Gu(t,s+1,o?i.call(o,r):i(r)):mm(t,s+1)}function p8(t,e,n,i,r,o,s){let c=e+n;return Vd(t,c,r,o)?Gu(t,c+2,s?i.call(s,r,o):i(r,o)):mm(t,c+2)}function m8(t,e,n,i,r,o,s,c){let u=e+n;return jG(t,u,r,o,s)?Gu(t,u+3,c?i.call(c,r,o,s):i(r,o,s)):mm(t,u+3)}function uL(t,e,n,i,r,o,s,c,u){let d=e+n;return AD(t,d,r,o,s,c)?Gu(t,d+4,u?i.call(u,r,o,s,c):i(r,o,s,c)):mm(t,d+4)}function g8(t,e,n,i,r,o){let s=e+n,c=!1;for(let u=0;u<r.length;u++)Wi(t,s++,r[u])&&(c=!0);return c?Gu(t,s,i.apply(o,r)):mm(t,s)}function et(t,e){let n=hn(),i,r=t+Mt;n.firstCreatePass?(i=y8(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=$a(i.type,!0)),s,c=Di(Le);try{let u=$v(!1),d=o();return $v(u),HT(n,ve(),r,d),d}finally{Di(c)}}function y8(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function on(t,e,n){let i=t+Mt,r=ve(),o=Bu(r,i);return ym(r,i)?cL(r,Go(),e,o.transform,n,o):o.transform(n)}function rc(t,e,n,i){let r=t+Mt,o=ve(),s=Bu(o,r);return ym(o,r)?p8(o,Go(),e,s.transform,n,i,s):s.transform(n,i)}function gm(t,e,n,i,r){let o=t+Mt,s=ve(),c=Bu(s,o);return ym(s,o)?m8(s,Go(),e,c.transform,n,i,r,c):c.transform(n,i,r)}function qD(t,e,n,i,r,o){let s=t+Mt,c=ve(),u=Bu(c,s);return ym(c,s)?uL(c,Go(),e,u.transform,n,i,r,o,u):u.transform(n,i,r,o)}function Xs(t,e,n){let i=t+Mt,r=ve(),o=Bu(r,i);return ym(r,i)?g8(r,Go(),e,o.transform,n,o):o.transform.apply(o,n)}function ym(t,e){return t[ye].data[e].pure}function ai(t,e){return w_(t,e)}var s_=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},GD=(()=>{class t{compileModuleSync(n){return new Jv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=NT(n),o=Zk(r.declarations).reduce((s,c)=>{let u=Ho(c);return u&&s.push(new nc(u)),s},[]);return new s_(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var v8=(()=>{class t{zone=g(_e);changeDetectionScheduler=g(lo);applicationRef=g(Xo);applicationErrorHandler=g(xi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lL=new M("",{factory:()=>!1});function WD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(oe(O({},QD()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:Ka,multi:!0,useFactory:()=>{let i=g(v8,{optional:!0});return()=>i.initialize()}},{provide:Ka,multi:!0,useFactory:()=>{let i=g(_8);return()=>{i.initialize()}}},e===!0?{provide:lC,useValue:!0}:[],{provide:dC,useValue:n??WF},{provide:xi,useFactory:()=>{let i=g(_e),r=g(Jt),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(Dr),o.handleError(s))})}}}]}function KD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,i=WD({ngZoneFactory:()=>{let r=QD(t);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&lr("NgZone_CoalesceEvent"),new _e(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ar([{provide:lL,useValue:!0},{provide:Gp,useValue:!1},i])}function QD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _8=(()=>{class t{subscription=new pn;initialized=!1;zone=g(_e);pendingTasks=g(Wo);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dL=(()=>{class t{applicationErrorHandler=g(xi);appRef=g(Xo);taskService=g(Wo);ngZone=g(_e);zonelessEnabled=g(Gp);tracing=g(Wu,{optional:!0});disableScheduling=g(lC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new pn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(e_):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(dC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof t_||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?sk:KF;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(e_+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sk(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E8(){return typeof $localize<"u"&&$localize.locale||hm}var vm=new M("",{providedIn:"root",factory:()=>g(vm,{optional:!0,skipSelf:!0})||E8()});function en(t){return $P(t)}function xe(t,e){return Vy(t,e?.equal)}var YD=class{[hi];constructor(e){this[hi]=e}destroy(){this[hi].destroy()}};function sn(t,e){let n=e?.injector??g(Lt),i=e?.manualCleanup!==!0?n.get(xt):null,r,o=n.get(Md,null,{optional:!0}),s=n.get(lo);return o!==null?(r=b8(o.view,s,t),i instanceof kp&&i._lView===o.view&&(i=null)):r=T8(t,n.get(Wp),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new YD(r)}var hL=oe(O({},ka),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Hu,run(){if(this.dirty=!1,this.hasRun&&!rd(this))return;this.hasRun=!0;let t=i=>(this.cleanupFns??=[]).push(i),e=Fa(this),n=Rd(!1);try{this.maybeCleanup(),this.fn(t)}finally{Rd(n),Eu(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=Me(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Me(t)}}}),w8=oe(O({},hL),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){wu(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),I8=oe(O({},hL),{consumerMarkedDirty(){this.view[Ne]|=8192,Xa(this.view),this.notifier.notify(13)},destroy(){wu(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Gs]?.delete(this)}});function b8(t,e,n){let i=Object.create(I8);return i.view=t,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=n,t[Gs]??=new Set,t[Gs].add(i),i.consumerMarkedDirty(i),i}function T8(t,e,n){let i=Object.create(w8);return i.fn=t,i.scheduler=e,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}var yL=Symbol("InputSignalNode#UNSET"),H8=oe(O({},Uy),{transformFn:void 0,applyValueToInputSignal(t,e){sd(t,e)}});function vL(t,e){let n=Object.create(H8);n.value=t,n.transformFn=e?.transform;function i(){if(id(n),n.value===yL){let r=null;throw new q(-950,r)}return n.value}return i[hi]=n,i}var N_=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>rm(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},z8=new M("");z8.__NG_ELEMENT_ID__=t=>{let e=Dn();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new q(204,!1)};function fL(t,e){return vL(t,e)}function $8(t){return vL(yL,t)}var _L=(fL.required=$8,fL);var Qu=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},O_=new Qu("20.1.7");var ZD=new M(""),q8=new M("");function _m(t){return!t.moduleRef}function G8(t){let e=_m(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{_m(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(xi),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:i})}),_m(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ZD);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ZD);s.add(o),t.moduleRef.onDestroy(()=>{Qp(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(o)})}return K8(i,n,()=>{let o=e.get(Wo),s=o.add(),c=e.get(LD);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(vm,hm);if(iL(u||hm),!e.get(q8,!0))return _m(t)?e.get(Xo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(_m(t)){let f=e.get(Xo);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return W8?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var W8;function K8(t,e,n){try{let i=n();return Zs(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t(i)),i}}var M_=null;function Q8(t=[],e){return Lt.create({name:e,providers:[{provide:Vp,useValue:"platform"},{provide:ZD,useValue:new Set([()=>M_=null])},...t]})}function Y8(t=[]){if(M_)return M_;let e=Q8(t);return M_=e,XF(),Z8(e),e}function Z8(t){let e=t.get(c_,null);Cn(t,()=>{e?.forEach(n=>n())})}function nS(){return!1}var Tt=(()=>{class t{static __NG_ELEMENT_ID__=X8}return t})();function X8(t){return J8(Dn(),ve(),(t&16)===16)}function J8(t,e,n){if(Za(t)&&!n){let i=Mr(t.index,e);return new tc(i,i)}else if(t.type&175){let i=e[Ai];return new tc(i,e)}return null}var XD=class{constructor(){}supports(e){return SD(e)}create(e){return new JD(e)}},e7=(t,e)=>e,JD=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||e7}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<pL(i,r,o)?n:i,c=pL(s,r,o),u=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let d=c-r,f=u-r;if(d!=f){for(let y=0;y<d;y++){let _=y<o.length?o[y]:o[y]=0,C=_+y;f<=C&&C<d&&(o[y]=_+1)}let m=s.previousIndex;o[m]=f-d}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!SD(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,OF(e,c=>{s=this._trackByFn(r,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,c,s,r)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new eS(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new P_),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new P_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},eS=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},tS=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},P_=class{map=new Map;put(e){let n=e.trackById,i=this.map.get(n);i||(i=new tS,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function pL(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function mL(){return new iS([new XD])}var iS=(()=>{class t{factories;static \u0275prov=z({token:t,providedIn:"root",factory:mL});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||mL()),deps:[[t,new Yo,new nn]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new q(901,!1)}}return t})();function EL(t){Nt(8);try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=Y8(i),o=[WD({}),{provide:lo,useExisting:dL},NO,...n||[]],s=new em({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return G8({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Nt(9)}}function Zu(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function k_(t,e){let n=Ho(t),i=e.elementInjector||Td();return new nc(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function wL(t){let e=Ho(t);if(!e)return null;let n=new nc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var TL=null;function hr(){return TL}function rS(t){TL??=t}var Em=class{},wm=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>g(CL),providedIn:"platform"})}return t})(),oS=new M(""),CL=(()=>{class t extends wm{_location;_history;_doc=g($e);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hr().getBaseHref(this._doc)}onPopState(n){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=hr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function F_(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function IL(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Eo(t){return t&&t[0]!=="?"?`?${t}`:t}var wo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>g(V_),providedIn:"root"})}return t})(),L_=new M(""),V_=(()=>{class t extends wo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g($e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return F_(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Eo(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Eo(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Eo(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(Ee(wm),Ee(L_,8))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oc=(()=>{class t{_subject=new at;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=i7(IL(bL(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Eo(i))}normalize(n){return t.stripTrailingSlash(n7(this._basePath,bL(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Eo(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Eo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Eo;static joinWithSlash=F_;static stripTrailingSlash=IL;static \u0275fac=function(i){return new(i||t)(Ee(wo))};static \u0275prov=z({token:t,factory:()=>t7(),providedIn:"root"})}return t})();function t7(){return new oc(Ee(wo))}function n7(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function bL(t){return t.replace(/\/index.html$/,"")}function i7(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var cS=(()=>{class t extends wo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=F_(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Eo(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Eo(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(Ee(wm),Ee(L_,8))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var uS=(()=>{class t{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(n){this._viewContainerRef=n}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||n.ngComponentOutletEnvironmentInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let i=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=RD(this.ngComponentOutletNgModule,DL(i)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(DL(i)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:i,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[i,r]of this._inputsUsed)r?(n.setInput(i,this.ngComponentOutletInputs[i]),this._inputsUsed.set(i,!1)):(n.setInput(i,void 0),this._inputsUsed.delete(i))}static \u0275fac=function(i){return new(i||t)(Le(Vt))};static \u0275dir=F({type:t,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[rn]})}return t})();function DL(t){return t.get(ic).injector}var U_=class{$implicit;ngForOf;index;count;constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mi=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new U_(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,s),SL(c,r)}});for(let r=0,o=i.length;r<o;r++){let c=i.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);SL(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(Le(Vt),Le(Qt),Le(iS))};static \u0275dir=F({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function SL(t,e){t.context.$implicit=e.item}var Pt=(()=>{class t{_viewContainer;_context=new B_;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){AL(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){AL(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(Le(Vt),Le(Qt))};static \u0275dir=F({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),B_=class{$implicit=null;ngIf=null};function AL(t,e){if(t&&!t.createEmbeddedView)throw new q(2020,!1)}function r7(t,e){return new q(2100,!1)}var sS=class{createSubscription(e,n,i){return en(()=>e.subscribe({next:n,error:i}))}dispose(e){en(()=>e.unsubscribe())}},aS=class{createSubscription(e,n,i){return e.then(r=>n?.(r),r=>i?.(r)),{unsubscribe:()=>{n=null,i=null}}}dispose(e){e.unsubscribe()}},o7=new aS,s7=new sS,gn=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=g(xi);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i),i=>this.applicationErrorHandler(i))}_selectStrategy(n){if(Zs(n))return o7;if(D_(n))return s7;throw r7(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||t)(Le(Tt,16))};static \u0275pipe=Ri({name:"async",type:t,pure:!1})}return t})();var In=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=_o({type:t});static \u0275inj=Sr({})}return t})();function lS(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Im=class{};var hS="browser";function sc(t){return t===hS}var xL=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>new dS(g($e),window)})}return t})(),dS=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(oe(O({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let i=a7(this.document,e);i&&(this.scrollToElement(i,n),i.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Ga(2400,!1))}}scrollToElement(e,n){let i=e.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(oe(O({},n),{left:r-s[0],top:o-s[1]}))}};function a7(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var Xu=new M(""),yS=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(Ee(Xu),Ee(_e))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Qd=class{_doc;constructor(e){this._doc=e}manager},fS="ng-app-id";function RL(t){for(let e of t)e.remove()}function ML(t,e){let n=e.createElement("style");return n.textContent=t,n}function c7(t,e,n,i){let r=t.head?.querySelectorAll(`style[${fS}="${e}"],link[${fS}="${e}"]`);if(r)for(let o of r)o.removeAttribute(fS),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function mS(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var vS=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,c7(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,ML);i?.forEach(r=>this.addUsage(r,this.external,mS))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(RL(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])RL(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,ML(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,mS(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(Ee($e),Ee(a_),Ee(l_,8),Ee(pi))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),pS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_S=/%COMP%/g;var PL="%COMP%",u7=`_nghost-${PL}`,l7=`_ngcontent-${PL}`,d7=!0,h7=new M("",{providedIn:"root",factory:()=>d7});function f7(t){return l7.replace(_S,t)}function p7(t){return u7.replace(_S,t)}function OL(t,e){return e.map(n=>n.replace(_S,t))}var Cm=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,c,u,d=null,f=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new bm(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,i);return r instanceof j_?r.applyToHost(n):r instanceof Tm&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer,y=this.tracingService;switch(i.encapsulation){case Ks.Emulated:o=new j_(u,d,i,this.appId,f,s,c,m,y);break;case Ks.ShadowDom:return new gS(u,d,n,i,s,c,this.nonce,m,y);default:o=new Tm(u,d,i,f,s,c,m,y);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||t)(Ee(yS),Ee(vS),Ee(a_),Ee(h7),Ee($e),Ee(pi),Ee(_e),Ee(l_),Ee(Wu,8))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),bm=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,r,o){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(pS[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(NL(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(NL(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new q(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=pS[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=pS[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Qo.DashCase|Qo.Important)?e.style.setProperty(n,i,r&Qo.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Qo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i,r){if(typeof e=="string"&&(e=hr().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function NL(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gS=class extends bm{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,i,r,o,s,c,u,d){super(e,o,s,u,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=OL(r.id,f);for(let y of f){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=y,this.shadowRoot.appendChild(_)}let m=r.getExternalStyles?.();if(m)for(let y of m){let _=mS(y,o);c&&_.setAttribute("nonce",c),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tm=class extends bm{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,r,o,s,c,u,d){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let f=i.styles;this.styles=d?OL(d,f):f,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},j_=class extends Tm{contentAttr;hostAttr;constructor(e,n,i,r,o,s,c,u,d){let f=r+"-"+i.id;super(e,n,i,o,s,c,u,d,f),this.contentAttr=f7(f),this.hostAttr=p7(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}};var H_=class t extends Em{supportsDOMEvents=!0;static makeCurrent(){rS(new t)}onAndCancel(e,n,i,r){return e.addEventListener(n,i,r),()=>{e.removeEventListener(n,i,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=m7();return n==null?null:g7(n)}resetBaseElement(){Dm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lS(document.cookie,e)}},Dm=null;function m7(){return Dm=Dm||document.head.querySelector("base"),Dm?Dm.getAttribute("href"):null}function g7(t){return new URL(t,document.baseURI).pathname}var y7=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),FL=(()=>{class t extends Qd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(Ee($e))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),kL=["alt","control","meta","shift"],v7={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},LL=(()=>{class t extends Qd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=t.parseEventName(i),c=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hr().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),kL.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(n,i){let r=v7[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),kL.forEach(s=>{if(s!==r){let c=_7[s];c(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(Ee($e))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function ES(t,e){let n=O({rootComponent:t},E7(e));return EL(n)}function E7(t){return{appProviders:[...C7,...t?.providers??[]],platformProviders:T7}}function w7(){H_.makeCurrent()}function I7(){return new Dr}function b7(){return oD(document),document}var T7=[{provide:pi,useValue:hS},{provide:c_,useValue:w7,multi:!0},{provide:$e,useFactory:b7}];var C7=[{provide:Vp,useValue:"root"},{provide:Dr,useFactory:I7},{provide:Xu,useClass:FL,multi:!0,deps:[$e]},{provide:Xu,useClass:LL,multi:!0,deps:[$e]},Cm,vS,yS,{provide:vo,useExisting:Cm},{provide:Im,useClass:y7},[]];var VL=(()=>{class t{_doc;_dom;constructor(n){this._doc=n,this._dom=hr()}addTag(n,i=!1){return n?this._getOrCreateElement(n,i):null}addTags(n,i=!1){return n?n.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let i=this._doc.querySelectorAll(`meta[${n}]`);return i?[].slice.call(i):[]}updateTag(n,i){if(!n)return null;i=i||this._parseSelector(n);let r=this.getTag(i);return r?this._setMetaElementAttributes(n,r):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,i=!1){if(!i){let s=this._parseSelector(n),c=this.getTags(s).filter(u=>this._containsAttributes(n,u))[0];if(c!==void 0)return c}let r=this._dom.createElement("meta");return this._setMetaElementAttributes(n,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(n,i){return Object.keys(n).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),n[r])),i}_parseSelector(n){let i=n.name?"name":"property";return`${i}="${n[i]}"`}_containsAttributes(n,i){return Object.keys(n).every(r=>i.getAttribute(this._getMetaKeyMap(r))===n[r])}_getMetaKeyMap(n){return D7[n]||n}static \u0275fac=function(i){return new(i||t)(Ee($e))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),D7={httpEquiv:"http-equiv"},UL=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||t)(Ee($e))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wS=class extends CustomEvent{constructor(e,o){var s=o,{clientX:n,clientY:i}=s,r=Oa(s,["clientX","clientY"]);super(e,oe(O({},r),{detail:{clientX:n,clientY:i}}))}},A7=({userAgent:t,maxTouchPoints:e})=>/ipad|iphone|ipod/i.test(t)||/^((?!chrome|android).)*safari/i.test(t)&&e>1,x7=700,BL=typeof navigator>"u"?null:navigator,R7=15,IS=class{constructor(){this.isIOS=!!BL&&A7(BL)}addEventListener(e,n,i){let r=this.isIOS?this.listenTouchEvents(e):this.listenContextmenuEvent(e);return e.addEventListener("longtap",i),()=>{r(),e.removeEventListener("longtap",i)}}supports(e){return e==="longtap"}listenContextmenuEvent(e){return this.manager.addEventListener(e,"contextmenu.prevent.stop",({clientX:n,clientY:i})=>{this.dispatchLongtapEvent(e,n,i)})}listenTouchEvents(e){let n=null,i=null,r=()=>{clearTimeout(n),i=null,n=null},o=this.manager.addEventListener(e,"touchstart.zoneless.passive",({touches:d})=>{let f=d[0];if(!f)return;let{clientX:m,clientY:y}=f;i={clientX:m,clientY:y},n=setTimeout(()=>{this.dispatchLongtapEvent(e,m,y),r()},x7)}),s=this.manager.addEventListener(e,"touchmove.zoneless.passive",({touches:d})=>{let f=d[0];if(!f||!i)return;let{clientX:m,clientY:y}=f;Math.hypot(m-i.clientX,y-i.clientY)<=R7||r()}),c=this.manager.addEventListener(e,"touchcancel.zoneless.passive",r),u=this.manager.addEventListener(e,"touchend.zoneless.passive",r);return()=>{o(),s(),c(),u()}}dispatchLongtapEvent(e,n,i){e.dispatchEvent(new wS("longtap",{clientX:n,clientY:i,bubbles:!1,cancelable:!1,composed:!1}))}},z_=class{supports(e){return this.regExp.test(e)}getDelay(e){let n=this.regExp.exec(e);if(!n?.groups)throw new Error(`Invalid event: ${e}`);let{time:i,units:r}=n.groups;switch(r){case"ms":return Number(i);case"s":return Number(i)*1e3;default:throw new Error(`Invalid event: ${e}`)}}unwrap(e){return e.replace(this.regExp,"")}},bS=class extends z_{constructor(){super(...arguments),this.regExp=/\.debounce~(?<time>\d+)(?<units>ms|s)/}addEventListener(e,n,i){let r,o=this.manager.addEventListener(e,this.unwrap(n),s=>{clearTimeout(r),r=setTimeout(()=>{i(s)},this.getDelay(n))});return()=>{clearTimeout(r),o()}}},Js=class{supports(e){return e.includes(this.modifier)}unwrap(e){return e.split(".").filter(n=>!this.modifier.includes(n)).join(".")}},M7=new M("",{factory:()=>{let t=g($e);return e=>e==="body"?t.body:t.defaultView[e]||t.createElement("div")}}),N7=(()=>{let e=class e extends Js{constructor(){super(...arguments),this.handler=g(M7),this.modifier=">"}addEventListener(i,r,o){return this.manager.addEventListener(this.handler(r.split(">")[0]),r.split(">")?.[1]??"",o)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),P7=(()=>{let e=class e extends Js{constructor(){super(...arguments),this.modifier="capture.once.passive"}supports(i){return i.includes(".")&&!this.unwrap(i).includes(".")}addEventListener(i,r,o){let s=this.unwrap(r),c=r.includes(".capture");return i.addEventListener(s,o,{capture:c,once:r.includes(".once"),passive:r.includes(".passive")}),()=>i.removeEventListener(s,o,{capture:c})}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),O7=(()=>{let e=class e extends Js{constructor(){super(...arguments),this.modifier=".prevent"}addEventListener(i,r,o){return this.manager.addEventListener(i,this.unwrap(r),s=>{s.preventDefault(),o(s)})}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),k7=(()=>{let e=class e extends Js{constructor(){super(...arguments),this.modifier="resize"}supports(i){return i==="resize"}addEventListener(i,r,o){if(typeof ResizeObserver>"u"||!(i instanceof Element))return i.addEventListener(r,o),()=>i.removeEventListener(r,o);let s=new ResizeObserver(o);return s.observe(i),()=>s.disconnect()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),F7=(()=>{let e=class e extends Js{constructor(){super(...arguments),this.modifier=".self"}addEventListener(i,r,o){return this.manager.addEventListener(i,this.unwrap(r),s=>{s.target===s.currentTarget&&o(s)})}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),$_=(()=>{let e=class e extends Js{constructor(){super(...arguments),this.modifier=".silent"}addEventListener(i,r,o){return e.ngZone=this.manager.getZone(),e.ngZone.runOutsideAngular(()=>this.manager.addEventListener(i,this.unwrap(r),o))}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),L7=(()=>{let e=class e extends Js{constructor(){super(...arguments),this.modifier=".stop"}addEventListener(i,r,o){return this.manager.addEventListener(i,this.unwrap(r),s=>{s.stopPropagation(),o(s)})}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),TS=class extends z_{constructor(){super(...arguments),this.regExp=/\.throttle~(?<time>\d+)(?<units>ms|s)/}addEventListener(e,n,i){let r,o=this.manager.addEventListener(e,this.unwrap(n),s=>{r===void 0&&(i(s),r=setTimeout(()=>{r=void 0},this.getDelay(n)))});return()=>{clearTimeout(r),o()}}},V7=(()=>{let e=class e extends $_{constructor(){super(...arguments),this.modifier=".zoneless"}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),U7=[$_,V7,F7,N7,P7,O7,k7,L7,IS,bS,TS],B7=U7.map(t=>({provide:Xu,multi:!0,useClass:t}));function jL(){return B7}function HL(t){return(e,n,i)=>{let{value:r}=i;i.value=function(...o){t.apply(this,o)&&($_.ngZone?$_.ngZone.run(()=>r.apply(this,o)):r.apply(this,o))}}}var Ye=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ye||{}),Io="*";function zL(t,e=null){return{type:Ye.Sequence,steps:t,options:e}}function CS(t){return{type:Ye.Style,styles:t,offset:null}}var ea=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,n=0){this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Yd=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,c)=>Math.max(s,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Sm="!";function $L(t){return new q(3e3,!1)}function j7(){return new q(3100,!1)}function H7(){return new q(3101,!1)}function z7(t){return new q(3001,!1)}function $7(t){return new q(3003,!1)}function q7(t){return new q(3004,!1)}function GL(t,e){return new q(3005,!1)}function WL(){return new q(3006,!1)}function KL(){return new q(3007,!1)}function QL(t,e){return new q(3008,!1)}function YL(t){return new q(3002,!1)}function ZL(t,e,n,i,r){return new q(3010,!1)}function XL(){return new q(3011,!1)}function JL(){return new q(3012,!1)}function eV(){return new q(3200,!1)}function tV(){return new q(3202,!1)}function nV(){return new q(3013,!1)}function iV(t){return new q(3014,!1)}function rV(t){return new q(3015,!1)}function oV(t){return new q(3016,!1)}function sV(t,e){return new q(3404,!1)}function G7(t){return new q(3502,!1)}function aV(t){return new q(3503,!1)}function cV(){return new q(3300,!1)}function uV(t){return new q(3504,!1)}function lV(t){return new q(3301,!1)}function dV(t,e){return new q(3302,!1)}function hV(t){return new q(3303,!1)}function fV(t,e){return new q(3400,!1)}function pV(t){return new q(3401,!1)}function mV(t){return new q(3402,!1)}function gV(t,e){return new q(3505,!1)}function ta(t){switch(t.length){case 0:return new ea;case 1:return t[0];default:return new Yd(t)}}function xS(t,e,n=new Map,i=new Map){let r=[],o=[],s=-1,c=null;if(e.forEach(u=>{let d=u.get("offset"),f=d==s,m=f&&c||new Map;u.forEach((y,_)=>{let C=_,R=y;if(_!=="offset")switch(C=t.normalizePropertyName(C,r),R){case Sm:R=n.get(_);break;case Io:R=i.get(_);break;default:R=t.normalizeStyleValue(_,C,R,r);break}m.set(C,R)}),f||o.push(m),c=m,s=d}),r.length)throw G7(r);return o}function q_(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&DS(n,"start",t)));break;case"done":t.onDone(()=>i(n&&DS(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&DS(n,"destroy",t)));break}}function DS(t,e,n){let i=n.totalTime,r=!!n.disabled,o=G_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function G_(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Yi(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function RS(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var W7=typeof document>"u"?null:document.documentElement;function W_(t){let e=t.parentNode||t.host||null;return e===W7?null:e}function K7(t){return t.substring(1,6)=="ebkit"}var Ju=null,qL=!1;function yV(t){Ju||(Ju=Q7()||{},qL=Ju.style?"WebkitAppearance"in Ju.style:!1);let e=!0;return Ju.style&&!K7(t)&&(e=t in Ju.style,!e&&qL&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ju.style)),e}function Q7(){return typeof document<"u"?document.body:null}function MS(t,e){for(;e;){if(e===t)return!0;e=W_(e)}return!1}function NS(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var Y7=1e3,PS="{{",Z7="}}",OS="ng-enter",K_="ng-leave",Am="ng-trigger",xm=".ng-trigger",kS="ng-animating",Q_=".ng-animating";function Jo(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SS(parseFloat(e[1]),e[2])}function SS(t,e){switch(e){case"s":return t*Y7;default:return t}}function Rm(t,e,n){return t.hasOwnProperty("duration")?t:J7(t,e,n)}var X7=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function J7(t,e,n){let i,r=0,o="";if(typeof t=="string"){let s=t.match(X7);if(s===null)return e.push($L(t)),{duration:0,delay:0,easing:""};i=SS(parseFloat(s[1]),s[2]);let c=s[3];c!=null&&(r=SS(parseFloat(c),s[4]));let u=s[5];u&&(o=u)}else i=t;if(!n){let s=!1,c=e.length;i<0&&(e.push(j7()),s=!0),r<0&&(e.push(H7()),s=!0),s&&e.splice(c,0,$L(t))}return{duration:i,delay:r,easing:o}}function vV(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function bo(t,e,n){e.forEach((i,r)=>{let o=Y_(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function ac(t,e){e.forEach((n,i)=>{let r=Y_(i);t.style[r]=""})}function Zd(t){return Array.isArray(t)?t.length==1?t[0]:zL(t):t}function _V(t,e,n){let i=e.params||{},r=FS(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(z7(o))})}var AS=new RegExp(`${PS}\\s*(.+?)\\s*${Z7}`,"g");function FS(t){let e=[];if(typeof t=="string"){let n;for(;n=AS.exec(t);)e.push(n[1]);AS.lastIndex=0}return e}function Xd(t,e,n){let i=`${t}`,r=i.replace(AS,(o,s)=>{let c=e[s];return c==null&&(n.push($7(s)),c=""),c.toString()});return r==i?t:r}var eK=/-+([a-z0-9])/g;function Y_(t){return t.replace(eK,(...e)=>e[1].toUpperCase())}function EV(t,e){return t===0||e===0}function wV(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(c=>s.set(c,Z_(t,c)))}}return e}function Zi(t,e,n){switch(e.type){case Ye.Trigger:return t.visitTrigger(e,n);case Ye.State:return t.visitState(e,n);case Ye.Transition:return t.visitTransition(e,n);case Ye.Sequence:return t.visitSequence(e,n);case Ye.Group:return t.visitGroup(e,n);case Ye.Animate:return t.visitAnimate(e,n);case Ye.Keyframes:return t.visitKeyframes(e,n);case Ye.Style:return t.visitStyle(e,n);case Ye.Reference:return t.visitReference(e,n);case Ye.AnimateChild:return t.visitAnimateChild(e,n);case Ye.AnimateRef:return t.visitAnimateRef(e,n);case Ye.Query:return t.visitQuery(e,n);case Ye.Stagger:return t.visitStagger(e,n);default:throw q7(e.type)}}function Z_(t,e){return window.getComputedStyle(t)[e]}var JS=(()=>{class t{validateStyleProperty(n){return yV(n)}containsElement(n,i){return MS(n,i)}getParentElement(n){return W_(n)}query(n,i,r){return NS(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,s,c=[],u){return new ea(r,o)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),tl=class{static NOOP=new JS},nl=class{};var tK=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),n0=class extends nl{normalizePropertyName(e,n){return Y_(e)}normalizeStyleValue(e,n,i,r){let o="",s=i.toString().trim();if(tK.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&r.push(GL(e,i))}return s+o}};var i0="*";function nK(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>iK(i,n,e)):n.push(t),n}function iK(t,e,n){if(t[0]==":"){let u=rK(t,n);if(typeof u=="function"){e.push(u);return}t=u}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(rV(t)),e;let r=i[1],o=i[2],s=i[3];e.push(IV(r,s));let c=r==i0&&s==i0;o[0]=="<"&&!c&&e.push(IV(s,r))}function rK(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(oV(t)),"* => *"}}var X_=new Set(["true","1"]),J_=new Set(["false","0"]);function IV(t,e){let n=X_.has(t)||J_.has(t),i=X_.has(e)||J_.has(e);return(r,o)=>{let s=t==i0||t==r,c=e==i0||e==o;return!s&&n&&typeof r=="boolean"&&(s=r?X_.has(t):J_.has(t)),!c&&i&&typeof o=="boolean"&&(c=o?X_.has(e):J_.has(e)),s&&c}}var NV=":self",oK=new RegExp(`s*${NV}s*,?`,"g");function PV(t,e,n,i){return new HS(t).build(e,n,i)}var bV="",HS=class{_driver;constructor(e){this._driver=e}build(e,n,i){let r=new zS(n);return this._resetContextStyleTimingState(r),Zi(this,Zd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=bV,e.collectedStyles=new Map,e.collectedStyles.set(bV,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(WL()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(n),c.type==Ye.State){let u=c,d=u.name;d.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,o.push(this.visitState(u,n))}),u.name=d}else if(c.type==Ye.Transition){let u=this.visitTransition(c,n);i+=u.queryCount,r+=u.depCount,s.push(u)}else n.errors.push(KL())}),{type:Ye.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{FS(u).forEach(d=>{s.hasOwnProperty(d)||o.add(d)})})}),o.size&&n.errors.push(QL(e.name,[...o.values()]))}return{type:Ye.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Zi(this,Zd(e.animation),n),r=nK(e.expr,n.errors);return{type:Ye.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:el(e.options)}}visitSequence(e,n){return{type:Ye.Sequence,steps:e.steps.map(i=>Zi(this,i,n)),options:el(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(s=>{n.currentTime=i;let c=Zi(this,s,n);return r=Math.max(r,n.currentTime),c});return n.currentTime=r,{type:Ye.Group,steps:o,options:el(e.options)}}visitAnimate(e,n){let i=uK(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:CS({});if(o.type==Ye.Keyframes)r=this.visitKeyframes(o,n);else{let s=e.styles,c=!1;if(!s){c=!0;let d={};i.easing&&(d.easing=i.easing),s=CS(d)}n.currentTime+=i.duration+i.delay;let u=this.visitStyle(s,n);u.isEmptyStep=c,r=u}return n.currentAnimateTimings=null,{type:Ye.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of r)typeof c=="string"?c===Io?i.push(c):n.errors.push(YL(c)):i.push(new Map(Object.entries(c)));let o=!1,s=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(s=c.get("easing"),c.delete("easing")),!o)){for(let u of c.values())if(u.toString().indexOf(PS)>=0){o=!0;break}}}),{type:Ye.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((c,u)=>{let d=n.collectedStyles.get(n.currentQuerySelector),f=d.get(u),m=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(n.errors.push(ZL(u,f.startTime,f.endTime,o,r)),m=!1),o=f.startTime),m&&d.set(u,{startTime:o,endTime:r}),n.options&&_V(c,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:Ye.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(XL()),i;let r=1,o=0,s=[],c=!1,u=!1,d=0,f=e.steps.map(k=>{let $=this._makeStyleAst(k,n),K=$.offset!=null?$.offset:cK($.styles),he=0;return K!=null&&(o++,he=$.offset=K),u=u||he<0||he>1,c=c||he<d,d=he,s.push(he),$});u&&n.errors.push(JL()),c&&n.errors.push(eV());let m=e.steps.length,y=0;o>0&&o<m?n.errors.push(tV()):o==0&&(y=r/(m-1));let _=m-1,C=n.currentTime,R=n.currentAnimateTimings,N=R.duration;return f.forEach((k,$)=>{let K=y>0?$==_?1:y*$:s[$],he=K*N;n.currentTime=C+R.delay+he,R.duration=he,this._validateStyleAst(k,n),k.offset=K,i.styles.push(k)}),i}visitReference(e,n){return{type:Ye.Reference,animation:Zi(this,Zd(e.animation),n),options:el(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Ye.AnimateChild,options:el(e.options)}}visitAnimateRef(e,n){return{type:Ye.AnimateRef,animation:this.visitReference(e.animation,n),options:el(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=sK(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Yi(n.collectedStyles,n.currentQuerySelector,new Map);let c=Zi(this,Zd(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Ye.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:c,originalSelector:e.selector,options:el(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(nV());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Rm(e.timings,n.errors,!0);return{type:Ye.Stagger,animation:Zi(this,Zd(e.animation),n),timings:i,options:null}}};function sK(t){let e=!!t.split(/\s*,\s*/).find(n=>n==NV);return e&&(t=t.replace(oK,"")),t=t.replace(/@\*/g,xm).replace(/@\w+/g,n=>xm+"-"+n.slice(1)).replace(/:animating/g,Q_),[t,e]}function aK(t){return t?O({},t):null}var zS=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function cK(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function uK(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Rm(t,e).duration;return LS(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=LS(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=Rm(n,e);return LS(r.duration,r.delay,r.easing)}function el(t){return t?(t=O({},t),t.params&&(t.params=aK(t.params))):t={},t}function LS(t,e,n){return{duration:t,delay:e,easing:n}}function eA(t,e,n,i,r,o,s=null,c=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:c}}var Nm=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},lK=1,dK=":enter",hK=new RegExp(dK,"g"),fK=":leave",pK=new RegExp(fK,"g");function OV(t,e,n,i,r,o=new Map,s=new Map,c,u,d=[]){return new $S().buildKeyframes(t,e,n,i,r,o,s,c,u,d)}var $S=class{buildKeyframes(e,n,i,r,o,s,c,u,d,f=[]){d=d||new Nm;let m=new qS(e,n,d,r,o,f,[]);m.options=u;let y=u.delay?Jo(u.delay):0;m.currentTimeline.delayNextStep(y),m.currentTimeline.setStyles([s],null,m.errors,u),Zi(this,i,m);let _=m.timelines.filter(C=>C.containsAnimation());if(_.length&&c.size){let C;for(let R=_.length-1;R>=0;R--){let N=_[R];if(N.element===n){C=N;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([c],null,m.errors,u)}return _.length?_.map(C=>C.buildKeyframes()):[eA(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Jo(Xd(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,s=i.duration!=null?Jo(i.duration):null,c=i.delay!=null?Jo(i.delay):null;return s!==0&&e.forEach(u=>{let d=n.appendInstructionToTimeline(u,s,c);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Zi(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Ye.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=r0);let s=Jo(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Zi(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Jo(e.options.delay):0;e.steps.forEach(s=>{let c=n.createSubContext(e.options);o&&c.delayNextStep(o),Zi(this,s,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?Xd(i,n.params,n.errors):i;return Rm(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==Ye.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,c=n.createSubContext().currentTimeline;c.easing=i.easing,e.styles.forEach(u=>{let d=u.offset||0;c.forwardTime(d*o),c.setStyles(u.styles,u.easing,n.errors,n.options),c.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(c),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?Jo(r.delay):0;o&&(n.previousNode.type===Ye.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=r0);let s=i,c=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=c.length;let u=null;c.forEach((d,f)=>{n.currentQueryIndex=f;let m=n.createSubContext(e.options,d);o&&m.delayNextStep(o),d===n.element&&(u=m.currentTimeline),Zi(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe();let y=m.currentTimeline.currentTime;s=Math.max(s,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),c=s*(n.currentQueryTotal-1),u=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=i.currentStaggerTime;break}let f=n.currentTimeline;u&&f.delayNextStep(u);let m=f.currentTime;Zi(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-m+(r.startTime-i.currentTimeline.startTime)}},r0={},qS=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=r0;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,n,i,r,o,s,c,u){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=c,this.currentTimeline=u||new o0(this._driver,n,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Jo(i.duration)),i.delay!=null&&(r.delay=Jo(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(c=>{(!n||!s.hasOwnProperty(c))&&(s[c]=Xd(o[c],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=r0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new GS(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,s){let c=[];if(r&&c.push(this.element),e.length>0){e=e.replace(hK,"."+this._enterClassName),e=e.replace(pK,"."+this._leaveClassName);let u=i!=1,d=this._driver.query(this.element,e,u);i!==0&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),c.push(...d)}return!o&&c.length==0&&s.push(iV(n)),c}},o0=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=lK,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Io),this._currentKeyframe.set(n,Io);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},s=mK(e,this._globalTimelineStyles);for(let[c,u]of s){let d=Xd(u,o,i);this._pendingStyles.set(c,d),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Io),this._updateStyle(c,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((c,u)=>{let d=new Map([...this._backFill,...c]);d.forEach((f,m)=>{f===Sm?e.add(m):f===Io&&n.add(m)}),i||d.set("offset",u/this.duration),r.push(d)});let o=[...e.values()],s=[...n.values()];if(i){let c=r[0],u=new Map(c);c.set("offset",0),u.set("offset",1),r=[c,u]}return eA(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},GS=class extends o0{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,n,i,r,o,s,c=!1){super(e,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=i+n,c=n/s,u=new Map(e[0]);u.set("offset",0),o.push(u);let d=new Map(e[0]);d.set("offset",TV(c)),o.push(d);let f=e.length-1;for(let m=1;m<=f;m++){let y=new Map(e[m]),_=y.get("offset"),C=n+_*i;y.set("offset",TV(C/s)),o.push(y)}i=s,n=0,r="",e=o}return eA(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function TV(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function mK(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,Io)}else for(let[o,s]of r)n.set(o,s)}),n}function CV(t,e,n,i,r,o,s,c,u,d,f,m,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:c,queriedElements:u,preStyleProps:d,postStyleProps:f,totalTime:m,errors:y}}var VS={},s0=class{_triggerName;ast;_stateStyles;constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return gK(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,s,c,u,d,f){let m=[],y=this.ast.options&&this.ast.options.params||VS,_=c&&c.params||VS,C=this.buildStyles(i,_,m),R=u&&u.params||VS,N=this.buildStyles(r,R,m),k=new Set,$=new Map,K=new Map,he=r==="void",Ke={params:kV(R,y),delay:this.ast.options?.delay},fe=f?[]:OV(e,n,this.ast.animation,o,s,C,N,Ke,d,m),b=0;return fe.forEach(v=>{b=Math.max(v.duration+v.delay,b)}),m.length?CV(n,this._triggerName,i,r,he,C,N,[],[],$,K,b,m):(fe.forEach(v=>{let E=v.element,I=Yi($,E,new Set);v.preStyleProps.forEach(S=>I.add(S));let T=Yi(K,E,new Set);v.postStyleProps.forEach(S=>T.add(S)),E!==n&&k.add(E)}),CV(n,this._triggerName,i,r,he,C,N,fe,[...k.values()],$,K,b))}};function gK(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function kV(t,e){let n=O({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var WS=class{styles;defaultParams;normalizer;constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=kV(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,c)=>{s&&(s=Xd(s,r,n));let u=this.normalizer.normalizePropertyName(c,n);s=this.normalizer.normalizeStyleValue(c,u,s,n),i.set(c,s)})}),i}};function yK(t,e,n){return new KS(t,e,n)}var KS=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new WS(r.style,o,i))}),DV(this.states,"true","1"),DV(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new s0(e,r,this.states))}),this.fallbackTransition=vK(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(s=>s.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function vK(t,e,n){let i=[(s,c)=>!0],r={type:Ye.Sequence,steps:[],options:null},o={type:Ye.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new s0(t,o,e)}function DV(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var _K=new Nm,QS=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i}register(e,n){let i=[],r=[],o=PV(this._driver,n,i,r);if(i.length)throw aV(i);this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=xS(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),s,c=new Map;if(o?(s=OV(this._driver,n,o,OS,K_,new Map,new Map,i,_K,r),s.forEach(f=>{let m=Yi(c,f.element,new Map);f.postStyleProps.forEach(y=>m.set(y,null))})):(r.push(cV()),s=[]),r.length)throw uV(r);c.forEach((f,m)=>{f.forEach((y,_)=>{f.set(_,this._driver.computeStyle(m,_,Io))})});let u=s.map(f=>{let m=c.get(f.element);return this._buildPlayer(f,new Map,m)}),d=ta(u);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw lV(e);return n}listen(e,n,i,r){let o=G_(n,"","","");return q_(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},SV="ng-animate-queued",EK=".ng-animate-queued",US="ng-animate-disabled",wK=".ng-animate-disabled",IK="ng-star-inserted",bK=".ng-star-inserted",TK=[],FV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},To="__ng_removed",Pm=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=SK(r),i){let o=e,{value:s}=o,c=Oa(o,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},Mm="void",BS=new Pm(Mm),YS=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this._hostClassName="ng-tns-"+e,kr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw dV(i,n);if(i==null||i.length==0)throw hV(n);if(!AK(i))throw fV(i,n);let o=Yi(this._elementListeners,e,[]),s={name:n,phase:i,callback:r};o.push(s);let c=Yi(this._engine.statesByElement,e,new Map);return c.has(n)||(kr(e,Am),kr(e,Am+"-"+n),c.set(n,BS)),()=>{this._engine.afterFlush(()=>{let u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(n)||c.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw pV(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),s=new Om(this.id,n,e),c=this._engine.statesByElement.get(e);c||(kr(e,Am),kr(e,Am+"-"+n),this._engine.statesByElement.set(e,c=new Map));let u=c.get(n),d=new Pm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),c.set(n,d),u||(u=BS),!(d.value===Mm)&&u.value===d.value){if(!MK(u.params,d.params)){let R=[],N=o.matchStyles(u.value,u.params,R),k=o.matchStyles(d.value,d.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{ac(e,N),bo(e,k)})}return}let y=Yi(this._engine.playersByElement,e,[]);y.forEach(R=>{R.namespaceId==this.id&&R.triggerName==n&&R.queued&&R.destroy()});let _=o.matchTransition(u.value,d.value,e,d.params),C=!1;if(!_){if(!r)return;_=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:_,fromState:u,toState:d,player:s,isFallbackTransition:C}),C||(kr(e,SV),s.onStart(()=>{Jd(e,SV)})),s.onDone(()=>{let R=this.players.indexOf(s);R>=0&&this.players.splice(R,1);let N=this._engine.playersByElement.get(e);if(N){let k=N.indexOf(s);k>=0&&N.splice(k,1)}}),this.players.push(s),y.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,xm,!0);i.forEach(r=>{if(r[To])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let c=[];if(o.forEach((u,d)=>{if(s.set(d,u.value),this._triggers.has(d)){let f=this.trigger(e,d,Mm,r);f&&c.push(f)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),i&&ta(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let u=this._triggers.get(s).fallbackTransition,d=i.get(s)||BS,f=new Pm(Mm),m=new Om(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:u,fromState:d,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[To];(!o||o===FV)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){kr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(c=>{if(c.name==i.triggerName){let u=G_(o,i.triggerName,i.fromState.value,i.toState.value);u._data=e,q_(i.player,c.phase,u,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ZS=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,n)=>{};_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new YS(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,c=this.driver.getParentElement(n);for(;c;){let u=r.get(c);if(u){let d=i.indexOf(u);i.splice(d+1,0,e),s=!0;break}c=this.driver.getParentElement(c)}s||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(e0(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!e0(n))return;let o=n[To];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kr(e,US)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Jd(e,US))}removeNode(e,n,i){if(e0(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[To]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return e0(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,xm,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Q_,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ta(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[To];if(n&&n.setForRemoval){if(e[To]=FV,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(US)&&this.markElementAsDisabled(e,!1),this.driver.query(e,wK,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];kr(r,IK)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?ta(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw mV(e)}_flushAnimations(e,n){let i=new Nm,r=[],o=new Map,s=[],c=new Map,u=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(ae=>{f.add(ae);let ue=this.driver.query(ae,EK,!0);for(let pe=0;pe<ue.length;pe++)f.add(ue[pe])});let m=this.bodyNode,y=Array.from(this.statesByElement.keys()),_=RV(y,this.collectedEnterElements),C=new Map,R=0;_.forEach((ae,ue)=>{let pe=OS+R++;C.set(ue,pe),ae.forEach(Ge=>kr(Ge,pe))});let N=[],k=new Set,$=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){let ue=this.collectedLeaveElements[ae],pe=ue[To];pe&&pe.setForRemoval&&(N.push(ue),k.add(ue),pe.hasAnimation?this.driver.query(ue,bK,!0).forEach(Ge=>k.add(Ge)):$.add(ue))}let K=new Map,he=RV(y,Array.from(k));he.forEach((ae,ue)=>{let pe=K_+R++;K.set(ue,pe),ae.forEach(Ge=>kr(Ge,pe))}),e.push(()=>{_.forEach((ae,ue)=>{let pe=C.get(ue);ae.forEach(Ge=>Jd(Ge,pe))}),he.forEach((ae,ue)=>{let pe=K.get(ue);ae.forEach(Ge=>Jd(Ge,pe))}),N.forEach(ae=>{this.processLeaveNode(ae)})});let Ke=[],fe=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(n).forEach(pe=>{let Ge=pe.player,tn=pe.element;if(Ke.push(Ge),this.collectedEnterElements.length){let Ot=tn[To];if(Ot&&Ot.setForMove){if(Ot.previousTriggersValues&&Ot.previousTriggersValues.has(pe.triggerName)){let $r=Ot.previousTriggersValues.get(pe.triggerName),li=this.statesByElement.get(pe.element);if(li&&li.has(pe.triggerName)){let $i=li.get(pe.triggerName);$i.value=$r,li.set(pe.triggerName,$i)}}Ge.destroy();return}}let Hi=!m||!this.driver.containsElement(m,tn),wt=K.get(tn),He=C.get(tn),zt=this._buildInstruction(pe,i,He,wt,Hi);if(zt.errors&&zt.errors.length){fe.push(zt);return}if(Hi){Ge.onStart(()=>ac(tn,zt.fromStyles)),Ge.onDestroy(()=>bo(tn,zt.toStyles)),r.push(Ge);return}if(pe.isFallbackTransition){Ge.onStart(()=>ac(tn,zt.fromStyles)),Ge.onDestroy(()=>bo(tn,zt.toStyles)),r.push(Ge);return}let zi=[];zt.timelines.forEach(Ot=>{Ot.stretchStartingKeyframe=!0,this.disabledNodes.has(Ot.element)||zi.push(Ot)}),zt.timelines=zi,i.append(tn,zt.timelines);let Df={instruction:zt,player:Ge,element:tn};s.push(Df),zt.queriedElements.forEach(Ot=>Yi(c,Ot,[]).push(Ge)),zt.preStyleProps.forEach((Ot,$r)=>{if(Ot.size){let li=u.get($r);li||u.set($r,li=new Set),Ot.forEach(($i,tr)=>li.add(tr))}}),zt.postStyleProps.forEach((Ot,$r)=>{let li=d.get($r);li||d.set($r,li=new Set),Ot.forEach(($i,tr)=>li.add(tr))})});if(fe.length){let ae=[];fe.forEach(ue=>{ae.push(gV(ue.triggerName,ue.errors))}),Ke.forEach(ue=>ue.destroy()),this.reportError(ae)}let b=new Map,v=new Map;s.forEach(ae=>{let ue=ae.element;i.has(ue)&&(v.set(ue,ue),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,b))}),r.forEach(ae=>{let ue=ae.element;this._getPreviousPlayers(ue,!1,ae.namespaceId,ae.triggerName,null).forEach(Ge=>{Yi(b,ue,[]).push(Ge),Ge.destroy()})});let E=N.filter(ae=>MV(ae,u,d)),I=new Map;xV(I,this.driver,$,d,Io).forEach(ae=>{MV(ae,u,d)&&E.push(ae)});let S=new Map;_.forEach((ae,ue)=>{xV(S,this.driver,new Set(ae),u,Sm)}),E.forEach(ae=>{let ue=I.get(ae),pe=S.get(ae);I.set(ae,new Map([...ue?.entries()??[],...pe?.entries()??[]]))});let w=[],fn=[],ji={};s.forEach(ae=>{let{element:ue,player:pe,instruction:Ge}=ae;if(i.has(ue)){if(f.has(ue)){pe.onDestroy(()=>bo(ue,Ge.toStyles)),pe.disabled=!0,pe.overrideTotalTime(Ge.totalTime),r.push(pe);return}let tn=ji;if(v.size>1){let wt=ue,He=[];for(;wt=wt.parentNode;){let zt=v.get(wt);if(zt){tn=zt;break}He.push(wt)}He.forEach(zt=>v.set(zt,tn))}let Hi=this._buildAnimation(pe.namespaceId,Ge,b,o,S,I);if(pe.setRealPlayer(Hi),tn===ji)w.push(pe);else{let wt=this.playersByElement.get(tn);wt&&wt.length&&(pe.parentPlayer=ta(wt)),r.push(pe)}}else ac(ue,Ge.fromStyles),pe.onDestroy(()=>bo(ue,Ge.toStyles)),fn.push(pe),f.has(ue)&&r.push(pe)}),fn.forEach(ae=>{let ue=o.get(ae.element);if(ue&&ue.length){let pe=ta(ue);ae.setRealPlayer(pe)}}),r.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<N.length;ae++){let ue=N[ae],pe=ue[To];if(Jd(ue,K_),pe&&pe.hasAnimation)continue;let Ge=[];if(c.size){let Hi=c.get(ue);Hi&&Hi.length&&Ge.push(...Hi);let wt=this.driver.query(ue,Q_,!0);for(let He=0;He<wt.length;He++){let zt=c.get(wt[He]);zt&&zt.length&&Ge.push(...zt)}}let tn=Ge.filter(Hi=>!Hi.destroyed);tn.length?xK(this,ue,tn):this.processLeaveNode(ue)}return N.length=0,w.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();let ue=this.players.indexOf(ae);this.players.splice(ue,1)}),ae.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let s=[];if(n){let c=this.playersByQueriedElement.get(e);c&&(s=c)}else{let c=this.playersByElement.get(e);if(c){let u=!o||o==Mm;c.forEach(d=>{d.queued||!u&&d.triggerName!=r||s.push(d)})}}return(i||r)&&(s=s.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),s}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,c=n.isRemovalTransition?void 0:r;for(let u of n.timelines){let d=u.element,f=d!==o,m=Yi(i,d,[]);this._getPreviousPlayers(d,f,s,c,n.toState).forEach(_=>{let C=_.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),_.destroy(),m.push(_)})}ac(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,s){let c=n.triggerName,u=n.element,d=[],f=new Set,m=new Set,y=n.timelines.map(C=>{let R=C.element;f.add(R);let N=R[To];if(N&&N.removedBeforeQueried)return new ea(C.duration,C.delay);let k=R!==u,$=RK((i.get(R)||TK).map(b=>b.getRealPlayer())).filter(b=>{let v=b;return v.element?v.element===R:!1}),K=o.get(R),he=s.get(R),Ke=xS(this._normalizer,C.keyframes,K,he),fe=this._buildPlayer(C,Ke,$);if(C.subTimeline&&r&&m.add(R),k){let b=new Om(e,c,R);b.setRealPlayer(fe),d.push(b)}return fe});d.forEach(C=>{Yi(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>DK(this.playersByQueriedElement,C.element,C))}),f.forEach(C=>kr(C,kS));let _=ta(y);return _.onDestroy(()=>{f.forEach(C=>Jd(C,kS)),bo(u,n.toStyles)}),m.forEach(C=>{Yi(r,C,[]).push(_)}),_}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new ea(e.duration,e.delay)}},Om=class{namespaceId;triggerName;element;_player=new ea;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>q_(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Yi(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function DK(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function SK(t){return t??null}function e0(t){return t&&t.nodeType===1}function AK(t){return t=="start"||t=="done"}function AV(t,e){let n=t.style.display;return t.style.display=e??"none",n}function xV(t,e,n,i,r){let o=[];n.forEach(u=>o.push(AV(u)));let s=[];i.forEach((u,d)=>{let f=new Map;u.forEach(m=>{let y=e.computeStyle(d,m,r);f.set(m,y),(!y||y.length==0)&&(d[To]=CK,s.push(d))}),t.set(d,f)});let c=0;return n.forEach(u=>AV(u,o[c++])),s}function RV(t,e){let n=new Map;if(t.forEach(c=>n.set(c,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function s(c){if(!c)return i;let u=o.get(c);if(u)return u;let d=c.parentNode;return n.has(d)?u=d:r.has(d)?u=i:u=s(d),o.set(c,u),u}return e.forEach(c=>{let u=s(c);u!==i&&n.get(u).push(c)}),n}function kr(t,e){t.classList?.add(e)}function Jd(t,e){t.classList?.remove(e)}function xK(t,e,n){ta(n).onDone(()=>t.processLeaveNode(e))}function RK(t){let e=[];return LV(t,e),e}function LV(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof Yd?LV(i.players,e):e.push(i)}}function MK(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function MV(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var cc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,n)=>{};constructor(e,n,i){this._driver=n,this._normalizer=i,this._transitionEngine=new ZS(e.body,n,i),this._timelineEngine=new QS(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){let s=e+"-"+r,c=this._triggerCache[s];if(!c){let u=[],d=[],f=PV(this._driver,o,u,d);if(u.length)throw sV(r,u);c=yK(r,f,this._normalizer),this._triggerCache[s]=c}this._transitionEngine.registerTrigger(n,r,c)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,s]=RS(i),c=r;this._timelineEngine.command(o,n,s,c)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[s,c]=RS(i);return this._timelineEngine.listen(s,n,c,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function NK(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=jS(e[0]),e.length>1&&(i=jS(e[e.length-1]))):e instanceof Map&&(n=jS(e)),n||i?new PK(t,n,i):null}var PK=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bo(this._element,this._initialStyles),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ac(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ac(this._element,this._endStyles),this._endStyles=null),bo(this._element,this._initialStyles),this._state=3)}}return t})();function jS(t){let e=null;return t.forEach((n,i)=>{OK(i)&&(e=e||new Map,e.set(i,n))}),e}function OK(t){return t==="display"||t==="position"}var a0=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Z_(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},c0=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return MS(e,n)}getParentElement(e){return W_(e)}query(e,n,i){return NS(e,n,i)}computeStyle(e,n,i){return Z_(e,n)}animate(e,n,i,r,o,s=[]){let c=r==0?"both":"forwards",u={duration:i,delay:r,fill:c};o&&(u.easing=o);let d=new Map,f=s.filter(_=>_ instanceof a0);EV(i,r)&&f.forEach(_=>{_.currentSnapshot.forEach((C,R)=>d.set(R,C))});let m=vV(n).map(_=>new Map(_));m=wV(e,m,d);let y=NK(e,m);return new a0(e,m,u,y)}};var t0="@",VV="@.disabled",u0=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==t0&&n==VV?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i,r){return this.delegate.listen(e,n,i,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},XS=class extends u0{factory;constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==t0?n.charAt(1)=="."&&n==VV?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i,r){if(n.charAt(0)==t0){let o=kK(e),s=n.slice(1),c="";return s.charAt(0)!=t0&&([s,c]=FK(s)),this.engine.listen(this.namespaceId,o,s,c,u=>{let d=u._data||-1;this.factory.scheduleListenerCallback(d,i,u)})}return this.delegate.listen(e,n,i,r)}};function kK(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function FK(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var l0=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,n.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let d=this._rendererCache,f=d.get(r);if(!f){let m=()=>d.delete(r);f=new u0(i,r,this.engine,m),d.set(r,f)}return f}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(o,s,e,d.name,d)};return n.data.animation.forEach(c),new XS(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,c]=o;s(c)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var VK=(()=>{class t extends cc{constructor(n,i,r){super(n,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||t)(Ee($e),Ee(tl),Ee(nl))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function UK(){return new n0}function BK(t,e,n){return new l0(t,e,n)}var UV=[{provide:nl,useFactory:UK},{provide:cc,useClass:VK},{provide:vo,useFactory:BK,deps:[Cm,cc,_e]}],rAe=[{provide:tl,useClass:JS},{provide:u_,useValue:"NoopAnimations"},...UV],jK=[{provide:tl,useFactory:()=>new c0},{provide:u_,useFactory:()=>"BrowserAnimations"},...UV];function BV(){return lr("NgEagerAnimations"),[...jK]}var qe="primary",Wm=Symbol("RouteTitle"),oA=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ol(t){return new oA(t)}function KV(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=t[o];if(s[0]===":")r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function HK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!es(t[n],e[n]))return!1;return!0}function es(t,e){let n=t?sA(t):void 0,i=e?sA(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!QV(t[r],e[r]))return!1;return!0}function sA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function QV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function YV(t){return t.length>0?t[t.length-1]:null}function na(t){return ov(t)?t:Zs(t)?Ft(Promise.resolve(t)):te(t)}var zK={exact:XV,subset:JV},ZV={exact:$K,subset:qK,ignored:()=>!0};function jV(t,e,n){return zK[n.paths](t.root,e.root,n.matrixParams)&&ZV[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $K(t,e){return es(t,e)}function XV(t,e,n){if(!il(t.segments,e.segments)||!f0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!XV(t.children[i],e.children[i],n))return!1;return!0}function qK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QV(t[n],e[n]))}function JV(t,e,n){return e2(t,e,e.segments,n)}function e2(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!il(r,n)||e.hasChildren()||!f0(r,n,i))}else if(t.segments.length===n.length){if(!il(t.segments,n)||!f0(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!JV(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!il(t.segments,r)||!f0(t.segments,r,i)||!t.children[qe]?!1:e2(t.children[qe],e,o,i)}}function f0(t,e,n){return e.every((i,r)=>ZV[n](t[r].parameters,i.parameters))}var ns=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ct([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ol(this.queryParams),this._queryParamMap}toString(){return KK.serialize(this)}},Ct=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return p0(this)}},uc=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ol(this.parameters),this._parameterMap}toString(){return n2(this)}};function GK(t,e){return il(t,e)&&t.every((n,i)=>es(n.parameters,e[i].parameters))}function il(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function WK(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===qe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==qe&&(n=n.concat(e(r,i)))}),n}var sl=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>new lc,providedIn:"root"})}return t})(),lc=class{parse(e){let n=new cA(e);return new ns(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${km(e.root,!0)}`,i=ZK(e.queryParams),r=typeof e.fragment=="string"?`#${QK(e.fragment)}`:"";return`${n}${i}${r}`}},KK=new lc;function p0(t){return t.segments.map(e=>n2(e)).join("/")}function km(t,e){if(!t.hasChildren())return p0(t);if(e){let n=t.children[qe]?km(t.children[qe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==qe&&i.push(`${r}:${km(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=WK(t,(i,r)=>r===qe?[km(t.children[qe],!1)]:[`${r}:${km(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[qe]!=null?`${p0(t)}/${n[0]}`:`${p0(t)}/(${n.join("//")})`}}function t2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function d0(t){return t2(t).replace(/%3B/gi,";")}function QK(t){return encodeURI(t)}function aA(t){return t2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function m0(t){return decodeURIComponent(t)}function HV(t){return m0(t.replace(/\+/g,"%20"))}function n2(t){return`${aA(t.path)}${YK(t.parameters)}`}function YK(t){return Object.entries(t).map(([e,n])=>`;${aA(e)}=${aA(n)}`).join("")}function ZK(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${d0(n)}=${d0(r)}`).join("&"):`${d0(n)}=${d0(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var XK=/^[^\/()?;#]+/;function tA(t){let e=t.match(XK);return e?e[0]:""}var JK=/^[^\/()?;=#]+/;function eQ(t){let e=t.match(JK);return e?e[0]:""}var tQ=/^[^=?&#]+/;function nQ(t){let e=t.match(tQ);return e?e[0]:""}var iQ=/^[^&#]+/;function rQ(t){let e=t.match(iQ);return e?e[0]:""}var cA=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[qe]=new Ct(e,n)),i}parseSegment(){let e=tA(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new uc(m0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=eQ(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=tA(this.remaining);r&&(i=r,this.capture(i))}e[m0(n)]=m0(i)}parseQueryParam(e){let n=nQ(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=rQ(this.remaining);s&&(i=s,this.capture(i))}let r=HV(n),o=HV(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=tA(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new q(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=qe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[qe]:new Ct([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function i2(t){return t.segments.length>0?new Ct([],{[qe]:t}):t}function r2(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=r2(r);if(i===qe&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Ct(t.segments,e);return oQ(n)}function oQ(t){if(t.numberOfChildren===1&&t.children[qe]){let e=t.children[qe];return new Ct(t.segments.concat(e.segments),e.children)}return t}function dc(t){return t instanceof ns}function o2(t,e,n=null,i=null){let r=s2(t);return a2(r,e,n,i)}function s2(t){let e;function n(o){let s={};for(let u of o.children){let d=n(u);s[u.outlet]=d}let c=new Ct(o.url,s);return o===t&&(e=c),c}let i=n(t.root),r=i2(i);return e??r}function a2(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return nA(r,r,r,n,i);let o=sQ(e);if(o.toRoot())return nA(r,r,new Ct([],{}),n,i);let s=aQ(o,r,t),c=s.processChildren?Lm(s.segmentGroup,s.index,o.commands):u2(s.segmentGroup,s.index,o.commands);return nA(r,s.segmentGroup,c,n,i)}function g0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Um(t){return typeof t=="object"&&t!=null&&t.outlets}function nA(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;t===e?s=n:s=c2(t,e,n);let c=i2(r2(s));return new ns(c,o,r)}function c2(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=c2(o,e,n)}),new Ct(t.segments,i)}var y0=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&g0(i[0]))throw new q(4003,!1);let r=i.find(Um);if(r&&r!==YV(i))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sQ(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new y0(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new y0(n,e,i)}var nh=class{segmentGroup;processChildren;index;constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function aQ(t,e,n){if(t.isAbsolute)return new nh(e,!0,0);if(!n)return new nh(e,!1,NaN);if(n.parent===null)return new nh(n,!0,0);let i=g0(t.commands[0])?0:1,r=n.segments.length-1+i;return cQ(n,r,t.numberOfDoubleDots)}function cQ(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new q(4005,!1);r=i.segments.length}return new nh(i,!1,r-o)}function uQ(t){return Um(t[0])?t[0].outlets:{[qe]:t}}function u2(t,e,n){if(t??=new Ct([],{}),t.segments.length===0&&t.hasChildren())return Lm(t,e,n);let i=lQ(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Ct(t.segments.slice(0,i.pathIndex),{});return o.children[qe]=new Ct(t.segments.slice(i.pathIndex),t.children),Lm(o,0,r)}else return i.match&&r.length===0?new Ct(t.segments,{}):i.match&&!t.hasChildren()?uA(t,e,n):i.match?Lm(t,0,r):uA(t,e,n)}function Lm(t,e,n){if(n.length===0)return new Ct(t.segments,{});{let i=uQ(n),r={};if(Object.keys(i).some(o=>o!==qe)&&t.children[qe]&&t.numberOfChildren===1&&t.children[qe].segments.length===0){let o=Lm(t.children[qe],e,n);return new Ct(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=u2(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ct(t.segments,r)}}function lQ(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],c=n[i];if(Um(c))break;let u=`${c}`,d=i<n.length-1?n[i+1]:null;if(r>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!$V(u,d,s))return o;i+=2}else{if(!$V(u,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function uA(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Um(o)){let u=dQ(o.outlets);return new Ct(i,u)}if(r===0&&g0(n[0])){let u=t.segments[e];i.push(new uc(u.path,zV(n[0]))),r++;continue}let s=Um(o)?o.outlets[qe]:`${o}`,c=r<n.length-1?n[r+1]:null;s&&c&&g0(c)?(i.push(new uc(s,zV(c))),r+=2):(i.push(new uc(s,{})),r++)}return new Ct(i,{})}function dQ(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=uA(new Ct([],{}),0,i))}),e}function zV(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function $V(t,e,n){return t==n.path&&es(e,n.parameters)}var ih="imperative",Bn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Bn||{}),pr=class{id;url;constructor(e,n){this.id=e,this.url=n}},hc=class extends pr{type=Bn.NavigationStart;navigationTrigger;restoredState;constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fr=class extends pr{urlAfterRedirects;type=Bn.NavigationEnd;constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pi=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Pi||{}),oh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(oh||{}),ts=class extends pr{reason;code;type=Bn.NavigationCancel;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},is=class extends pr{reason;code;type=Bn.NavigationSkipped;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}},sh=class extends pr{error;target;type=Bn.NavigationError;constructor(e,n,i,r){super(e,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bm=class extends pr{urlAfterRedirects;state;type=Bn.RoutesRecognized;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v0=class extends pr{urlAfterRedirects;state;type=Bn.GuardsCheckStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_0=class extends pr{urlAfterRedirects;state;shouldActivate;type=Bn.GuardsCheckEnd;constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},E0=class extends pr{urlAfterRedirects;state;type=Bn.ResolveStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w0=class extends pr{urlAfterRedirects;state;type=Bn.ResolveEnd;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},I0=class{route;type=Bn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},b0=class{route;type=Bn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},T0=class{snapshot;type=Bn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C0=class{snapshot;type=Bn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},D0=class{snapshot;type=Bn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S0=class{snapshot;type=Bn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{routerEvent;position;anchor;type=Bn.Scroll;constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jm=class{},ch=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function hQ(t){return!(t instanceof jm)&&!(t instanceof ch)}function fQ(t,e){return t.providers&&!t._injector&&(t._injector=qd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Co(t){return t.outlet||qe}function pQ(t,e){let n=t.filter(i=>Co(i)===e);return n.push(...t.filter(i=>Co(i)!==e)),n}function dh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var A0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return dh(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new al(this.rootInjector)}},al=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new A0(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||t)(Ee(Jt))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x0=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=lA(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=lA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=dA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return dA(e,this._root).map(n=>n.value)}};function lA(t,e){if(t===e.value)return e;for(let n of e.children){let i=lA(t,n);if(i)return i}return null}function dA(t,e){if(t===e.value)return[e];for(let n of e.children){let i=dA(t,n);if(i.length)return i.unshift(e),i}return[]}var fr=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function th(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Hm=class extends x0{snapshot;constructor(e,n){super(e),this.snapshot=n,_A(this,e)}toString(){return this.snapshot.toString()}};function l2(t){let e=mQ(t),n=new ct([new uc("",{})]),i=new ct({}),r=new ct({}),o=new ct({}),s=new ct(""),c=new Lr(n,i,o,s,r,qe,t,e.root);return c.snapshot=e.root,new Hm(new fr(c,[]),e)}function mQ(t){let e={},n={},i={},r="",o=new rl([],e,i,r,n,qe,t,null,{});return new zm("",new fr(o,[]))}var Lr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,i,r,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(H(d=>d[Wm]))??te(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(e=>ol(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(e=>ol(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function R0(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),r?.data),t._resolvedData)}:i={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},r&&h2(r)&&(i.resolve[Wm]=r.title),i}var rl=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Wm]}constructor(e,n,i,r,o,s,c,u,d){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ol(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ol(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},zm=class extends x0{url;constructor(e,n){super(n),this.url=e,_A(this,n)}toString(){return d2(this._root)}};function _A(t,e){e.value._routerState=t,e.children.forEach(n=>_A(t,n))}function d2(t){let e=t.children.length>0?` { ${t.children.map(d2).join(", ")} } `:"";return`${t.value}${e}`}function iA(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,es(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),es(e.params,n.params)||t.paramsSubject.next(n.params),HK(e.url,n.url)||t.urlSubject.next(n.url),es(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hA(t,e){let n=es(t.params,e.params)&&GK(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||hA(t.parent,e.parent))}function h2(t){return typeof t.title=="string"||t.title===null}var f2=new M(""),Km=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=qe;activateEvents=new Ae;deactivateEvents=new Ae;attachEvents=new Ae;detachEvents=new Ae;routerOutletData=_L(void 0);parentContexts=g(al);location=g(Vt);changeDetector=g(Tt);inputBinder=g(Qm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new fA(n,c,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=F({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rn]})}return t})(),fA=class{route;childContexts;parent;outletData;constructor(e,n,i,r){this.route=e,this.childContexts=n,this.parent=i,this.outletData=r}get(e,n){return e===Lr?this.route:e===al?this.childContexts:e===f2?this.outletData:this.parent.get(e,n)}},Qm=new M(""),EA=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=jo([i.queryParams,i.params,i.data]).pipe(Ue(([o,s,c],u)=>(c=O(O(O({},o),s),c),u===0?te(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=wL(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of s.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),wA=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=Z({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&ce(0,"router-outlet")},dependencies:[Km],encapsulation:2})}return t})();function IA(t){let e=t.children&&t.children.map(IA),n=e?oe(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==qe&&(n.component=wA),n}function gQ(t,e,n){let i=$m(t,e._root,n?n._root:void 0);return new Hm(i,e)}function $m(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=yQ(t,e,n);return new fr(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>$m(t,c)),s}}let i=vQ(e.value),r=e.children.map(o=>$m(t,o));return new fr(i,r)}}function yQ(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return $m(t,i,r);return $m(t,i)})}function vQ(t){return new Lr(new ct(t.url),new ct(t.params),new ct(t.queryParams),new ct(t.fragment),new ct(t.data),t.outlet,t.component,t)}var uh=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},p2="ngNavigationCancelingError";function M0(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=m2(!1,Pi.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function m2(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[p2]=!0,n.cancellationCode=e,n}function _Q(t){return g2(t)&&dc(t.url)}function g2(t){return!!t&&t[p2]}var EQ=(t,e,n,i)=>H(r=>(new pA(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),pA=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),iA(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=th(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=th(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=th(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=th(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new S0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new C0(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(iA(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),iA(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},N0=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rh=class{component;route;constructor(e,n){this.component=e,this.route=n}};function wQ(t,e,n){let i=t._root,r=e?e._root:null;return Fm(i,r,n,[i.value])}function IQ(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function hh(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!wT(t)?t:e.get(t):i}function Fm(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=th(e);return t.children.forEach(s=>{bQ(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Vm(c,n.getContext(s),r)),r}function bQ(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=TQ(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new N0(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fm(t,e,c?c.children:null,i,r):Fm(t,e,n,i,r),u&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new rh(c.outlet.component,s))}else s&&Vm(e,c,r),r.canActivateChecks.push(new N0(i)),o.component?Fm(t,null,c?c.children:null,i,r):Fm(t,null,n,i,r);return r}function TQ(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!il(t.url,e.url);case"pathParamsOrQueryParamsChange":return!il(t.url,e.url)||!es(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hA(t,e)||!es(t.queryParams,e.queryParams);case"paramsChange":default:return!hA(t,e)}}function Vm(t,e,n){let i=th(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Vm(s,e.children.getContext(o),n):Vm(s,null,n):Vm(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new rh(e.outlet.component,r)):n.canDeactivateChecks.push(new rh(null,r)):n.canDeactivateChecks.push(new rh(null,r))}function Ym(t){return typeof t=="function"}function CQ(t){return typeof t=="boolean"}function DQ(t){return t&&Ym(t.canLoad)}function SQ(t){return t&&Ym(t.canActivate)}function AQ(t){return t&&Ym(t.canActivateChild)}function xQ(t){return t&&Ym(t.canDeactivate)}function RQ(t){return t&&Ym(t.canMatch)}function y2(t){return t instanceof Us||t?.name==="EmptyError"}var h0=Symbol("INITIAL_VALUE");function lh(){return Ue(t=>jo(t.map(e=>e.pipe(ni(1),vt(h0)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===h0)return h0;if(n===!1||MQ(n))return n}return!0}),ze(e=>e!==h0),ni(1)))}function MQ(t){return dc(t)||t instanceof uh}function NQ(t,e){return Zt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(oe(O({},n),{guardsResult:!0})):PQ(s,i,r,t).pipe(Zt(c=>c&&CQ(c)?OQ(i,o,t,e):te(c)),H(c=>oe(O({},n),{guardsResult:c})))})}function PQ(t,e,n,i){return Ft(t).pipe(Zt(r=>UQ(r.component,r.route,n,e,i)),Hs(r=>r!==!0,!0))}function OQ(t,e,n,i){return Ft(e).pipe(Ba(r=>Bs(FQ(r.route.parent,i),kQ(r.route,i),VQ(t,r.path,n),LQ(t,r.route,n))),Hs(r=>r!==!0,!0))}function kQ(t,e){return t!==null&&e&&e(new D0(t)),te(!0)}function FQ(t,e){return t!==null&&e&&e(new T0(t)),te(!0)}function LQ(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return te(!0);let r=i.map(o=>Rp(()=>{let s=dh(e)??n,c=hh(o,s),u=SQ(c)?c.canActivate(e,t):Cn(s,()=>c(e,t));return na(u).pipe(Hs())}));return te(r).pipe(lh())}function VQ(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>IQ(s)).filter(s=>s!==null).map(s=>Rp(()=>{let c=s.guards.map(u=>{let d=dh(s.node)??n,f=hh(u,d),m=AQ(f)?f.canActivateChild(i,t):Cn(d,()=>f(i,t));return na(m).pipe(Hs())});return te(c).pipe(lh())}));return te(o).pipe(lh())}function UQ(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(c=>{let u=dh(e)??r,d=hh(c,u),f=xQ(d)?d.canDeactivate(t,e,n,i):Cn(u,()=>d(t,e,n,i));return na(f).pipe(Hs())});return te(s).pipe(lh())}function BQ(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return te(!0);let o=r.map(s=>{let c=hh(s,t),u=DQ(c)?c.canLoad(e,n):Cn(t,()=>c(e,n));return na(u)});return te(o).pipe(lh(),v2(i))}function v2(t){return La(Wt(e=>{if(typeof e!="boolean")throw M0(t,e)}),H(e=>e===!0))}function jQ(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return te(!0);let o=r.map(s=>{let c=hh(s,t),u=RQ(c)?c.canMatch(e,n):Cn(t,()=>c(e,n));return na(u)});return te(o).pipe(lh(),v2(i))}var qm=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Gm=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function eh(t){return vd(new qm(t))}function HQ(t){return vd(new q(4e3,!1))}function zQ(t){return vd(m2(!1,Pi.GuardRejected))}var mA=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return te(i);if(r.numberOfChildren>1||!r.children[qe])return HQ(`${e.redirectTo}`);r=r.children[qe]}}applyRedirectCommands(e,n,i,r,o){return $Q(n,r,o).pipe(H(s=>{if(s instanceof ns)throw new Gm(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new Gm(c);return c}))}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new ns(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[r]=n[c]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,i,r)}),new Ct(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new q(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}};function $Q(t,e,n){if(typeof t=="string")return te(t);let i=t,{queryParams:r,fragment:o,routeConfig:s,url:c,outlet:u,params:d,data:f,title:m}=e;return na(Cn(n,()=>i({params:d,data:f,queryParams:r,fragment:o,routeConfig:s,url:c,outlet:u,title:m})))}var gA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qQ(t,e,n,i,r){let o=_2(t,e,n);return o.matched?(i=fQ(e,i),jQ(i,e,n,r).pipe(H(s=>s===!0?o:O({},gA)))):te(o)}function _2(t,e,n){if(e.path==="**")return GQ(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},gA):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||KV)(n,t,e);if(!r)return O({},gA);let o={};Object.entries(r.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=r.consumed.length>0?O(O({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function GQ(t){return{matched:!0,parameters:t.length>0?YV(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qV(t,e,n,i){return n.length>0&&QQ(t,n,i)?{segmentGroup:new Ct(e,KQ(i,new Ct(n,t.children))),slicedSegments:[]}:n.length===0&&YQ(t,n,i)?{segmentGroup:new Ct(t.segments,WQ(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ct(t.segments,t.children),slicedSegments:n}}function WQ(t,e,n,i){let r={};for(let o of n)if(O0(t,e,o)&&!i[Co(o)]){let s=new Ct([],{});r[Co(o)]=s}return O(O({},i),r)}function KQ(t,e){let n={};n[qe]=e;for(let i of t)if(i.path===""&&Co(i)!==qe){let r=new Ct([],{});n[Co(i)]=r}return n}function QQ(t,e,n){return n.some(i=>O0(t,e,i)&&Co(i)!==qe)}function YQ(t,e,n){return n.some(i=>O0(t,e,i))}function O0(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZQ(t,e,n){return e.length===0&&!t.children[n]}var yA=class{};function XQ(t,e,n,i,r,o,s="emptyOnly"){return new vA(t,e,n,i,r,s,o).recognize()}var JQ=31,vA=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,i,r,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new mA(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=qV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(({children:n,rootSnapshot:i})=>{let r=new fr(i,n),o=new zm("",r),s=o2(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new rl([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),qe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,qe,n).pipe(H(i=>({children:i,rootSnapshot:n})),Cr(i=>{if(i instanceof Gm)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof qm?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(H(s=>s instanceof fr?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ft(o).pipe(Ba(s=>{let c=i.children[s],u=pQ(n,s);return this.processSegmentGroup(e,u,c,s,r)}),uv((s,c)=>(s.push(...c),s)),uo(null),rT(),Zt(s=>{if(s===null)return eh(i);let c=E2(s);return eY(c),te(c)}))}processSegment(e,n,i,r,o,s,c){return Ft(n).pipe(Ba(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,i,r,o,s,c).pipe(Cr(d=>{if(d instanceof qm)return te(null);throw d}))),Hs(u=>!!u),Cr(u=>{if(y2(u))return ZQ(i,r,o)?te(new yA):eh(i);throw u}))}processSegmentAgainstRoute(e,n,i,r,o,s,c,u){return Co(i)!==s&&(s===qe||!O0(r,o,i))?eh(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,u):eh(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:m,remainingSegments:y}=_2(n,r,o);if(!u)return eh(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JQ&&(this.allowRedirects=!1));let _=new rl(o,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,GV(r),Co(r),r.component??r._loadedComponent??null,r,WV(r)),C=R0(_,c,this.paramsInheritanceStrategy);return _.params=Object.freeze(C.params),_.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(f,r.redirectTo,m,_,e).pipe(Ue(N=>this.applyRedirects.lineralizeSegments(r,N)),Zt(N=>this.processSegment(e,i,n,N.concat(y),s,!1,c)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let c=qQ(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),c.pipe(Ue(u=>u.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Ue(({routes:d})=>{let f=i._loadedInjector??e,{parameters:m,consumedSegments:y,remainingSegments:_}=u,C=new rl(y,m,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,GV(i),Co(i),i.component??i._loadedComponent??null,i,WV(i)),R=R0(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(R.params),C.data=Object.freeze(R.data);let{segmentGroup:N,slicedSegments:k}=qV(n,y,_,d);if(k.length===0&&N.hasChildren())return this.processChildren(f,d,N,C).pipe(H(K=>new fr(C,K)));if(d.length===0&&k.length===0)return te(new fr(C,[]));let $=Co(i)===o;return this.processSegment(f,d,N,k,$?qe:o,!0,C).pipe(H(K=>new fr(C,K instanceof fr?[K]:[])))}))):eh(n)))}getChildConfig(e,n,i){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):BQ(e,n,i,this.urlSerializer).pipe(Zt(r=>r?this.configLoader.loadChildren(e,n).pipe(Wt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zQ(n))):te({routes:[],injector:e})}};function eY(t){t.sort((e,n)=>e.value.outlet===qe?-1:n.value.outlet===qe?1:e.value.outlet.localeCompare(n.value.outlet))}function tY(t){let e=t.value.routeConfig;return e&&e.path===""}function E2(t){let e=[],n=new Set;for(let i of t){if(!tY(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=E2(i.children);e.push(new fr(i.value,r))}return e.filter(i=>!n.has(i))}function GV(t){return t.data||{}}function WV(t){return t.resolve||{}}function nY(t,e,n,i,r,o){return Zt(s=>XQ(t,e,n,i,s.extractedUrl,r,o).pipe(H(({state:c,tree:u})=>oe(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function iY(t,e){return Zt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return te(n);let o=new Set(r.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of w2(u))s.add(d);let c=0;return Ft(s).pipe(Ba(u=>o.has(u)?rY(u,i,t,e):(u.data=R0(u,u.parent,t).resolve,te(void 0))),Wt(()=>c++),Ed(1),Zt(u=>c===s.size?te(n):kt))})}function w2(t){let e=t.children.map(n=>w2(n)).flat();return[t,...e]}function rY(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!h2(r)&&(o[Wm]=r.title),Rp(()=>(t.data=R0(t,t.parent,n).resolve,oY(o,t,e,i).pipe(H(s=>(t._resolvedData=s,t.data=O(O({},t.data),s),null)))))}function oY(t,e,n,i){let r=sA(t);if(r.length===0)return te({});let o={};return Ft(r).pipe(Zt(s=>sY(t[s],e,n,i).pipe(Hs(),Wt(c=>{if(c instanceof uh)throw M0(new lc,c);o[s]=c}))),Ed(1),H(()=>o),Cr(s=>y2(s)?kt:vd(s)))}function sY(t,e,n,i){let r=dh(e)??i,o=hh(t,r),s=o.resolve?o.resolve(e,n):Cn(r,()=>o(e,n));return na(s)}function rA(t){return Ue(e=>{let n=t(e);return n?Ft(n).pipe(H(()=>e)):te(e)})}var bA=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===qe);return i}getResolvedTitleForRoute(n){return n.data[Wm]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>g(I2),providedIn:"root"})}return t})(),I2=(()=>{class t extends bA{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(Ee(UL))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fc=new M("",{providedIn:"root",factory:()=>({})}),cl=new M(""),k0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(GD);loadComponent(n,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return te(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=na(Cn(n,()=>i.loadComponent())).pipe(H(T2),Ue(C2),Wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),ja(()=>{this.componentLoaders.delete(i)})),o=new hd(r,()=>new at).pipe(dd());return this.componentLoaders.set(i,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=b2(i,this.compiler,n,this.onLoadEndListener).pipe(ja(()=>{this.childrenLoaders.delete(i)})),s=new hd(o,()=>new at).pipe(dd());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b2(t,e,n,i){return na(Cn(n,()=>t.loadChildren())).pipe(H(T2),Ue(C2),Zt(r=>r instanceof T_||Array.isArray(r)?te(r):Ft(e.compileModuleAsync(r))),H(r=>{i&&i(t);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(n).injector,s=o.get(cl,[],{optional:!0,self:!0}).flat()),{routes:s.map(IA),injector:o}}))}function aY(t){return t&&typeof t=="object"&&"default"in t}function T2(t){return aY(t)?t.default:t}function C2(t){return te(t)}var F0=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>g(cY),providedIn:"root"})}return t})(),cY=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TA=new M(""),CA=new M("");function D2(t,e,n){let i=t.get(CA),r=t.get($e);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),c=r.startViewTransition(()=>(o(),uY(t)));c.ready.catch(d=>{});let{onViewTransitionCreated:u}=i;return u&&Cn(t,()=>u({transition:c,from:e,to:n})),s}function uY(t){return new Promise(e=>{Ys({read:()=>setTimeout(e)},{injector:t})})}var DA=new M(""),L0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new at;transitionAbortWithErrorSubject=new at;configLoader=g(k0);environmentInjector=g(Jt);destroyRef=g(xt);urlSerializer=g(sl);rootContexts=g(al);location=g(oc);inputBindingEnabled=g(Qm,{optional:!0})!==null;titleStrategy=g(bA);options=g(fc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(F0);createViewTransition=g(TA,{optional:!0});navigationErrorHandler=g(DA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new I0(r)),i=r=>this.events.next(new b0(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(oe(O({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))}setupNavigations(n){return this.transitions=new ct(null),this.transitions.pipe(ze(i=>i!==null),Ue(i=>{let r=!1;return te(i).pipe(Ue(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Pi.SupersededByNewNavigation),kt;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?oe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&c!=="reload"){let u="";return this.events.next(new is(o.id,this.urlSerializer.serialize(o.rawUrl),u,oh.IgnoredSameUrlNavigation)),o.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return te(o).pipe(Ue(u=>(this.events.next(new hc(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?kt:Promise.resolve(u))),nY(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(u=>{i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=oe(O({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new Bm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:m,extras:y}=o,_=new hc(u,this.urlSerializer.serialize(d),f,m);this.events.next(_);let C=l2(this.rootComponentType).snapshot;return this.currentTransition=i=oe(O({},o),{targetSnapshot:C,urlAfterRedirects:d,extras:oe(O({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,te(i)}else{let u="";return this.events.next(new is(o.id,this.urlSerializer.serialize(o.extractedUrl),u,oh.IgnoredByUrlHandlingStrategy)),o.resolve(!1),kt}}),Wt(o=>{let s=new v0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),H(o=>(this.currentTransition=i=oe(O({},o),{guards:wQ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),NQ(this.environmentInjector,o=>this.events.next(o)),Wt(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw M0(this.urlSerializer,o.guardsResult);let s=new _0(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ze(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Pi.GuardRejected),!1)),rA(o=>{if(o.guards.canActivateChecks.length!==0)return te(o).pipe(Wt(s=>{let c=new E0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Ue(s=>{let c=!1;return te(s).pipe(iY(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",Pi.NoDataFromResolver)}}))}),Wt(s=>{let c=new w0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),rA(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent){let d=dh(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).pipe(Wt(f=>{c.component=f}),H(()=>{})))}for(let d of c.children)u.push(...s(d));return u};return jo(s(o.targetSnapshot.root)).pipe(uo(null),ni(1))}),rA(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Ft(c).pipe(H(()=>i)):te(i)}),H(o=>{let s=gQ(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=oe(O({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,i}),Wt(()=>{this.events.next(new jm)}),EQ(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ni(1),En(new ne(o=>{let s=i.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(ze(()=>!r&&!i.targetRouterState),Wt(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",Pi.Aborted)}))),Wt({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),En(this.transitionAbortWithErrorSubject.pipe(Wt(o=>{throw o}))),ja(()=>{r||this.cancelNavigationTransition(i,"",Pi.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Cr(o=>{if(this.destroyed)return i.resolve(!1),kt;if(r=!0,g2(o))this.events.next(new ts(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),_Q(o)?this.events.next(new ch(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new sh(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let c=Cn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof uh){let{message:u,cancellationCode:d}=M0(this.urlSerializer,c);this.events.next(new ts(i.id,this.urlSerializer.serialize(i.extractedUrl),u,d)),this.events.next(new ch(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return kt}))}))}cancelNavigationTransition(n,i,r){let o=new ts(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lY(t){return t!==ih}var S2=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>g(dY),providedIn:"root"})}return t})(),P0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dY=(()=>{class t extends P0{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Be(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),A2=(()=>{class t{urlSerializer=g(sl);options=g(fc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(oc);urlHandlingStrategy=g(F0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ns;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof ns?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=l2(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:()=>g(hY),providedIn:"root"})}return t})(),hY=(()=>{class t extends A2{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof hc?this.updateStateMemento():n instanceof is?this.commitTransition(i):n instanceof Bm?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof jm?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof ts&&n.code!==Pi.SupersededByNewNavigation&&n.code!==Pi.Redirect?this.restoreHistory(i):n instanceof sh?this.restoreHistory(i,!0):n instanceof Fr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(r,c));this.location.replaceState(n,"",u)}else{let c=O(O({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Be(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V0(t,e){t.events.pipe(ze(n=>n instanceof Fr||n instanceof ts||n instanceof sh||n instanceof is),H(n=>n instanceof Fr||n instanceof is?0:(n instanceof ts?n.code===Pi.Redirect||n.code===Pi.SupersededByNewNavigation:!1)?2:1),ze(n=>n!==2),ni(1)).subscribe(()=>{e()})}var fY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gi=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(OD);stateManager=g(A2);options=g(fc,{optional:!0})||{};pendingTasks=g(Wo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(L0);urlSerializer=g(sl);location=g(oc);urlHandlingStrategy=g(F0);injector=g(Jt);_events=new at;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(S2);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(cl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(Qm,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new pn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ts&&i.code!==Pi.Redirect&&i.code!==Pi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Fr)this.navigated=!0;else if(i instanceof ch){let s=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u=O({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lY(r.source)},s);this.scheduleNavigation(c,ih,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}hQ(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ih,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let u=O({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,i,s,o).catch(u=>{this.disposed||this.injector.get(xi)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(IA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let y=r?r.snapshot:this.routerState.snapshot.root;m=s2(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return a2(m,n,f,d??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=dc(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ih,null,i)}navigate(n,i={skipLocationChange:!1}){return mY(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=O({},fY):i===!1?r=O({},pY):r=i,dc(n))return jV(this.currentUrlTree,n,r);let o=this.parseUrl(n);return jV(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,d;s?(c=s.resolve,u=s.reject,d=s.promise):d=new Promise((m,y)=>{c=m,u=y});let f=this.pendingTasks.add();return V0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mY(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}var fh=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Y(null);get href(){return en(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new at;applicationErrorHandler=g(xi);options=g(fc,{optional:!0});constructor(n,i,r,o,s,c){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=c,this.reactiveHref.set(g(new N_("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,i=r=>r==="merge"||r==="preserve";n||=i(this.queryParamsHandling),n||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(r=>{r instanceof Fr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(dc(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:dc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(Le(gi),Le(Lr),rm("tabindex"),Le(Zo),Le(Je),Le(wo))};static \u0275dir=F({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&Q("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&ke("href",r.reactiveHref(),uD)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zu],replaceUrl:[2,"replaceUrl","replaceUrl",Zu],routerLink:"routerLink"},features:[rn]})}return t})();var Zm=class{};var x2=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,i,r,o){this.router=n,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ze(n=>n instanceof Fr),Ba(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=qd(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ft(r).pipe(Ua())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=te(null);let o=r.pipe(Zt(s=>s===null?te(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(n,i);return Ft([o,s]).pipe(Ua())}else return o})}static \u0275fac=function(i){return new(i||t)(Ee(gi),Ee(Jt),Ee(Zm),Ee(k0))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),R2=new M(""),gY=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ih;restoredId=0;store={};constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Fr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof is&&n.code===oh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ah&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>x(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new ah(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){b_()};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function AA(t,...e){return Ar([{provide:cl,multi:!0,useValue:t},[],{provide:Lr,useFactory:M2,deps:[gi]},{provide:dm,multi:!0,useFactory:N2},e.map(n=>n.\u0275providers)])}function M2(t){return t.routerState.root}function Xm(t,e){return{\u0275kind:t,\u0275providers:e}}function N2(){let t=g(Lt);return e=>{let n=t.get(Xo);if(e!==n.components[0])return;let i=t.get(gi),r=t.get(P2);t.get(xA)===1&&i.initialNavigation(),t.get(F2,null,{optional:!0})?.setUpPreloading(),t.get(R2,null,{optional:!0})?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var P2=new M("",{factory:()=>new at}),xA=new M("",{providedIn:"root",factory:()=>1});function O2(){let t=[{provide:xA,useValue:0},S_(()=>{let e=g(Lt);return e.get(oS,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(gi),o=e.get(P2);V0(r,()=>{i(!0)}),e.get(L0).afterPreactivation=()=>(i(!0),o.closed?te(void 0):o),r.initialNavigation()}))})];return Xm(2,t)}function k2(){let t=[S_(()=>{g(gi).setUpLocationChangeListener()}),{provide:xA,useValue:2}];return Xm(3,t)}var F2=new M("");function L2(t){return Xm(0,[{provide:F2,useExisting:x2},{provide:Zm,useExisting:t}])}function V2(){return Xm(8,[EA,{provide:Qm,useExisting:EA}])}function U2(t){lr("NgRouterViewTransitions");let e=[{provide:TA,useValue:D2},{provide:CA,useValue:O({skipNextTransition:!!t?.skipInitialTransition},t)}];return Xm(9,e)}var B2=[oc,{provide:sl,useClass:lc},gi,al,{provide:Lr,useFactory:M2,deps:[gi]},k0,[]],Jm=(()=>{class t{constructor(){}static forRoot(n,i){return{ngModule:t,providers:[B2,[],{provide:cl,multi:!0,useValue:n},[],i?.errorHandler?{provide:DA,useValue:i.errorHandler}:[],{provide:fc,useValue:i||{}},i?.useHash?vY():_Y(),yY(),i?.preloadingStrategy?L2(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?EY(i):[],i?.bindToComponentInputs?V2().\u0275providers:[],i?.enableViewTransitions?U2().\u0275providers:[],wY()]}}static forChild(n){return{ngModule:t,providers:[{provide:cl,multi:!0,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=_o({type:t});static \u0275inj=Sr({})}return t})();function yY(){return{provide:R2,useFactory:()=>{let t=g(xL),e=g(_e),n=g(fc),i=g(L0),r=g(sl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new gY(r,i,t,e,n)}}}function vY(){return{provide:wo,useClass:cS}}function _Y(){return{provide:wo,useClass:V_}}function EY(t){return[t.initialNavigation==="disabled"?k2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?O2().\u0275providers:[]]}var SA=new M("");function wY(){return[{provide:SA,useFactory:N2},{provide:dm,multi:!0,useExisting:SA}]}var H2=()=>{};var q2=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},IY=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],c=t[n++],u=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,c=s?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=o>>2,m=(o&3)<<4|c>>4,y=(c&15)<<2|d>>6,_=d&63;u||(_=64,s||(y=64)),i.push(n[f],n[m],n[y],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;let d=r<t.length?n[t.charAt(r)]:64;++r;let m=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||d==null||m==null)throw new MA;let y=o<<2|c>>4;if(i.push(y),d!==64){let _=c<<4&240|d>>2;if(i.push(_),m!==64){let C=d<<6&192|m;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},MA=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bY=function(t){let e=q2(t);return U0.encodeByteArray(e,!0)},tg=function(t){return bY(t).replace(/\./g,"")},B0=function(t){try{return U0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TY=()=>PA().__FIREBASE_DEFAULTS__,CY=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&B0(t[1]);return e&&JSON.parse(e)},j0=()=>{try{return H2()||TY()||CY()||DY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OA=t=>{var e,n;return(n=(e=j0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G2=t=>{let e=OA(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},kA=()=>{var t;return(t=j0())===null||t===void 0?void 0:t.config},FA=t=>{var e;return(e=j0())===null||e===void 0?void 0:e[`_${t}`]};var ul=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function H0(t){return x(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function W2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tg(JSON.stringify(n)),tg(JSON.stringify(s)),""].join(".")}var eg={};function SY(){let t={prod:[],emulator:[]};for(let e of Object.keys(eg))eg[e]?t.emulator.push(e):t.prod.push(e);return t}function AY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var z2=!1;function z0(t,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||eg[t]===e||eg[t]||z2)return;eg[t]=e;function n(y){return`__firebase__banner__${y}`}let i="__firebase__banner",o=SY().prod.length>0;function s(){let y=document.getElementById(i);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{z2=!0,s()},y}function f(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){let y=AY(i),_=n("text"),C=document.getElementById(_)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),k=n("preprendIcon"),$=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let K=y.element;c(K),f(N,R);let he=d();u($,k),K.append($,C,N,he),document.body.appendChild(K)}o?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function xY(){var t;let e=(t=j0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y2(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X2(){let t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J2(){return!xY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ng(){try{return typeof indexedDB=="object"}catch{return!1}}function eU(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var RY="FirebaseError",mr=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=RY,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}},Do=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?MY(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new mr(r,c,i)}};function MY(t,e){return t.replace(NY,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var NY=/\{\$([^}]+)}/g;function tU(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rs(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if($2(o)&&$2(s)){if(!rs(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function $2(t){return t!==null&&typeof t=="object"}function ph(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nU(t,e){let n=new NA(t,e);return n.subscribe.bind(n)}var NA=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");PY(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=RA),r.error===void 0&&(r.error=RA),r.complete===void 0&&(r.complete=RA);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function PY(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function RA(){}var YAe=4*60*60*1e3;function bn(t){return t&&t._delegate?t._delegate:t}var Oi=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ll="[DEFAULT]";var LA=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new ul;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kY(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OY(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OY(t){return t===ll?void 0:t}function kY(t){return t.instantiationMode==="EAGER"}var $0=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new LA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var FY=[],tt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(tt||{}),LY={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},VY=tt.INFO,UY={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},BY=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=UY[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},os=class{constructor(e){this.name=e,this._logLevel=VY,this._logHandler=BY,this._userLogHandler=null,FY.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}};var jY=(t,e)=>e.some(n=>t instanceof n),iU,rU;function HY(){return iU||(iU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zY(){return rU||(rU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var oU=new WeakMap,UA=new WeakMap,sU=new WeakMap,VA=new WeakMap,jA=new WeakMap;function $Y(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ss(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&oU.set(n,t)}).catch(()=>{}),jA.set(e,t),e}function qY(t){if(UA.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});UA.set(t,e)}var BA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return UA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aU(t){BA=t(BA)}function GY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(q0(this),e,...n);return sU.set(i,e.sort?e.sort():[e]),ss(i)}:zY().includes(t)?function(...e){return t.apply(q0(this),e),ss(oU.get(this))}:function(...e){return ss(t.apply(q0(this),e))}}function WY(t){return typeof t=="function"?GY(t):(t instanceof IDBTransaction&&qY(t),jY(t,HY())?new Proxy(t,BA):t)}function ss(t){if(t instanceof IDBRequest)return $Y(t);if(VA.has(t))return VA.get(t);let e=WY(t);return e!==t&&(VA.set(t,e),jA.set(e,t)),e}var q0=t=>jA.get(t);function G0(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),c=ss(s);return i&&s.addEventListener("upgradeneeded",u=>{i(ss(s.result),u.oldVersion,u.newVersion,ss(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var KY=["get","getKey","getAll","getAllKeys","count"],QY=["put","add","delete","clear"],HA=new Map;function cU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(HA.get(e))return HA.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=QY.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||KY.includes(n)))return;let o=function(s,...c){return x(this,null,function*(){let u=this.transaction(s,r?"readwrite":"readonly"),d=u.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),r&&u.done]))[0]})};return HA.set(e,o),o}aU(t=>oe(O({},t),{get:(e,n,i)=>cU(e,n)||t.get(e,n,i),has:(e,n)=>!!cU(e,n)||t.has(e,n)}));var $A=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YY(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function YY(t){let e=t.getComponent();return e?.type==="VERSION"}var qA="@firebase/app",uU="0.13.2";var ia=new os("@firebase/app"),ZY="@firebase/app-compat",XY="@firebase/analytics-compat",JY="@firebase/analytics",eZ="@firebase/app-check-compat",tZ="@firebase/app-check",nZ="@firebase/auth",iZ="@firebase/auth-compat",rZ="@firebase/database",oZ="@firebase/data-connect",sZ="@firebase/database-compat",aZ="@firebase/functions",cZ="@firebase/functions-compat",uZ="@firebase/installations",lZ="@firebase/installations-compat",dZ="@firebase/messaging",hZ="@firebase/messaging-compat",fZ="@firebase/performance",pZ="@firebase/performance-compat",mZ="@firebase/remote-config",gZ="@firebase/remote-config-compat",yZ="@firebase/storage",vZ="@firebase/storage-compat",_Z="@firebase/firestore",EZ="@firebase/ai",wZ="@firebase/firestore-compat",IZ="firebase",bZ="11.10.0";var GA="[DEFAULT]",TZ={[qA]:"fire-core",[ZY]:"fire-core-compat",[JY]:"fire-analytics",[XY]:"fire-analytics-compat",[tZ]:"fire-app-check",[eZ]:"fire-app-check-compat",[nZ]:"fire-auth",[iZ]:"fire-auth-compat",[rZ]:"fire-rtdb",[oZ]:"fire-data-connect",[sZ]:"fire-rtdb-compat",[aZ]:"fire-fn",[cZ]:"fire-fn-compat",[uZ]:"fire-iid",[lZ]:"fire-iid-compat",[dZ]:"fire-fcm",[hZ]:"fire-fcm-compat",[fZ]:"fire-perf",[pZ]:"fire-perf-compat",[mZ]:"fire-rc",[gZ]:"fire-rc-compat",[yZ]:"fire-gcs",[vZ]:"fire-gcs-compat",[_Z]:"fire-fst",[wZ]:"fire-fst-compat",[EZ]:"fire-vertex","fire-js":"fire-js",[IZ]:"fire-js-all"};var ig=new Map,CZ=new Map,WA=new Map;function lU(t,e){try{t.container.addComponent(e)}catch(n){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){let e=t.name;if(WA.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;WA.set(e,t);for(let n of ig.values())lU(n,t);for(let n of CZ.values())lU(n,t);return!0}function mh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}var DZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mc=new Do("app","Firebase",DZ);var KA=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mc.create("app-deleted",{appName:this._name})}};var gc=bZ;function ZA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:GA,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw mc.create("bad-app-name",{appName:String(r)});if(n||(n=kA()),!n)throw mc.create("no-options");let o=ig.get(r);if(o){if(rs(n,o.options)&&rs(i,o.config))return o;throw mc.create("duplicate-app",{appName:r})}let s=new $0(r);for(let u of WA.values())s.addComponent(u);let c=new KA(n,i,s);return ig.set(r,c),c}function dl(t=GA){let e=ig.get(t);if(!e&&t===GA&&kA())return ZA();if(!e)throw mc.create("no-app",{appName:t});return e}function W0(){return Array.from(ig.values())}function yn(t,e,n){var i;let r=(i=TZ[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(c.join(" "));return}So(new Oi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var SZ="firebase-heartbeat-database",AZ=1,rg="firebase-heartbeat-store",zA=null;function pU(){return zA||(zA=G0(SZ,AZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rg)}catch(n){console.warn(n)}}}}).catch(t=>{throw mc.create("idb-open",{originalErrorMessage:t.message})})),zA}function xZ(t){return x(this,null,function*(){try{let n=(yield pU()).transaction(rg),i=yield n.objectStore(rg).get(mU(t));return yield n.done,i}catch(e){if(e instanceof mr)ia.warn(e.message);else{let n=mc.create("idb-get",{originalErrorMessage:e?.message});ia.warn(n.message)}}})}function dU(t,e){return x(this,null,function*(){try{let i=(yield pU()).transaction(rg,"readwrite");yield i.objectStore(rg).put(e,mU(t)),yield i.done}catch(n){if(n instanceof mr)ia.warn(n.message);else{let i=mc.create("idb-set",{originalErrorMessage:n?.message});ia.warn(i.message)}}})}function mU(t){return`${t.name}!${t.options.appId}`}var RZ=1024,MZ=30,QA=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new YA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return x(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hU();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>MZ){let s=PZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ia.warn(i)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=hU(),{heartbeatsToSend:i,unsentEntries:r}=NZ(this._heartbeatsCache.heartbeats),o=tg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ia.warn(n),""}})}};function hU(){return new Date().toISOString().substring(0,10)}function NZ(t,e=RZ){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),fU(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),fU(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var YA=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return ng()?eU().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield xZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return dU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return dU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function fU(t){return tg(JSON.stringify({version:2,heartbeats:t})).length}function PZ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function OZ(t){So(new Oi("platform-logger",e=>new $A(e),"PRIVATE")),So(new Oi("heartbeat",e=>new QA(e),"PRIVATE")),yn(qA,uU,t),yn(qA,uU,"esm2017"),yn("fire-js","")}OZ("");var kZ="firebase",FZ="11.10.0";yn(kZ,FZ,"app");function Dt(t){t||(t=g(xt));let e=new ne(n=>{if(t.destroyed){n.next();return}return t.onDestroy(n.next.bind(n))});return n=>n.pipe(En(e))}function an(t,e){let i=!e?.manualCleanup?e?.injector?.get(xt)??g(xt):null,r=LZ(e?.equal),o;e?.requireSync?o=Y({kind:0},{equal:r}):o=Y({kind:1,value:e?.initialValue},{equal:r});let s,c=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new q(601,!1);return s=i?.onDestroy(c.unsubscribe.bind(c)),xe(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new q(601,!1)}},{equal:e?.equal})}function LZ(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function gU(t){t===void 0&&(t=g(Lt));let e=t.get(ju);return n=>new ne(i=>{let r=e.add(),o=!1;function s(){o||(r(),o=!0)}let c=n.subscribe({next:u=>{i.next(u),s()},complete:()=>{i.complete(),s()},error:u=>{i.error(u),s()}});return c.add(()=>{i.unsubscribe(),s()}),c})}var yc=new Qu("ANGULARFIRE2_VERSION");function og(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var yh=(t,e)=>{let n=e?[e]:W0(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},gh=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(gh||{}),yU=nS()&&typeof Zone<"u"?gh.WARN:gh.SILENT;var K0=class{zone;delegate;constructor(e,n=Cu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,i)}},vc=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=g(_e);this.outsideAngular=n.runOutsideAngular(()=>new K0(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new K0(typeof Zone>"u"?void 0:Zone.current,ao))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vU=!1;function VZ(t,e){!vU&&(yU>gh.SILENT||nS())&&(vU=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),yU>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function UZ(t){let e=g(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function hl(t){let e=g(_e,{optional:!0});return e?e.run(()=>t()):t()}var BZ=(t,e,n)=>(...i)=>(e&&setTimeout(e,0),Cn(n,()=>hl(()=>t.apply(void 0,i)))),Wn=(t,e,n)=>(n||=e?gh.WARN:gh.VERBOSE,function(){let i,r=arguments,o,s,c;try{o=g(vc),s=g(ju),c=g(Jt)}catch{return VZ(t,n),t.apply(this,r)}for(let d=0;d<arguments.length;d++)typeof r[d]=="function"&&(e&&(i||=hl(()=>s.add())),r[d]=BZ(r[d],i,c));let u=UZ(()=>t.apply(this,r));return e?u instanceof ne?u.pipe(Va(o.outsideAngular),co(o.insideAngular),gU(c)):u instanceof Promise?hl(()=>{let d=s.add();return new Promise((f,m)=>{u.then(y=>Cn(c,()=>hl(()=>f(y))),y=>Cn(c,()=>hl(()=>m(y)))).finally(d)})}):typeof u=="function"&&i?function(){return setTimeout(i,0),u.apply(this,arguments)}:hl(()=>u):u instanceof ne?u.pipe(Va(o.outsideAngular),co(o.insideAngular)):hl(()=>u)});var ra=class{constructor(e){return e}},fl=class{constructor(){return W0()}};function jZ(t){return t&&t.length===1?t[0]:new ra(dl())}var XA=new M("angularfire2._apps"),HZ={provide:ra,useFactory:jZ,deps:[[new nn,XA]]},zZ={provide:fl,deps:[[new nn,XA]]};function $Z(t){return(e,n)=>{let i=n.get(pi);yn("angularfire",yc.full,"core"),yn("angularfire",yc.full,"app"),yn("angular",O_.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new ra(r)}}function _U(t,...e){return Ar([HZ,zZ,{provide:XA,useFactory:$Z(t),multi:!0,deps:[_e,Lt,vc,...e]}])}var EU=Wn(ZA,!0);var qZ=new Map,GZ={activated:!1,tokenObservers:[]},WZ={initialized:!1,enabled:!1};function Ao(t){return qZ.get(t)||Object.assign({},GZ)}function TU(){return WZ}var KZ="https://content-firebaseappcheck.googleapis.com/v1";var QZ="exchangeDebugToken",wU={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},e1e=24*60*60*1e3;var tx=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return x(this,null,function*(){this.stop();try{this.pending=new ul,this.pending.promise.catch(n=>{}),yield YZ(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ul,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function YZ(t){return new Promise(e=>{setTimeout(e,t)})}var ZZ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_c=new Do("appCheck","AppCheck",ZZ);function CU(t){if(!Ao(t).activated)throw _c.create("use-before-activation",{appName:t.name})}function DU(i,r){return x(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(_){throw _c.create("fetch-network-error",{originalErrorMessage:_?.message})}if(u.status!==200)throw _c.create("fetch-status-error",{httpStatus:u.status});let d;try{d=yield u.json()}catch(_){throw _c.create("fetch-parse-error",{originalErrorMessage:_?.message})}let f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw _c.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let m=Number(f[1])*1e3,y=Date.now();return{token:d.token,expireTimeMillis:y+m,issuedAtTimeMillis:y}})}function SU(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${KZ}/projects/${n}/apps/${i}:${QZ}?key=${r}`,body:{debug_token:e}}}var XZ="firebase-app-check-database",JZ=1,nx="firebase-app-check-store";var Q0=null;function eX(){return Q0||(Q0=new Promise((t,e)=>{try{let n=indexedDB.open(XZ,JZ);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(_c.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(nx,{keyPath:"compositeKey"})}}}catch(n){e(_c.create("storage-open",{originalErrorMessage:n?.message}))}}),Q0)}function tX(t,e){return nX(iX(t),e)}function nX(t,e){return x(this,null,function*(){let i=(yield eX()).transaction(nx,"readwrite"),o=i.objectStore(nx).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},i.onerror=u=>{var d;c(_c.create("storage-set",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})})}function iX(t){return`${t.options.appId}-${t.name}`}var sg=new os("@firebase/app-check");function JA(t,e){return ng()?tX(t,e).catch(n=>{sg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function AU(){return TU().enabled}function xU(){return x(this,null,function*(){let t=TU();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var rX={error:"UNKNOWN_ERROR"};function oX(t){return U0.encodeString(JSON.stringify(t),!1)}function ix(t,e=!1,n=!1){return x(this,null,function*(){let i=t.app;CU(i);let r=Ao(i),o=r.token,s;if(o&&!ag(o)&&(r.token=void 0,o=void 0),!o){let d=yield r.cachedTokenPromise;d&&(ag(d)?o=d:yield JA(i,void 0))}if(!e&&o&&ag(o))return{token:o.token};let c=!1;if(AU())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=DU(SU(i,yield xU()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);let d=yield r.exchangeTokenPromise;return yield JA(i,d),r.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?sg.warn(d.message):n&&sg.error(d),ex(d)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),o=yield Ao(i).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?sg.warn(d.message):n&&sg.error(d),s=d}let u;return o?s?ag(o)?u={token:o.token,internalError:s}:u=ex(s):(u={token:o.token},r.token=o,yield JA(i,o)):u=ex(s),c&&uX(i,u),u})}function sX(t){return x(this,null,function*(){let e=t.app;CU(e);let{provider:n}=Ao(e);if(AU()){let i=yield xU(),{token:r}=yield DU(SU(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function aX(t,e,n,i){let{app:r}=t,o=Ao(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ag(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),IU(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>IU(t))}function RU(t,e){let n=Ao(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function IU(t){let{app:e}=t,n=Ao(e),i=n.tokenRefresher;i||(i=cX(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function cX(t){let{app:e}=t;return new tx(()=>x(null,null,function*(){let n=Ao(e),i;if(n.token?i=yield ix(t,!0):i=yield ix(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Ao(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},wU.RETRIAL_MIN_WAIT,wU.RETRIAL_MAX_WAIT)}function uX(t,e){let n=Ao(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function ag(t){return t.expireTimeMillis-Date.now()>0}function ex(t){return{token:oX(rX),error:t}}var rx=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Ao(this.app);for(let n of e)RU(this.app,n.next);return Promise.resolve()}};function lX(t,e){return new rx(t,e)}function dX(t){return{getToken:e=>ix(t,e),getLimitedUseToken:()=>sX(t),addTokenListener:e=>aX(t,"INTERNAL",e),removeTokenListener:e=>RU(t.app,e)}}var hX="@firebase/app-check",fX="0.10.1";var pX="app-check",bU="app-check-internal";function mX(){So(new Oi(pX,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return lX(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(bU).initialize()})),So(new Oi(bU,t=>{let e=t.getProvider("app-check").getImmediate();return dX(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),yn(hX,fX)}mX();var gX="app-check";var vh=class{constructor(){return yh(gX)}};var yX=["localhost","0.0.0.0","127.0.0.1"],f1e=typeof window<"u"&&yX.includes(window.location.hostname);function qU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var GU=qU,WU=new Do("auth","Firebase",qU());var tE=new os("@firebase/auth");function vX(t,...e){tE.logLevel<=tt.WARN&&tE.warn(`Auth (${gc}): ${t}`,...e)}function Z0(t,...e){tE.logLevel<=tt.ERROR&&tE.error(`Auth (${gc}): ${t}`,...e)}function cs(t,...e){throw Ix(t,...e)}function xo(t,...e){return Ix(t,...e)}function wx(t,e,n){let i=Object.assign(Object.assign({},GU()),{[e]:n});return new Do("auth","Firebase",i).create(e,{appName:t.name})}function pl(t){return wx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _X(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&cs(t,"argument-error"),wx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ix(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return WU.create(t,...e)}function Pe(t,e,...n){if(!t)throw Ix(e,...n)}function oa(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Z0(e),new Error(e)}function aa(t,e){t||oa(e)}function ax(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EX(){return MU()==="http:"||MU()==="https:"}function MU(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EX()||Y2()||"connection"in navigator)?navigator.onLine:!0}function IX(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ml=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,aa(n>e,"Short delay should be less than long delay!"),this.isMobile=K2()||Z2()}get(){return wX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bx(t,e){aa(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var nE=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CX=new ml(3e4,6e4);function Tx(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Eh(o,s,c,u){return x(this,arguments,function*(t,e,n,i,r={}){return KU(t,r,()=>x(null,null,function*(){let d={},f={};i&&(e==="GET"?f=i:d={body:JSON.stringify(i)});let m=ph(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let _=Object.assign({method:e,headers:y},d);return Q2()||(_.referrerPolicy="no-referrer"),t.emulatorConfig&&pc(t.emulatorConfig.host)&&(_.credentials="include"),nE.fetch()(yield QU(t,t.config.apiHost,n,m),_)}))})}function KU(t,e,n){return x(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},bX),e);try{let r=new cx(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Y0(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Y0(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Y0(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Y0(t,"user-disabled",s);let f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw wx(t,f,d);cs(t,f)}}catch(r){if(r instanceof mr)throw r;cs(t,"network-request-failed",{message:String(r)})}})}function DX(o,s,c,u){return x(this,arguments,function*(t,e,n,i,r={}){let d=yield Eh(t,e,n,i,r);return"mfaPendingCredential"in d&&cs(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function QU(t,e,n,i){return x(this,null,function*(){let r=`${e}${n}?${i}`,o=t,s=o.config.emulator?bx(t.config,r):`${t.config.apiScheme}://${r}`;return TX.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var cx=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(xo(this.auth,"network-request-failed")),CX.get())})}};function Y0(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=xo(t,e,i);return r.customData._tokenResponse=n,r}function SX(t,e){return x(this,null,function*(){return Eh(t,"POST","/v1/accounts:delete",e)})}function iE(t,e){return x(this,null,function*(){return Eh(t,"POST","/v1/accounts:lookup",e)})}function cg(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cx(t,e=!1){return x(this,null,function*(){let n=bn(t),i=yield n.getIdToken(e),r=Dx(i);Pe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:cg(ox(r.auth_time)),issuedAtTime:cg(ox(r.iat)),expirationTime:cg(ox(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ox(t){return Number(t)*1e3}function Dx(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Z0("JWT malformed, contained fewer than 3 sections"),null;try{let r=B0(n);return r?JSON.parse(r):(Z0("Failed to decode base64 JWT payload"),null)}catch(r){return Z0("Caught error parsing JWT payload as JSON",r?.toString()),null}}function NU(t){let e=Dx(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lg(t,e,n=!1){return x(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof mr&&AX(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function AX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ux=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>x(this,null,function*(){yield this.iteration()}),n)}iteration(){return x(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dg=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cg(this.lastLoginAt),this.creationTime=cg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function rE(t){return x(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield lg(t,iE(n,{idToken:i}));Pe(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YU(o.providerUserInfo):[],c=xX(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,f=u?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new dg(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,m)})}function Sx(t){return x(this,null,function*(){let e=bn(t);yield rE(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xX(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function YU(t){return t.map(e=>{var{providerId:n}=e,i=Qy(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function RX(t,e){return x(this,null,function*(){let n=yield KU(t,{},()=>x(null,null,function*(){let i=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=yield QU(t,r,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:i};return t.emulatorConfig&&pc(t.emulatorConfig.host)&&(u.credentials="include"),nE.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function MX(t,e){return x(this,null,function*(){return Eh(t,"POST","/v2/accounts:revokeToken",Tx(t,e))})}var ug=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");let n=NU(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return x(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return x(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield RX(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Pe(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return oa("not implemented")}};function Ec(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var wc=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Qy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dg(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return x(this,null,function*(){let n=yield lg(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Cx(this,e)}reload(){return Sx(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return x(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield rE(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return x(this,null,function*(){if(gr(this.auth.app))return Promise.reject(pl(this.auth));let e=yield this.getIdToken();return yield lg(this,SX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,c,u,d,f;let m=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,$=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:K,emailVerified:he,isAnonymous:Ke,providerData:fe,stsTokenManager:b}=n;Pe(K&&b,e,"internal-error");let v=ug.fromJSON(this.name,b);Pe(typeof K=="string",e,"internal-error"),Ec(m,e.name),Ec(y,e.name),Pe(typeof he=="boolean",e,"internal-error"),Pe(typeof Ke=="boolean",e,"internal-error"),Ec(_,e.name),Ec(C,e.name),Ec(R,e.name),Ec(N,e.name),Ec(k,e.name),Ec($,e.name);let E=new t({uid:K,auth:e,email:y,emailVerified:he,displayName:m,isAnonymous:Ke,photoURL:C,phoneNumber:_,tenantId:R,stsTokenManager:v,createdAt:k,lastLoginAt:$});return fe&&Array.isArray(fe)&&(E.providerData=fe.map(I=>Object.assign({},I))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,n,i=!1){return x(this,null,function*(){let r=new ug;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield rE(o),o})}static _fromGetAccountInfoResponse(e,n,i){return x(this,null,function*(){let r=n.users[0];Pe(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?YU(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new ug;c.updateFromIdToken(i);let u=new t({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new dg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var PU=new Map;function sa(t){aa(t instanceof Function,"Expected a class definition");let e=PU.get(t);return e?(aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PU.set(t,e),e)}var NX=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(this,null,function*(){return!0})}_set(n,i){return x(this,null,function*(){this.storage[n]=i})}_get(n){return x(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return x(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),lx=NX;function X0(t,e,n){return`firebase:${t}:${e}:${n}`}var oE=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=X0(this.userKey,r.apiKey,o),this.fullPersistenceKey=X0("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return x(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield iE(this.auth,{idToken:e}).catch(()=>{});return n?wc._fromGetAccountInfoResponse(this.auth,n,e):null}return wc._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return x(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return x(this,null,function*(){if(!n.length)return new t(sa(lx),e,i);let r=(yield Promise.all(n.map(d=>x(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||sa(lx),s=X0(i,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(s);if(f){let m;if(typeof f=="string"){let y=yield iE(e,{idToken:f}).catch(()=>{});if(!y)break;m=yield wc._fromGetAccountInfoResponse(e,y,f)}else m=wc._fromJSON(e,f);d!==o&&(c=m),o=d;break}}catch{}let u=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,i):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(d=>x(null,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,i))})}};function OU(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nB(e))return"Blackberry";if(iB(e))return"Webos";if(XU(e))return"Safari";if((e.includes("chrome/")||JU(e))&&!e.includes("edge/"))return"Chrome";if(tB(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function ZU(t=Gn()){return/firefox\//i.test(t)}function XU(t=Gn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JU(t=Gn()){return/crios\//i.test(t)}function eB(t=Gn()){return/iemobile/i.test(t)}function tB(t=Gn()){return/android/i.test(t)}function nB(t=Gn()){return/blackberry/i.test(t)}function iB(t=Gn()){return/webos/i.test(t)}function Ax(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PX(t=Gn()){var e;return Ax(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OX(){return X2()&&document.documentMode===10}function rB(t=Gn()){return Ax(t)||tB(t)||iB(t)||nB(t)||/windows phone/i.test(t)||eB(t)}function oB(t,e=[]){let n;switch(t){case"Browser":n=OU(Gn());break;case"Worker":n=`${OU(Gn())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gc}/${i}`}var dx=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return x(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function kX(n){return x(this,arguments,function*(t,e={}){return Eh(t,"GET","/v2/passwordPolicy",Tx(t,e))})}var FX=6,hx=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:FX,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var fx=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sa(n)),this._initializationPromise=this.queue(()=>x(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield oE.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return x(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return x(this,null,function*(){try{let n=yield iE(this,{idToken:e}),i=yield wc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return x(this,null,function*(){var n;if(gr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(r=u.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return x(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return x(this,null,function*(){try{yield rE(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IX()}_delete(){return x(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return x(this,null,function*(){if(gr(this.app))return Promise.reject(pl(this));let n=e?bn(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return x(this,null,function*(){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>x(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return x(this,null,function*(){return gr(this.app)?Promise.reject(pl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return gr(this.app)?Promise.reject(pl(this)):this.queue(()=>x(this,null,function*(){yield this.assertedPersistence.setPersistence(sa(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return x(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return x(this,null,function*(){let e=yield kX(this),n=new hx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return x(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield MX(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return x(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return x(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&sa(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=yield oE.create(this,[sa(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return x(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>x(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return x(this,null,function*(){if(e===this.currentUser)return this.queue(()=>x(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,i,r);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return x(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return x(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return x(this,null,function*(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vX(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function pE(t){return bn(t)}var sE=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nU(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xx={loadJS(){return x(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LX(t){xx=t}function VX(t){return xx.loadJS(t)}function UX(){return xx.gapiScript}function sB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Rx(t,e){let n=mh(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(rs(o,e??{}))return r;cs(r,"already-initialized")}return n.initialize({options:e})}function BX(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(sa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Mx(t,e,n){let i=pE(t);Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=aB(e),{host:s,port:c}=jX(e),u=c===null?"":`:${c}`,d={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Pe(rs(d,i.config.emulator)&&rs(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,pc(s)?(H0(`${o}//${s}${u}`),z0("Auth",!0)):r||HX()}function aB(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jX(t){let e=aB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:kU(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:kU(s)}}}function kU(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function HX(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var hg=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oa("not implemented")}_getIdTokenResponse(e){return oa("not implemented")}_linkToIdToken(e,n){return oa("not implemented")}_getReauthenticationResolver(e){return oa("not implemented")}};function _h(t,e){return x(this,null,function*(){return DX(t,"POST","/v1/accounts:signInWithIdp",Tx(t,e))})}var zX="http://localhost",aE=class t extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=Qy(n,["providerId","signInMethod"]);if(!i||!r)return null;let s=new t(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return _h(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,_h(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,_h(e,n)}buildRequest(){let e={requestUri:zX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}};var fg=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var cE=class extends fg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Nx=(()=>{class t extends cE{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return aE._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var pg=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return x(this,null,function*(){let o=yield wc._fromIdTokenResponse(e,i,r),s=FU(i);return new t({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return x(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=FU(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function FU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var px=class t extends mr{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function cB(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?px._fromErrorAndOperation(t,o,e,i):o})}function $X(t,e,n=!1){return x(this,null,function*(){let i=yield lg(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pg._forOperation(t,"link",i)})}function qX(t,e,n=!1){return x(this,null,function*(){let{auth:i}=t;if(gr(i.app))return Promise.reject(pl(i));let r="reauthenticate";try{let o=yield lg(t,cB(i,r,e,t),n);Pe(o.idToken,i,"internal-error");let s=Dx(o.idToken);Pe(s,i,"internal-error");let{sub:c}=s;return Pe(t.uid===c,i,"user-mismatch"),pg._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&cs(i,"user-mismatch"),o}})}function GX(t,e,n=!1){return x(this,null,function*(){if(gr(t.app))return Promise.reject(pl(t));let i="signIn",r=yield cB(t,i,e),o=yield pg._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function Px(t,e,n,i){return bn(t).onIdTokenChanged(e,n,i)}function Ox(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function kx(t,e,n,i){return bn(t).onAuthStateChanged(e,n,i)}function Fx(t){return bn(t).signOut()}var uE="__sak";var lE=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uE,"1"),this.storage.removeItem(uE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var WX=1e3,KX=10,QX=(()=>{class t extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rB(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let r=n.key;i?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);OX()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,KX):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},WX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return x(this,null,function*(){yield Ls(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return x(this,null,function*(){let i=yield Ls(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return x(this,null,function*(){yield Ls(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),uB=QX;var YX=(()=>{class t extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Lx=YX;function ZX(t){return Promise.all(t.map(e=>x(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var XX=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return x(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let u=Array.from(c).map(f=>x(this,null,function*(){return f(i.origin,s)})),d=yield ZX(u);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Vx(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var mx=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return x(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let d=Vx("",20);r.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(m){let y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function as(){return window}function JX(t){as().location.href=t}function lB(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}function eJ(){return x(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tJ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nJ(){return lB()?self:null}var dB="firebaseLocalStorageDb",iJ=1,dE="firebaseLocalStorage",hB="fbase_key",gl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function mE(t,e){return t.transaction([dE],e?"readwrite":"readonly").objectStore(dE)}function rJ(){let t=indexedDB.deleteDatabase(dB);return new gl(t).toPromise()}function gx(){let t=indexedDB.open(dB,iJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(dE,{keyPath:hB})}catch(r){n(r)}}),t.addEventListener("success",()=>x(null,null,function*(){let i=t.result;i.objectStoreNames.contains(dE)?e(i):(i.close(),yield rJ(),e(yield gx()))}))})}function LU(t,e,n){return x(this,null,function*(){let i=mE(t,!0).put({[hB]:e,value:n});return new gl(i).toPromise()})}function oJ(t,e){return x(this,null,function*(){let n=mE(t,!1).get(e),i=yield new gl(n).toPromise();return i===void 0?null:i.value})}function VU(t,e){let n=mE(t,!0).delete(e);return new gl(n).toPromise()}var sJ=800,aJ=3,cJ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return x(this,null,function*(){return this.db?this.db:(this.db=yield gx(),this.db)})}_withRetries(n){return x(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>aJ)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return x(this,null,function*(){return lB()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return x(this,null,function*(){this.receiver=XX._getInstance(nJ()),this.receiver._subscribe("keyChanged",(n,i)=>x(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>x(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return x(this,null,function*(){var n,i;if(this.activeServiceWorker=yield eJ(),!this.activeServiceWorker)return;this.sender=new mx(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return x(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tJ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return x(this,null,function*(){try{if(!indexedDB)return!1;let n=yield gx();return yield LU(n,uE,"1"),yield VU(n,uE),!0}catch{}return!1})}_withPendingWrite(n){return x(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(r=>LU(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return x(this,null,function*(){let i=yield this._withRetries(r=>oJ(r,n));return this.localCache[n]=i,i})}_remove(n){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(i=>VU(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return x(this,null,function*(){let n=yield this._withRetries(o=>{let s=mE(o,!1).getAll();return new gl(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>x(this,null,function*(){return this._poll()}),sJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fB=cJ;var b1e=sB("rcb"),T1e=new ml(3e4,6e4);function pB(t,e){return e?sa(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var mg=class extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _h(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _h(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _h(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function uJ(t){return GX(t.auth,new mg(t),t.bypassAuthState)}function lJ(t){let{auth:e,user:n}=t;return Pe(n,e,"internal-error"),qX(n,new mg(t),t.bypassAuthState)}function dJ(t){return x(this,null,function*(){let{auth:e,user:n}=t;return Pe(n,e,"internal-error"),$X(n,new mg(t),t.bypassAuthState)})}var hE=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>x(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return x(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uJ;case"linkViaPopup":case"linkViaRedirect":return dJ;case"reauthViaPopup":case"reauthViaRedirect":return lJ;default:cs(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hJ=new ml(2e3,1e4);function Ux(t,e,n){return x(this,null,function*(){if(gr(t.app))return Promise.reject(xo(t,"operation-not-supported-in-this-environment"));let i=pE(t);_X(t,e,fg);let r=pB(i,n);return new fJ(i,"signInViaPopup",e,r).executeNotNull()})}var fJ=(()=>{class t extends hE{constructor(n,i,r,o,s){super(n,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return x(this,null,function*(){let n=yield this.execute();return Pe(n,this.auth,"internal-error"),n})}onExecution(){return x(this,null,function*(){aa(this.filter.length===1,"Popup operations only handle one event");let n=Vx();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(xo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,hJ.get())};n()}}t.currentPopupAction=null;return t})(),pJ="pendingRedirect",J0=new Map,yx=class t extends hE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return x(this,null,function*(){let e=J0.get(this.auth._key());if(!e){try{let i=(yield mJ(this.resolver,this.auth))?yield Ls(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}J0.set(this.auth._key(),e)}return this.bypassAuthState||J0.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return x(this,null,function*(){if(e.type==="signInViaRedirect")return Ls(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ls(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return x(this,null,function*(){})}cleanUp(){}};function mJ(t,e){return x(this,null,function*(){let n=vJ(e),i=yJ(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function gJ(t,e){J0.set(t._key(),e)}function yJ(t){return sa(t._redirectPersistence)}function vJ(t){return X0(pJ,t.config.apiKey,t.name)}function _J(t,e,n=!1){return x(this,null,function*(){if(gr(t.app))return Promise.reject(pl(t));let i=pE(t),r=pB(i,e),s=yield new yx(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var EJ=10*60*1e3,vx=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!mB(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(xo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(UU(e))}saveEventToCache(e){this.cachedEventUids.add(UU(e)),this.lastProcessedEventTime=Date.now()}};function UU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mB(t);default:return!1}}function IJ(n){return x(this,arguments,function*(t,e={}){return Eh(t,"GET","/v1/projects",e)})}var bJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TJ=/^https?/;function CJ(t){return x(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield IJ(t);for(let n of e)try{if(DJ(n))return}catch{}cs(t,"unauthorized-domain")})}function DJ(t){let e=ax(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!TJ.test(n))return!1;if(bJ.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var SJ=new ml(3e4,6e4);function BU(){let t=as().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AJ(t){return new Promise((e,n)=>{var i,r,o;function s(){BU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BU(),n(xo(t,"network-request-failed"))},timeout:SJ.get()})}if(!((r=(i=as().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=as().gapi)===null||o===void 0)&&o.load)s();else{let c=sB("iframefcb");return as()[c]=()=>{gapi.load?s():n(xo(t,"network-request-failed"))},VX(`${UX()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw eE=null,e})}var eE=null;function xJ(t){return eE=eE||AJ(t),eE}var RJ=new ml(5e3,15e3),MJ="__/auth/iframe",NJ="emulator/auth/iframe",PJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kJ(t){let e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?bx(e,NJ):`https://${t.config.authDomain}/${MJ}`,i={apiKey:e.apiKey,appName:t.name,v:gc},r=OJ.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${ph(i).slice(1)}`}function FJ(t){return x(this,null,function*(){let e=yield xJ(t),n=as().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:kJ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PJ,dontclear:!0},i=>new Promise((r,o)=>x(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=xo(t,"network-request-failed"),c=as().setTimeout(()=>{o(s)},RJ.get());function u(){as().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{o(s)})})))})}var LJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VJ=500,UJ=600,BJ="_blank",jJ="http://localhost",fE=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function HJ(t,e,n,i=VJ,r=UJ){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",u=Object.assign(Object.assign({},LJ),{width:i.toString(),height:r.toString(),top:o,left:s}),d=Gn().toLowerCase();n&&(c=JU(d)?BJ:n),ZU(d)&&(e=e||jJ,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[_,C])=>`${y}${_}=${C},`,"");if(PX(d)&&c!=="_self")return zJ(e||"",c),new fE(null);let m=window.open(e||"",c,f);Pe(m,t,"popup-blocked");try{m.focus()}catch{}return new fE(m)}function zJ(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var $J="__/auth/handler",qJ="emulator/auth/handler",GJ=encodeURIComponent("fac");function jU(t,e,n,i,r,o){return x(this,null,function*(){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:gc,eventId:r};if(e instanceof fg){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",tU(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,m]of Object.entries(o||{}))s[f]=m}if(e instanceof cE){let f=e.getScopes().filter(m=>m!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${GJ}=${encodeURIComponent(u)}`:"";return`${WJ(t)}?${ph(c).slice(1)}${d}`})}function WJ({config:t}){return t.emulator?bx(t,qJ):`https://${t.authDomain}/${$J}`}var sx="webStorageSupport",_x=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lx,this._completeRedirectFn=_J,this._overrideRedirectResult=gJ}_openPopup(e,n,i,r){return x(this,null,function*(){var o;aa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield jU(e,n,i,ax(),r);return HJ(e,s,Vx())})}_openRedirect(e,n,i,r){return x(this,null,function*(){yield this._originValidation(e);let o=yield jU(e,n,i,ax(),r);return JX(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(aa(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return x(this,null,function*(){let n=yield FJ(e),i=new vx(e);return n.register("authEvent",r=>(Pe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sx,{type:sx},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[sx];s!==void 0&&n(!!s),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rB()||XU()||Ax()}},gB=_x;var HU="@firebase/auth",zU="1.10.8";var Ex=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return x(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QJ(t){So(new Oi("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=i.options;Pe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oB(t)},d=new fx(i,r,o,u);return BX(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),So(new Oi("auth-internal",e=>{let n=pE(e.getProvider("auth").getImmediate());return(i=>new Ex(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yn(HU,zU,KJ(t)),yn(HU,zU,"esm2017")}var YJ=5*60,ZJ=FA("authIdTokenMaxAge")||YJ,$U=null,XJ=t=>e=>x(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ZJ)return;let r=n?.token;$U!==r&&($U=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Bx(t=dl()){let e=mh(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Rx(t,{popupRedirectResolver:gB,persistence:[fB,uB,Lx]}),i=FA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=XJ(o.toString());Ox(n,s,()=>s(n.currentUser)),Px(n,c=>s(c))}}let r=OA("auth");return r&&Mx(n,`http://${r}`),n}function JJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LX({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=xo("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",JJ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QJ("Browser");var yB="auth",ca=class{constructor(e){return e}},gg=class{constructor(){return yh(yB)}};var jx=new M("angularfire2.auth-instances");function zee(t,e){let n=og(yB,t,e);return n&&new ca(n)}function $ee(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ca(i)}}var qee={provide:gg,deps:[[new nn,jx]]},Gee={provide:ca,useFactory:zee,deps:[[new nn,jx],ra]};function vB(t,...e){return yn("angularfire",yc.full,"auth"),Ar([Gee,qee,{provide:jx,useFactory:$ee(t),multi:!0,deps:[_e,Lt,vc,fl,[new nn,vh],...e]}])}var _B=Wn(Bx,!0);var EB=Wn(kx,!0);var wB=Wn(Ux,!0,2);var IB=Wn(Fx,!0,2);var bB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TB={};var ua,Hx;(function(){var t;function e(b,v){function E(){}E.prototype=v.prototype,b.D=v.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(I,T,S){for(var w=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)w[fn-2]=arguments[fn];return v.prototype[T].apply(I,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(b,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=b.g[0],E=b.g[1],T=b.g[2];var S=b.g[3],w=v+(S^E&(T^S))+I[0]+3614090360&4294967295;v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[2]+606105819&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[3]+3250441966&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(S^E&(T^S))+I[4]+4118548399&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[6]+2821735955&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[7]+4249261313&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(S^E&(T^S))+I[8]+1770035416&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[10]+4294925233&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[11]+2304563134&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(S^E&(T^S))+I[12]+1804603682&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[14]+2792965006&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[15]+1236535329&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(T^S&(E^T))+I[1]+4129170786&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[11]+643717713&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[0]+3921069994&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(E^T))+I[5]+3593408605&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[15]+3634488961&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[4]+3889429448&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(E^T))+I[9]+568446438&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[3]+4107603335&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[8]+1163531501&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(E^T))+I[13]+2850285829&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[7]+1735328473&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[12]+2368359562&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(E^T^S)+I[5]+4294588738&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[11]+1839030562&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[14]+4259657740&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^S)+I[1]+2763975236&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[7]+4139469664&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[10]+3200236656&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^S)+I[13]+681279174&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[3]+3572445317&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[6]+76029189&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^S)+I[9]+3654602809&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[15]+530742520&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[2]+3299628645&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(T^(E|~S))+I[0]+4096336452&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[14]+2878612391&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[5]+4237533241&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~S))+I[12]+1700485571&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[10]+4293915773&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[1]+2240044497&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~S))+I[8]+1873313359&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[6]+2734768916&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[13]+1309151649&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~S))+I[4]+4149444226&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[2]+718787259&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+S&4294967295}i.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var E=v-this.blockSize,I=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=E;)r(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<v;)if(I[T++]=b.charCodeAt(S++),T==this.blockSize){r(this,I),T=0;break}}else for(;S<v;)if(I[T++]=b[S++],T==this.blockSize){r(this,I),T=0;break}}this.h=T,this.o+=v},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var E=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=E&255,E/=256;for(this.u(b),b=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)b[E++]=this.g[v]>>>I&255;return b};function o(b,v){var E=c;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=v(b)}function s(b,v){this.h=v;for(var E=[],I=!0,T=b.length-1;0<=T;T--){var S=b[T]|0;I&&S==v||(E[T]=S,I=!1)}this.g=E}var c={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return m;if(0>b)return N(d(-b));for(var v=[],E=1,I=0;b>=E;I++)v[I]=b/E|0,E*=4294967296;return new s(v,0)}function f(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return N(f(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(v,8)),I=m,T=0;T<b.length;T+=8){var S=Math.min(8,b.length-T),w=parseInt(b.substring(T,T+S),v);8>S?(S=d(Math.pow(v,S)),I=I.j(S).add(d(w))):(I=I.j(E),I=I.add(d(w)))}return I}var m=u(0),y=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-N(this).m();for(var b=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);b+=(0<=I?I:4294967296+I)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(R(this))return"-"+N(this).toString(b);for(var v=d(Math.pow(b,6)),E=this,I="";;){var T=he(E,v).g;E=k(E,T.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=T,C(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function R(b){return b.h==-1}t.l=function(b){return b=k(this,b),R(b)?-1:C(b)?0:1};function N(b){for(var v=b.g.length,E=[],I=0;I<v;I++)E[I]=~b.g[I];return new s(E,~b.h).add(y)}t.abs=function(){return R(this)?N(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0,T=0;T<=v;T++){var S=I+(this.i(T)&65535)+(b.i(T)&65535),w=(S>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);I=w>>>16,S&=65535,w&=65535,E[T]=w<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(b,v){return b.add(N(v))}t.j=function(b){if(C(this)||C(b))return m;if(R(this))return R(b)?N(this).j(N(b)):N(N(this).j(b));if(R(b))return N(this.j(N(b)));if(0>this.l(_)&&0>b.l(_))return d(this.m()*b.m());for(var v=this.g.length+b.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<b.g.length;T++){var S=this.i(I)>>>16,w=this.i(I)&65535,fn=b.i(T)>>>16,ji=b.i(T)&65535;E[2*I+2*T]+=w*ji,$(E,2*I+2*T),E[2*I+2*T+1]+=S*ji,$(E,2*I+2*T+1),E[2*I+2*T+1]+=w*fn,$(E,2*I+2*T+1),E[2*I+2*T+2]+=S*fn,$(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function $(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function K(b,v){this.g=b,this.h=v}function he(b,v){if(C(v))throw Error("division by zero");if(C(b))return new K(m,m);if(R(b))return v=he(N(b),v),new K(N(v.g),N(v.h));if(R(v))return v=he(b,N(v)),new K(N(v.g),v.h);if(30<b.g.length){if(R(b)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,I=v;0>=I.l(b);)E=Ke(E),I=Ke(I);var T=fe(E,1),S=fe(I,1);for(I=fe(I,2),E=fe(E,2);!C(I);){var w=S.add(I);0>=w.l(b)&&(T=T.add(E),S=w),I=fe(I,1),E=fe(E,1)}return v=k(b,T.j(v)),new K(T,v)}for(T=m;0<=b.l(v);){for(E=Math.max(1,Math.floor(b.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=d(E),w=S.j(v);R(w)||0<w.l(b);)E-=I,S=d(E),w=S.j(v);C(S)&&(S=y),T=T.add(S),b=k(b,w)}return new K(T,b)}t.A=function(b){return he(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&b.i(I);return new s(E,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|b.i(I);return new s(E,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^b.i(I);return new s(E,this.h^b.h)};function Ke(b){for(var v=b.g.length+1,E=[],I=0;I<v;I++)E[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(E,b.h)}function fe(b,v){var E=v>>5;v%=32;for(var I=b.g.length-E,T=[],S=0;S<I;S++)T[S]=0<v?b.i(S+E)>>>v|b.i(S+E+1)<<32-v:b.i(S+E);return new s(T,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Hx=TB.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,ua=TB.Integer=s}).apply(typeof bB<"u"?bB:typeof self<"u"?self:typeof window<"u"?window:{});var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},la={};var zx,Wee,wh,$x,yg,yE,qx,Gx,Wx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof gE=="object"&&gE];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=n(this);function r(a,l){if(l)e:{var h=i;a=a.split(".");for(var p=0;p<a.length-1;p++){var D=a[p];if(!(D in h))break e;h=h[D]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,p=!1,D={next:function(){if(!p&&h<a.length){var A=h++;return{value:l(A,a[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function m(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),a.apply(l,D)}}return function(){return a.apply(l,arguments)}}function y(a,l,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,y.apply(null,arguments)}function _(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function C(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,D,A){for(var P=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)P[ge-2]=arguments[ge];return l.prototype[D].apply(p,P)}}function R(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function N(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let D=a.length||0,A=p.length||0;a.length=D+A;for(let P=0;P<A;P++)a[D+P]=p[P]}else a.push(p)}}class k{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function $(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function he(a){return he[" "](a),a}he[" "]=function(){};var Ke=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function fe(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function b(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function v(a){let l={};for(let h in a)l[h]=a[h];return l}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,l){let h,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(h in p)a[h]=p[h];for(let A=0;A<E.length;A++)h=E[A],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function T(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function S(a){c.setTimeout(()=>{throw a},0)}function w(){var a=Ge;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class fn{constructor(){this.h=this.g=null}add(l,h){let p=ji.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ji=new k(()=>new ae,a=>a.reset());class ae{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,Ge=new fn,tn=()=>{let a=c.Promise.resolve(void 0);ue=()=>{a.then(Hi)}};var Hi=()=>{for(var a;a=w();){try{a.h.call(a.g)}catch(h){S(h)}var l=ji;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}pe=!1};function wt(){this.s=this.s,this.C=this.C}wt.prototype.s=!1,wt.prototype.ma=function(){this.s||(this.s=!0,this.N())},wt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var zt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function zi(a,l){if(He.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Ke){e:{try{he(l.nodeName);var D=!0;break e}catch{}D=!1}D||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Df[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&zi.aa.h.call(this)}}C(zi,He);var Df={2:"touch",3:"pen",4:"mouse"};zi.prototype.h=function(){zi.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),$r=0;function li(a,l,h,p,D){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=D,this.key=++$r,this.da=this.fa=!1}function $i(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function tr(a){this.src=a,this.g={},this.h=0}tr.prototype.add=function(a,l,h,p,D){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=Zc(a,l,p,D);return-1<P?(l=a[P],h||(l.fa=!1)):(l=new li(l,this.src,A,!!p,D),l.fa=h,a.push(l)),l};function Yc(a,l){var h=l.type;if(h in a.g){var p=a.g[h],D=Array.prototype.indexOf.call(p,l,void 0),A;(A=0<=D)&&Array.prototype.splice.call(p,D,1),A&&($i(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Zc(a,l,h,p){for(var D=0;D<a.length;++D){var A=a[D];if(!A.da&&A.listener==l&&A.capture==!!h&&A.ha==p)return D}return-1}var Xc="closure_lm_"+(1e6*Math.random()|0),Jc={};function Sf(a,l,h,p,D){if(p&&p.once)return xf(a,l,h,p,D);if(Array.isArray(l)){for(var A=0;A<l.length;A++)Sf(a,l[A],h,p,D);return null}return h=iu(h),a&&a[Ot]?a.K(l,h,d(p)?!!p.capture:!!p,D):Af(a,l,h,!1,p,D)}function Af(a,l,h,p,D,A){if(!l)throw Error("Invalid event type");var P=d(D)?!!D.capture:!!D,ge=tu(a);if(ge||(a[Xc]=ge=new tr(a)),h=ge.add(l,h,p,P,A),h.proxy)return h;if(p=ub(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)zt||(D=P),D===void 0&&(D=!1),a.addEventListener(l.toString(),p,D);else if(a.attachEvent)a.attachEvent(Mf(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function ub(){function a(h){return l.call(a.src,a.listener,h)}let l=lb;return a}function xf(a,l,h,p,D){if(Array.isArray(l)){for(var A=0;A<l.length;A++)xf(a,l[A],h,p,D);return null}return h=iu(h),a&&a[Ot]?a.L(l,h,d(p)?!!p.capture:!!p,D):Af(a,l,h,!0,p,D)}function Rf(a,l,h,p,D){if(Array.isArray(l))for(var A=0;A<l.length;A++)Rf(a,l[A],h,p,D);else p=d(p)?!!p.capture:!!p,h=iu(h),a&&a[Ot]?(a=a.i,l=String(l).toString(),l in a.g&&(A=a.g[l],h=Zc(A,h,p,D),-1<h&&($i(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[l],a.h--)))):a&&(a=tu(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Zc(l,h,p,D)),(h=-1<a?l[a]:null)&&eu(h))}function eu(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Ot])Yc(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Mf(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=tu(l))?(Yc(h,a),h.h==0&&(h.src=null,l[Xc]=null)):$i(a)}}}function Mf(a){return a in Jc?Jc[a]:Jc[a]="on"+a}function lb(a,l){if(a.da)a=!0;else{l=new zi(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&eu(a),a=h.call(p,l)}return a}function tu(a){return a=a[Xc],a instanceof tr?a:null}var nu="__closure_events_fn_"+(1e9*Math.random()>>>0);function iu(a){return typeof a=="function"?a:(a[nu]||(a[nu]=function(l){return a.handleEvent(l)}),a[nu])}function mt(){wt.call(this),this.i=new tr(this),this.M=this,this.F=null}C(mt,wt),mt.prototype[Ot]=!0,mt.prototype.removeEventListener=function(a,l,h,p){Rf(this,a,l,h,p)};function It(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new He(l,a);else if(l instanceof He)l.target=l.target||a;else{var D=l;l=new He(p,a),I(l,D)}if(D=!0,h)for(var A=h.length-1;0<=A;A--){var P=l.g=h[A];D=Is(P,p,!0,l)&&D}if(P=l.g=a,D=Is(P,p,!0,l)&&D,D=Is(P,p,!1,l)&&D,h)for(A=0;A<h.length;A++)P=l.g=h[A],D=Is(P,p,!1,l)&&D}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)$i(h[p]);delete a.g[l],a.h--}}this.F=null},mt.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},mt.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function Is(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var D=!0,A=0;A<l.length;++A){var P=l[A];if(P&&!P.da&&P.capture==h){var ge=P.listener,rt=P.ha||P.src;P.fa&&Yc(a.i,P),D=ge.call(rt,p)!==!1&&D}}return D&&!p.defaultPrevented}function Nf(a,l,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Pf(a){a.g=Nf(()=>{a.g=null,a.i&&(a.i=!1,Pf(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class db extends wt{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Pf(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(a){wt.call(this),this.h=a,this.g={}}C(qr,wt);var Of=[];function kf(a){fe(a.g,function(l,h){this.g.hasOwnProperty(h)&&eu(l)},a),a.g={}}qr.prototype.N=function(){qr.aa.N.call(this),kf(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ru=c.JSON.stringify,hb=c.JSON.parse,fb=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ou(){}ou.prototype.h=null;function Ff(a){return a.h||(a.h=a.i())}function Lf(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function su(){He.call(this,"d")}C(su,He);function au(){He.call(this,"c")}C(au,He);var Ii={},Vf=null;function bs(){return Vf=Vf||new mt}Ii.La="serverreachability";function Uf(a){He.call(this,Ii.La,a)}C(Uf,He);function Wr(a){let l=bs();It(l,new Uf(l))}Ii.STAT_EVENT="statevent";function Bf(a,l){He.call(this,Ii.STAT_EVENT,a),this.stat=l}C(Bf,He);function bt(a){let l=bs();It(l,new Bf(l,a))}Ii.Ma="timingevent";function jf(a,l){He.call(this,Ii.Ma,a),this.size=l}C(jf,He);function Kr(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Qr(){this.g=!0}Qr.prototype.xa=function(){this.g=!1};function pb(a,l,h,p,D,A){a.info(function(){if(a.g)if(A)for(var P="",ge=A.split("&"),rt=0;rt<ge.length;rt++){var le=ge[rt].split("=");if(1<le.length){var gt=le[0];le=le[1];var yt=gt.split("_");P=2<=yt.length&&yt[1]=="type"?P+(gt+"="+le+"&"):P+(gt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+l+`
`+h+`
`+P})}function mb(a,l,h,p,D,A,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+l+`
`+h+`
`+A+" "+P})}function nr(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+yb(a,h)+(p?" "+p:"")})}function gb(a,l){a.info(function(){return"TIMEOUT: "+l})}Qr.prototype.info=function(){};function yb(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<D.length;P++)D[P]=""}}}}return ru(h)}catch{return l}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cu;function Cs(){}C(Cs,ou),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},cu=new Cs;function Jn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zf}function zf(){this.i=null,this.g="",this.h=!1}var $f={},uu={};function lu(a,l,h){a.L=1,a.v=xs(kn(l)),a.m=h,a.P=!0,qf(a,null)}function qf(a,l){a.F=Date.now(),Ds(a),a.A=kn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),op(h.i,"t",p),a.C=0,h=a.j.J,a.h=new zf,a.g=bp(a.j,h?l:null,!a.m),0<a.O&&(a.M=new db(y(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Of[0]=D.toString()),D=Of);for(var A=0;A<D.length;A++){var P=Sf(h,D[A],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Wr(),pb(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;let l=this.M;l&&Fn(a)==3?l.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{let yt=Fn(this.g);var l=this.g.Ba();let or=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||hp(this.g)))){this.J||yt!=4||l==7||(l==8||0>=or?Wr(3):Wr(2)),du(this);var h=this.g.Z();this.X=h;t:if(Gf(this)){var p=hp(this.g);a="";var D=p.length,A=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),Yr(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<D;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(A&&l==D-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,mb(this.i,this.u,this.A,this.l,this.R,yt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,rt=this.g;if((ge=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ge)){var le=ge;break t}}le=null}if(h=le)nr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hu(this,h);else{this.o=!1,this.s=3,bt(12),bi(this),Yr(this);break e}}if(this.P){h=!0;let dn;for(;!this.J&&this.C<P.length;)if(dn=vb(this,P),dn==uu){yt==4&&(this.s=4,bt(14),h=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==$f){this.s=4,bt(15),nr(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else nr(this.i,this.l,dn,null),hu(this,dn);if(Gf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||P.length!=0||this.h.h||(this.s=1,bt(16),h=!1),this.o=this.o&&h,!h)nr(this.i,this.l,P,"[Invalid Chunked Response]"),bi(this),Yr(this);else if(0<P.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),vu(gt),gt.M=!0,bt(11))}}else nr(this.i,this.l,P,null),hu(this,P);yt==4&&bi(this),this.o&&!this.J&&(yt==4?_p(this.j,this):(this.o=!1,Ds(this)))}else kb(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),bi(this),Yr(this)}}}catch{}finally{}};function Gf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function vb(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?uu:(h=Number(l.substring(h,p)),isNaN(h)?$f:(p+=1,p+h>l.length?uu:(l=l.slice(p,p+h),a.C=p+h,l)))}Jn.prototype.cancel=function(){this.J=!0,bi(this)};function Ds(a){a.S=Date.now()+a.I,Wf(a,a.I)}function Wf(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Kr(y(a.ba,a),l)}function du(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(gb(this.i,this.A),this.L!=2&&(Wr(),bt(17)),bi(this),this.s=2,Yr(this)):Wf(this,this.S-a)};function Yr(a){a.j.G==0||a.J||_p(a.j,a)}function bi(a){du(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,kf(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function hu(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||fu(h.h,a))){if(!a.K&&fu(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Os(h),Ns(h);else break e;yu(h),bt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Kr(y(h.Za,h),6e3));if(1>=Yf(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ci(h,11)}else if((a.K||h.g==a)&&Os(h),!$(l))for(D=h.Da.g.parse(l),l=0;l<D.length;l++){let le=D[l];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let gt=le[3];gt!=null&&(h.la=gt,h.j.info("VER="+h.la));let yt=le[4];yt!=null&&(h.Aa=yt,h.j.info("SVER="+h.Aa));let or=le[5];or!=null&&typeof or=="number"&&0<or&&(p=1.5*or,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let dn=a.g;if(dn){let Fs=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var A=p.h;A.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(pu(A,A.h),A.h=null))}if(p.D){let _u=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&(p.ya=_u,Ie(p.I,p.D,_u))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=Ip(p,p.J?p.ia:null,p.W),P.K){Zf(p.h,P);var ge=P,rt=p.L;rt&&(ge.I=rt),ge.B&&(du(ge),Ds(ge)),p.g=P}else yp(p);0<h.i.length&&Ps(h)}else le[0]!="stop"&&le[0]!="close"||Ci(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Ci(h,7):gu(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}Wr(4)}catch{}}var _b=class{constructor(a,l){this.g=a,this.map=l}};function Kf(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Yf(a){return a.h?1:a.g?a.g.size:0}function fu(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function pu(a,l){a.g?a.g.add(l):a.h=l}function Zf(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Kf.prototype.cancel=function(){if(this.i=Xf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Xf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return R(a.i)}function Eb(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function wb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function Jf(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=wb(a),p=Eb(a),D=p.length,A=0;A<D;A++)l.call(void 0,p[A],h&&h[A],a)}var ep=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ib(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),D=null;if(0<=p){var A=a[h].substring(0,p);D=a[h].substring(p+1)}else A=a[h];l(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ti(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ti){this.h=a.h,Ss(this,a.j),this.o=a.o,this.g=a.g,As(this,a.s),this.l=a.l;var l=a.i,h=new Jr;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),tp(this,h),this.m=a.m}else a&&(l=String(a).match(ep))?(this.h=!1,Ss(this,l[1]||"",!0),this.o=Zr(l[2]||""),this.g=Zr(l[3]||"",!0),As(this,l[4]),this.l=Zr(l[5]||"",!0),tp(this,l[6]||"",!0),this.m=Zr(l[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Ti.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Xr(l,np,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Xr(l,np,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Xr(h,h.charAt(0)=="/"?Cb:Tb,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Xr(h,Sb)),a.join("")};function kn(a){return new Ti(a)}function Ss(a,l,h){a.j=h?Zr(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function As(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function tp(a,l,h){l instanceof Jr?(a.i=l,Ab(a.i,a.h)):(h||(l=Xr(l,Db)),a.i=new Jr(l,a.h))}function Ie(a,l,h){a.i.set(l,h)}function xs(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Zr(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Xr(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,bb),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function bb(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var np=/[#\/\?@]/g,Tb=/[#\?:]/g,Cb=/[#\?]/g,Db=/[#\?@]/g,Sb=/#/g;function Jr(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function ei(a){a.g||(a.g=new Map,a.h=0,a.i&&Ib(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Jr.prototype,t.add=function(a,l){ei(this),this.i=null,a=ir(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function ip(a,l){ei(a),l=ir(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function rp(a,l){return ei(a),l=ir(a,l),a.g.has(l)}t.forEach=function(a,l){ei(this),this.g.forEach(function(h,p){h.forEach(function(D){a.call(l,D,p,this)},this)},this)},t.na=function(){ei(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let D=a[p];for(let A=0;A<D.length;A++)h.push(l[p])}return h},t.V=function(a){ei(this);let l=[];if(typeof a=="string")rp(this,a)&&(l=l.concat(this.g.get(ir(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return ei(this),this.i=null,a=ir(this,a),rp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function op(a,l,h){ip(a,l),0<h.length&&(a.i=null,a.g.set(ir(a,l),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let A=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var D=A;P[p]!==""&&(D+="="+encodeURIComponent(String(P[p]))),a.push(D)}}return this.i=a.join("&")};function ir(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function Ab(a,l){l&&!a.j&&(ei(a),a.i=null,a.g.forEach(function(h,p){var D=p.toLowerCase();p!=D&&(ip(this,p),op(this,D,h))},a)),a.j=l}function xb(a,l){let h=new Qr;if(c.Image){let p=new Image;p.onload=_(ti,h,"TestLoadImage: loaded",!0,l,p),p.onerror=_(ti,h,"TestLoadImage: error",!1,l,p),p.onabort=_(ti,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=_(ti,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function Rb(a,l){let h=new Qr,p=new AbortController,D=setTimeout(()=>{p.abort(),ti(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(A=>{clearTimeout(D),A.ok?ti(h,"TestPingServer: ok",!0,l):ti(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(D),ti(h,"TestPingServer: error",!1,l)})}function ti(a,l,h,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(h)}catch{}}function Mb(){this.g=new fb}function Nb(a,l,h){let p=h||"";try{Jf(a,function(D,A){let P=D;d(D)&&(P=ru(D)),l.push(p+A+"="+encodeURIComponent(P))})}catch(D){throw l.push(p+"type="+encodeURIComponent("_badmap")),D}}function eo(a){this.l=a.Ub||null,this.j=a.eb||!1}C(eo,ou),eo.prototype.g=function(){return new Rs(this.l,this.j)},eo.prototype.i=function(a){return function(){return a}}({});function Rs(a,l){mt.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Rs,mt),t=Rs.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,no(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,no(this)),this.g&&(this.readyState=3,no(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function sp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?to(this):no(this),this.readyState==3&&sp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,to(this))},t.Qa=function(a){this.g&&(this.response=a,to(this))},t.ga=function(){this.g&&to(this)};function to(a){a.readyState=4,a.l=null,a.j=null,a.v=null,no(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function no(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ap(a){let l="";return fe(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function mu(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=ap(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,l,h))}function Fe(a){mt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Fe,mt);var Pb=/^https?$/i,Ob=["POST","PUT"];t=Fe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cu.g(),this.v=this.o?Ff(this.o):Ff(cu),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(A){cp(this,A);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)h.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ob,l,void 0))||p||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of h)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dp(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){cp(this,A)}};function cp(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,up(a),Ms(a)}function up(a){a.A||(a.A=!0,It(a,"complete"),It(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,It(this,"complete"),It(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lp(this):this.bb())},t.bb=function(){lp(this)};function lp(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Fn(a)!=4||a.Z()!=2)){if(a.u&&Fn(a)==4)Nf(a.Ea,0,a);else if(It(a,"readystatechange"),Fn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=P===0){var D=String(a.D).match(ep)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),p=!Pb.test(D?D.toLowerCase():"")}h=p}if(h)It(a,"complete"),It(a,"success");else{a.m=6;try{var A=2<Fn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",up(a)}}finally{Ms(a)}}}}function Ms(a,l){if(a.g){dp(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||It(a,"ready");try{h.onreadystatechange=p}catch{}}}function dp(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Fn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),hb(l)}};function hp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function kb(a){let l={};a=(a.g&&2<=Fn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if($(a[p]))continue;var h=T(a[p]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=l[D]||[];l[D]=A,A.push(h)}b(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function io(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function fp(a){this.Aa=0,this.i=[],this.j=new Qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=io("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=io("baseRetryDelayMs",5e3,a),this.cb=io("retryDelaySeedMs",1e4,a),this.Wa=io("forwardChannelMaxRetries",2,a),this.wa=io("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Kf(a&&a.concurrentRequestLimit),this.Da=new Mb,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fp.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){bt(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Ip(this,null,this.W),Ps(this)};function gu(a){if(pp(a),a.G==3){var l=a.U++,h=kn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",l),Ie(h,"TYPE","terminate"),ro(a,h),l=new Jn(a,a.j,l),l.L=2,l.v=xs(kn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=bp(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Ds(l)}wp(a)}function Ns(a){a.g&&(vu(a),a.g.cancel(),a.g=null)}function pp(a){Ns(a),a.u&&(c.clearTimeout(a.u),a.u=null),Os(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ps(a){if(!Qf(a.h)&&!a.s){a.s=!0;var l=a.Ga;ue||tn(),pe||(ue(),pe=!0),Ge.add(l,a),a.B=0}}function Fb(a,l){return Yf(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Kr(y(a.Ga,a,l),Ep(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Jn(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=gp(this,D,l),h=kn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),ro(this,h),A&&(this.O?l="headers="+encodeURIComponent(String(ap(A)))+"&"+l:this.m&&mu(h,this.m,A)),pu(this.h,D),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",l),Ie(h,"SID","null"),D.T=!0,lu(D,h,null)):lu(D,h,l),this.G=2}}else this.G==3&&(a?mp(this,a):this.i.length==0||Qf(this.h)||mp(this))};function mp(a,l){var h;l?h=l.l:h=a.U++;let p=kn(a.I);Ie(p,"SID",a.K),Ie(p,"RID",h),Ie(p,"AID",a.T),ro(a,p),a.m&&a.o&&mu(p,a.m,a.o),h=new Jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=gp(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),pu(a.h,h),lu(h,p,l)}function ro(a,l){a.H&&fe(a.H,function(h,p){Ie(l,p,h)}),a.l&&Jf({},function(h,p){Ie(l,p,h)})}function gp(a,l,h){h=Math.min(a.i.length,h);var p=a.l?y(a.l.Na,a.l,a):null;e:{var D=a.i;let A=-1;for(;;){let P=["count="+h];A==-1?0<h?(A=D[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let ge=!0;for(let rt=0;rt<h;rt++){let le=D[rt].g,gt=D[rt].map;if(le-=A,0>le)A=Math.max(0,D[rt].g-100),ge=!1;else try{Nb(gt,P,"req"+le+"_")}catch{p&&p(gt)}}if(ge){p=P.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function yp(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;ue||tn(),pe||(ue(),pe=!0),Ge.add(l,a),a.v=0}}function yu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Kr(y(a.Fa,a),Ep(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,vp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Kr(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Ns(this),vp(this))};function vu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function vp(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=kn(a.qa);Ie(l,"RID","rpc"),Ie(l,"SID",a.K),Ie(l,"AID",a.T),Ie(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(l,"TO",a.ja),Ie(l,"TYPE","xmlhttp"),ro(a,l),a.m&&a.o&&mu(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=xs(kn(l)),h.m=null,h.P=!0,qf(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ns(this),yu(this),bt(19))};function Os(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function _p(a,l){var h=null;if(a.g==l){Os(a),vu(a),a.g=null;var p=2}else if(fu(a.h,l))h=l.D,Zf(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var D=a.B;p=bs(),It(p,new jf(p,h)),Ps(a)}else yp(a);else if(D=l.s,D==3||D==0&&0<l.X||!(p==1&&Fb(a,l)||p==2&&yu(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),D){case 1:Ci(a,5);break;case 4:Ci(a,10);break;case 3:Ci(a,6);break;default:Ci(a,2)}}}function Ep(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Ci(a,l){if(a.j.info("Error code "+l),l==2){var h=y(a.fb,a),p=a.Xa;let D=!p;p=new Ti(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ss(p,"https"),xs(p),D?xb(p.toString(),h):Rb(p.toString(),h)}else bt(2);a.G=0,a.l&&a.l.sa(l),wp(a),pp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function wp(a){if(a.G=0,a.ka=[],a.l){let l=Xf(a.h);(l.length!=0||a.i.length!=0)&&(N(a.ka,l),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function Ip(a,l,h){var p=h instanceof Ti?kn(h):new Ti(h);if(p.g!="")l&&(p.g=l+"."+p.g),As(p,p.s);else{var D=c.location;p=D.protocol,l=l?l+"."+D.hostname:D.hostname,D=+D.port;var A=new Ti(null);p&&Ss(A,p),l&&(A.g=l),D&&As(A,D),h&&(A.l=h),p=A}return h=a.D,l=a.ya,h&&l&&Ie(p,h,l),Ie(p,"VER",a.la),ro(a,p),p}function bp(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Fe(new eo({eb:h})):new Fe(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tp(){}t=Tp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ks(){}ks.prototype.g=function(a,l){return new $t(a,l)};function $t(a,l){mt.call(this),this.g=new fp(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!$(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!$(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new rr(this)}C($t,mt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){gu(this.g)},$t.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ru(a),a=h);l.i.push(new _b(l.Ya++,a)),l.G==3&&Ps(l)},$t.prototype.N=function(){this.g.l=null,delete this.j,gu(this.g),delete this.g,$t.aa.N.call(this)};function Cp(a){su.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}C(Cp,su);function Dp(){au.call(this),this.status=1}C(Dp,au);function rr(a){this.g=a}C(rr,Tp),rr.prototype.ua=function(){It(this.g,"a")},rr.prototype.ta=function(a){It(this.g,new Cp(a))},rr.prototype.sa=function(a){It(this.g,new Dp)},rr.prototype.ra=function(){It(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Wx=la.createWebChannelTransport=function(){return new ks},Gx=la.getStatEventTarget=function(){return bs()},qx=la.Event=Ii,yE=la.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,yg=la.ErrorCode=Ts,Hf.COMPLETE="complete",$x=la.EventType=Hf,Lf.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,wh=la.WebChannel=Lf,Wee=la.FetchXmlHttpFactory=eo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,zx=la.XhrIo=Fe}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var CB="@firebase/firestore",DB="4.8.0";var Kn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");var Hh="11.10.0";var wl=new os("@firebase/firestore");function Ih(){return wl.logLevel}function se(t,...e){if(wl.logLevel<=tt.DEBUG){let n=e.map(LR);wl.debug(`Firestore (${Hh}): ${t}`,...n)}}function ha(t,...e){if(wl.logLevel<=tt.ERROR){let n=e.map(LR);wl.error(`Firestore (${Hh}): ${t}`,...n)}}function Sc(t,...e){if(wl.logLevel<=tt.WARN){let n=e.map(LR);wl.warn(`Firestore (${Hh}): ${t}`,...n)}}function LR(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,v4(t,i,n)}function v4(t,e,n){let i=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ha(i),new Error(i)}function Rt(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||v4(e,r,i)}function Ve(t,e){return t}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ie=class extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var us=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var TE=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}},Jx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},e1=class{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0,42304);let i=this.i,r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve(),o=new us;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new us,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>x(this,null,function*(){yield u.promise,yield r(this.currentUser)}))},c=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new us)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt(typeof i.accessToken=="string",31837,{l:i}),new TE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}},t1=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},n1=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new t1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},CE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},i1=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0,3512);let i=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Kee(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}function _4(){return new TextEncoder}var bg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=Kee(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%62))}return i}};function Ze(t,e){return t<e?-1:t>e?1:0}function r1(t,e){let n=0;for(;n<t.length&&n<e.length;){let i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return Ze(i,r);{let o=_4(),s=Qee(o.encode(SB(t,n)),o.encode(SB(e,n)));return s!==0?s:Ze(i,r)}}n+=i>65535?2:1}return Ze(t.length,e.length)}function SB(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Qee(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ze(t[n],e[n]);return Ze(t.length,e.length)}function Rh(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var AB="__name__",DE=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=t.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return Ze(e.length,n.length)}static compareSegments(e,n){let i=t.isNumericId(e),r=t.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?t.extractNumericId(e).compare(t.extractNumericId(n)):r1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}},un=class t extends DE{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},Yee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vr=class t extends DE{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return Yee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AB}static keyField(){return new t([AB])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new ie(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new ie(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var we=class t{constructor(e){this.path=e}static fromPath(e){return new t(un.fromString(e))}static fromName(e){return new t(un.fromString(e).popFirst(5))}static empty(){return new t(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new un(e.slice()))}};function E4(t,e,n){if(!n)throw new ie(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zee(t,e,n,i){if(e===!0&&i===!0)throw new ie(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xB(t){if(!we.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RB(t){if(we.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sw(t);throw new ie(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Rn(t,e){let n={typeString:t};return e&&(n.value=e),n}function Og(t,e){if(!w4(t))throw new ie(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(let i in e)if(e[i]){let r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}let s=t[i];if(r&&typeof s!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new ie(B.INVALID_ARGUMENT,n);return!0}var MB=-62135596800,NB=1e6,Mn=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*NB);return new t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<MB)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NB}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Og(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-MB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Mn._jsonSchemaVersion="firestore/timestamp/1.0",Mn._jsonSchema={type:Rn("string",Mn._jsonSchemaVersion),seconds:Rn("number"),nanoseconds:Rn("number")};var je=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Mn(0,0))}static max(){return new t(new Mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tg=-1,o1=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};o1.UNKNOWN_ID=-1;function Xee(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=je.fromTimestamp(i===1e9?new Mn(n+1,0):new Mn(n,i));return new Il(r,we.empty(),e)}function Jee(t){return new Il(t.readTime,t.key,Tg)}var Il=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(je.min(),we.empty(),Tg)}static max(){return new t(je.max(),we.empty(),Tg)}};function ete(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}var tte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",s1=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zh(t){return x(this,null,function*(){if(t.code!==B.FAILED_PRECONDITION||t.message!==tte)throw t;se("LocalStore","Unexpectedly lost primary lease")})}var G=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&n()},u=>i(u))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(f=>{s[d]=f,++c,c===o&&i(s)},f=>r(f))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};function nte(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $h(t){return t.name==="IndexedDbTransactionError"}var VR=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),UR=-1;function aw(t){return t==null}function Cg(t){return t===0&&1/t==-1/0}function ite(t){return typeof t=="number"&&Number.isInteger(t)&&!Cg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var I4="";function rte(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PB(e)),e=ote(t.get(n),e);return PB(e)}function ote(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case I4:n+="";break;default:n+=o}}return n}function PB(t){return t+I4+""}var ste="remoteDocuments",b4="owner";var T4="mutationQueues";var C4="mutations";var D4="documentMutations",ate="remoteDocumentsV14";var S4="remoteDocumentGlobal";var A4="targets";var x4="targetDocuments";var R4="targetGlobal",M4="collectionParents";var N4="clientMetadata";var P4="bundles";var O4="namedQueries";var cte="indexConfiguration";var ute="indexState";var lte="indexEntries";var k4="documentOverlays";var dte="globals";var hte=[T4,C4,D4,ste,A4,b4,R4,x4,N4,S4,M4,P4,O4],CRe=[...hte,k4],fte=[T4,C4,D4,ate,A4,b4,R4,x4,N4,S4,M4,P4,O4,k4],pte=fte,mte=[...pte,cte,ute,lte];var DRe=[...mte,dte];function OB(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var vn=class t{constructor(e,n){this.comparator=e,this.root=n||ls.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}},Dh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ls=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}};ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1;ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,r,o){return this}insert(e,n,i){return new ls(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qn=class t{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(e){return new SE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},SE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ur=class t{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new t([])}unionWith(e){let n=new Qn(vr.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rh(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var AE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new AE("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vi.EMPTY_BYTE_STRING=new vi("");var gte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(t){if(Rt(!!t,39018),typeof t=="string"){let e=0,n=gte.exec(t);if(Rt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cn(t.seconds),nanos:cn(t.nanos)}}function cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pa(t){return typeof t=="string"?vi.fromBase64String(t):vi.fromUint8Array(t)}var L4="server_timestamp",V4="__type__",U4="__previous_value__",B4="__local_write_time__";function BR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[V4])===null||n===void 0?void 0:n.stringValue)===L4}function cw(t){let e=t.mapValue.fields[U4];return BR(e)?cw(e):e}function Dg(t){let e=fa(t.mapValue.fields[B4].timestampValue);return new Mn(e.seconds,e.nanos)}var a1=class{constructor(e,n,i,r,o,s,c,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}},xE="(default)",RE=class t{constructor(e,n){this.projectId=e,this.database=n||xE}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===xE}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var jR="__type__",j4="__max__",vE={mapValue:{fields:{__type__:{stringValue:j4}}}},HR="__vector__",Mh="value";function Ac(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?BR(t)?4:z4(t)?9007199254740991:H4(t)?10:11:Se(28295,{value:t})}function fs(t,e){if(t===e)return!0;let n=Ac(t);if(n!==Ac(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dg(t).isEqual(Dg(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=fa(r.timestampValue),c=fa(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return pa(r.bytesValue).isEqual(pa(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return cn(r.geoPointValue.latitude)===cn(o.geoPointValue.latitude)&&cn(r.geoPointValue.longitude)===cn(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return cn(r.integerValue)===cn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=cn(r.doubleValue),c=cn(o.doubleValue);return s===c?Cg(s)===Cg(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Rh(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(OB(s)!==OB(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!fs(s[u],c[u])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function Sg(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function Nh(t,e){if(t===e)return 0;let n=Ac(t),i=Ac(e);if(n!==i)return Ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=cn(o.integerValue||o.doubleValue),u=cn(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return kB(t.timestampValue,e.timestampValue);case 4:return kB(Dg(t),Dg(e));case 5:return r1(t.stringValue,e.stringValue);case 6:return function(o,s){let c=pa(o),u=pa(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=Ze(c[d],u[d]);if(f!==0)return f}return Ze(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Ze(cn(o.latitude),cn(s.latitude));return c!==0?c:Ze(cn(o.longitude),cn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FB(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,d,f;let m=o.fields||{},y=s.fields||{},_=(c=m[Mh])===null||c===void 0?void 0:c.arrayValue,C=(u=y[Mh])===null||u===void 0?void 0:u.arrayValue,R=Ze(((d=_?.values)===null||d===void 0?void 0:d.length)||0,((f=C?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:FB(_,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===vE.mapValue&&s===vE.mapValue)return 0;if(o===vE.mapValue)return 1;if(s===vE.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){let y=r1(u[m],f[m]);if(y!==0)return y;let _=Nh(c[u[m]],d[f[m]]);if(_!==0)return _}return Ze(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{le:n})}}function kB(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);let n=fa(t),i=fa(e),r=Ze(n.seconds,i.seconds);return r!==0?r:Ze(n.nanos,i.nanos)}function FB(t,e){let n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){let o=Nh(n[r],i[r]);if(o)return o}return Ze(n.length,i.length)}function Ph(t){return c1(t)}function c1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=fa(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=c1(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${c1(n.fields[s])}`;return r+"}"}(t.mapValue):Se(61005,{value:t})}function wE(t){switch(Ac(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=cw(t);return e?16+wE(e):16;case 5:return 2*t.stringValue.length;case 6:return pa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+wE(o),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Pc(i.fields,(o,s)=>{r+=o.length+wE(s)}),r}(t.mapValue);default:throw Se(13486,{value:t})}}function LB(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u1(t){return!!t&&"integerValue"in t}function zR(t){return!!t&&"arrayValue"in t}function VB(t){return!!t&&"nullValue"in t}function UB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function IE(t){return!!t&&"mapValue"in t}function H4(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[jR])===null||n===void 0?void 0:n.stringValue)===HR}function _g(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Pc(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=_g(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_g(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===j4}var ARe={mapValue:{fields:{[jR]:{stringValue:HR},[Mh]:{arrayValue:{}}}}};var yr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!IE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_g(n)}setAll(e){let n=vr.emptyPath(),i={},r=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=c.popLast()}s?i[c.lastSegment()]=_g(s):r.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());IE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];IE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Pc(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(_g(this.value))}};function $4(t){let e=[];return Pc(t.fields,(n,i)=>{let r=new vr([n]);if(IE(i)){let o=$4(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new Ur(e)}var Ro=class t{constructor(e,n,i,r,o,s,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,je.min(),je.min(),je.min(),yr.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,je.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,je.min(),je.min(),yr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,je.min(),je.min(),yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Oh=class{constructor(e,n){this.position=e,this.inclusive=n}};function BB(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=we.comparator(we.fromName(s.referenceValue),n.key):i=Nh(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function jB(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}var bl=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function yte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ME=class{},xn=class t extends ME{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new d1(e,n,i):n==="array-contains"?new p1(e,i):n==="in"?new m1(e,i):n==="not-in"?new g1(e,i):n==="array-contains-any"?new y1(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new h1(e,i):new f1(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nh(n,this.value)):n!==null&&Ac(this.value)===Ac(n)&&this.matchesComparison(Nh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mo=class t extends ME{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return q4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function q4(t){return t.op==="and"}function G4(t){return vte(t)&&q4(t)}function vte(t){for(let e of t.filters)if(e instanceof Mo)return!1;return!0}function l1(t){if(t instanceof xn)return t.field.canonicalString()+t.op.toString()+Ph(t.value);if(G4(t))return t.filters.map(e=>l1(e)).join(",");{let e=t.filters.map(n=>l1(n)).join(",");return`${t.op}(${e})`}}function W4(t,e){return t instanceof xn?function(i,r){return r instanceof xn&&i.op===r.op&&i.field.isEqual(r.field)&&fs(i.value,r.value)}(t,e):t instanceof Mo?function(i,r){return r instanceof Mo&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,c)=>o&&W4(s,r.filters[c]),!0):!1}(t,e):void Se(19439)}function K4(t){return t instanceof xn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ph(n.value)}`}(t):t instanceof Mo?function(n){return n.op.toString()+" {"+n.getFilters().map(K4).join(" ,")+"}"}(t):"Filter"}var d1=class extends xn{constructor(e,n,i){super(e,n,i),this.key=we.fromName(i.referenceValue)}matches(e){let n=we.comparator(e.key,this.key);return this.matchesComparison(n)}},h1=class extends xn{constructor(e,n){super(e,"in",n),this.keys=Q4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},f1=class extends xn{constructor(e,n){super(e,"not-in",n),this.keys=Q4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Q4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>we.fromName(i.referenceValue))}var p1=class extends xn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return zR(n)&&Sg(n.arrayValue,this.value)}},m1=class extends xn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Sg(this.value.arrayValue,n)}},g1=class extends xn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Sg(this.value.arrayValue,n)}},y1=class extends xn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!zR(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Sg(this.value.arrayValue,i))}};var v1=class{constructor(e,n=null,i=[],r=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function HB(t,e=null,n=[],i=[],r=null,o=null,s=null){return new v1(t,e,n,i,r,o,s)}function $R(t){let e=Ve(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>l1(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),aw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ph(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ph(i)).join(",")),e.Pe=n}return e.Pe}function qR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jB(t.startAt,e.startAt)&&jB(t.endAt,e.endAt)}function _1(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var xc=class{constructor(e,n=null,i=[],r=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function _te(t,e,n,i,r,o,s,c){return new xc(t,e,n,i,r,o,s,c)}function uw(t){return new xc(t)}function zB(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y4(t){return t.collectionGroup!==null}function Eg(t){let e=Ve(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Qn(vr.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new bl(o,i))}),n.has(vr.keyField().canonicalString())||e.Te.push(new bl(vr.keyField(),i))}return e.Te}function ds(t){let e=Ve(t);return e.Ie||(e.Ie=Ete(e,Eg(t))),e.Ie}function Ete(t,e){if(t.limitType==="F")return HB(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new bl(r.field,o)});let n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return HB(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function E1(t,e){let n=t.filters.concat([e]);return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function w1(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lw(t,e){return qR(ds(t),ds(e))&&t.limitType===e.limitType}function Z4(t){return`${$R(ds(t))}|lt:${t.limitType}`}function bh(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>K4(r)).join(", ")}]`),aw(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Ph(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Ph(r)).join(",")),`Target(${i})`}(ds(t))}; limitType=${t.limitType})`}function dw(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):we.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Eg(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,c,u){let d=BB(s,c,u);return s.inclusive?d<=0:d<0}(i.startAt,Eg(i),r)||i.endAt&&!function(s,c,u){let d=BB(s,c,u);return s.inclusive?d>=0:d>0}(i.endAt,Eg(i),r))}(t,e)}function wte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X4(t){return(e,n)=>{let i=!1;for(let r of Eg(t)){let o=Ite(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Ite(t,e,n){let i=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?Nh(u,d):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}var ma=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pc(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return F4(this.inner)}size(){return this.innerSize}};var bte=new vn(we.comparator);function ga(){return bte}var J4=new vn(we.comparator);function vg(...t){let e=J4;for(let n of t)e=e.insert(n.key,n);return e}function ej(t){let e=J4;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function yl(){return wg()}function tj(){return wg()}function wg(){return new ma(t=>t.toString(),(t,e)=>t.isEqual(e))}var Tte=new vn(we.comparator),Cte=new Qn(we.comparator);function it(...t){let e=Cte;for(let n of t)e=e.add(n);return e}var Dte=new Qn(Ze);function Ste(){return Dte}function GR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(e)?"-0":e}}function nj(t){return{integerValue:""+t}}function Ate(t,e){return ite(e)?nj(e):GR(t,e)}var kh=class{constructor(){this._=void 0}};function xte(t,e,n){return t instanceof Fh?function(r,o){let s={fields:{[V4]:{stringValue:L4},[B4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&BR(o)&&(o=cw(o)),o&&(s.fields[U4]=o),{mapValue:s}}(n,e):t instanceof Tl?rj(t,e):t instanceof Cl?oj(t,e):function(r,o){let s=ij(r,o),c=$B(s)+$B(r.Ee);return u1(s)&&u1(r.Ee)?nj(c):GR(r.serializer,c)}(t,e)}function Rte(t,e,n){return t instanceof Tl?rj(t,e):t instanceof Cl?oj(t,e):n}function ij(t,e){return t instanceof Lh?function(i){return u1(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Fh=class extends kh{},Tl=class extends kh{constructor(e){super(),this.elements=e}};function rj(t,e){let n=sj(e);for(let i of t.elements)n.some(r=>fs(r,i))||n.push(i);return{arrayValue:{values:n}}}var Cl=class extends kh{constructor(e){super(),this.elements=e}};function oj(t,e){let n=sj(e);for(let i of t.elements)n=n.filter(r=>!fs(r,i));return{arrayValue:{values:n}}}var Lh=class extends kh{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function $B(t){return cn(t.integerValue||t.doubleValue)}function sj(t){return zR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Mte(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Tl&&r instanceof Tl||i instanceof Cl&&r instanceof Cl?Rh(i.elements,r.elements,fs):i instanceof Lh&&r instanceof Lh?fs(i.Ee,r.Ee):i instanceof Fh&&r instanceof Fh}(t.transform,e.transform)}var I1=class{constructor(e,n){this.version=e,this.transformResults=n}},Ic=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bE(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Vh=class{};function aj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NE(t.key,Ic.none()):new Dl(t.key,t.data,Ic.none());{let n=t.data,i=yr.empty(),r=new Qn(vr.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new ps(t.key,i,new Ur(r.toArray()),Ic.none())}}function Nte(t,e,n){t instanceof Dl?function(r,o,s){let c=r.value.clone(),u=GB(r.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(r,o,s){if(!bE(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=GB(r.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(cj(r)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ig(t,e,n,i){return t instanceof Dl?function(o,s,c,u){if(!bE(o.precondition,s))return c;let d=o.value.clone(),f=WB(o.fieldTransforms,u,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof ps?function(o,s,c,u){if(!bE(o.precondition,s))return c;let d=WB(o.fieldTransforms,u,s),f=s.data;return f.setAll(cj(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(o,s,c){return bE(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function Pte(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=ij(i.transform,r||null);o!=null&&(n===null&&(n=yr.empty()),n.set(i.field,o))}return n||null}function qB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Rh(i,r,(o,s)=>Mte(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Dl=class extends Vh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ps=class extends Vh{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function cj(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function GB(t,e,n){let i=new Map;Rt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,c=e.data.field(o.field);i.set(o.field,Rte(s,c,n[r]))}return i}function WB(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,xte(o,s,e))}return i}var NE=class extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},b1=class extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var T1=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&Nte(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ig(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ig(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=tj();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(r.key)?null:c;let u=aj(s,c);u!==null&&i.set(r.key,u),s.isValidDocument()||s.convertToNoDocument(je.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&Rh(this.mutations,e.mutations,(n,i)=>qB(n,i))&&Rh(this.baseMutations,e.baseMutations,(n,i)=>qB(n,i))}},C1=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Rt(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=function(){return Tte}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var D1=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var S1=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Sn,ht;function Ote(t){switch(t){case B.OK:return Se(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function uj(t){if(t===void 0)return ha("GRPC error has no .code"),B.UNKNOWN;switch(t){case Sn.OK:return B.OK;case Sn.CANCELLED:return B.CANCELLED;case Sn.UNKNOWN:return B.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return B.INTERNAL;case Sn.UNAVAILABLE:return B.UNAVAILABLE;case Sn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Sn.NOT_FOUND:return B.NOT_FOUND;case Sn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Sn.ABORTED:return B.ABORTED;case Sn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Sn.DATA_LOSS:return B.DATA_LOSS;default:return Se(39323,{code:t})}}(ht=Sn||(Sn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";var KB=null;var kte=new ua([4294967295,4294967295],0);function QB(t){let e=_4().encode(t),n=new Hx;return n.update(e),new Uint8Array(n.digest())}function YB(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ua([n,i],0),new ua([r,o],0)]}var A1=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(i<0)throw new vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ua.fromNumber(this.fe)}pe(e,n,i){let r=e.add(n.multiply(ua.fromNumber(i)));return r.compare(kte)===1&&(r=new ua([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=QB(e),[i,r]=YB(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);if(!this.ye(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=QB(e),[i,r]=YB(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(i,r,o);this.we(s)}}we(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},vl=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var PE=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Ag.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(je.min(),r,new vn(Ze),ga(),it())}},Ag=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,it(),it(),it())}};var Sh=class{constructor(e,n,i,r){this.Se=e,this.removedTargetIds=n,this.key=i,this.be=r}},OE=class{constructor(e,n){this.targetId=e,this.De=n}},kE=class{constructor(e,n,i=vi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},FE=class{constructor(){this.ve=0,this.Ce=ZB(),this.Fe=vi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=it(),n=it(),i=it();return this.Ce.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Se(38017,{changeType:o})}}),new Ag(this.Fe,this.Me,e,n,i)}ke(){this.xe=!1,this.Ce=ZB()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},x1=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=ga(),this.je=_E(),this.Je=_E(),this.He=new vn(Ze)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let i=this.tt(n);switch(e.state){case 0:this.nt(n)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((i,r)=>{this.nt(r)&&n(r)})}it(e){let n=e.targetId,i=e.De.count,r=this.st(n);if(r){let o=r.target;if(_1(o))if(i===0){let s=new we(o.path);this.Xe(n,s,Ro.newNoDocument(s,je.min()))}else Rt(i===1,20013,{expectedCount:i});else{let s=this.ot(n);if(s!==i){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}KB?.ct(function(f,m,y,_,C){var R,N,k,$,K,he;let Ke={localCacheCount:f,existenceFilterCount:m.count,databaseId:y.database,projectId:y.projectId},fe=m.unchangedNames;return fe&&(Ke.bloomFilter={applied:C===0,hashCount:(R=fe?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:($=(k=(N=fe?.bits)===null||N===void 0?void 0:N.bitmap)===null||k===void 0?void 0:k.length)!==null&&$!==void 0?$:0,padding:(he=(K=fe?.bits)===null||K===void 0?void 0:K.padding)!==null&&he!==void 0?he:0,mightContain:b=>{var v;return(v=_?.mightContain(b))!==null&&v!==void 0&&v}}),Ke}(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,c;try{s=pa(i).toUint8Array()}catch(u){if(u instanceof AE)return Sc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new A1(s,r,o)}catch(u){return Sc(u instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,i){return n.De.count===i-this.ht(e,n.targetId)?0:2}ht(e,n){let i=this.We.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),r++)}),r}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&_1(c.target)){let u=new we(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Ro.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let i=it();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let d=this.st(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let r=new PE(e,n,this.He,this.ze,i);return this.ze=ga(),this.je=_E(),this.Je=_E(),this.He=new vn(Ze),r}Ze(e,n){if(!this.nt(e))return;let i=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,i){if(!this.nt(e))return;let r=this.tt(e);this.It(e,n)?r.qe(n,1):r.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new FE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Qn(Ze),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Qn(Ze),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new FE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function _E(){return new vn(we.comparator)}function ZB(){return new vn(we.comparator)}var Fte={asc:"ASCENDING",desc:"DESCENDING"},Lte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vte={and:"AND",or:"OR"},R1=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function M1(t,e){return t.useProto3Json||aw(e)?e:{value:e}}function LE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ute(t,e){return LE(t,e.toTimestamp())}function hs(t){return Rt(!!t,49232),je.fromTimestamp(function(n){let i=fa(n);return new Mn(i.seconds,i.nanos)}(t))}function WR(t,e){return N1(t,e).canonicalString()}function N1(t,e){let n=function(r){return new un(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dj(t){let e=un.fromString(t);return Rt(gj(e),10190,{key:e.toString()}),e}function P1(t,e){return WR(t.databaseId,e.path)}function Kx(t,e){let n=dj(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(fj(n))}function hj(t,e){return WR(t.databaseId,e)}function Bte(t){let e=dj(t);return e.length===4?un.emptyPath():fj(e)}function O1(t){return new un(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fj(t){return Rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XB(t,e,n){return{name:P1(t,e),fields:n.value.mapValue.fields}}function jte(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Se(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(Rt(f===void 0||typeof f=="string",58123),vi.fromBase64String(f||"")):(Rt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),vi.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(d){let f=d.code===void 0?B.UNKNOWN:uj(d.code);return new ie(f,d.message||"")}(s);n=new kE(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Kx(t,i.document.name),o=hs(i.document.updateTime),s=i.document.createTime?hs(i.document.createTime):je.min(),c=new yr({mapValue:{fields:i.document.fields}}),u=Ro.newFoundDocument(r,o,s,c),d=i.targetIds||[],f=i.removedTargetIds||[];n=new Sh(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Kx(t,i.document),o=i.readTime?hs(i.readTime):je.min(),s=Ro.newNoDocument(r,o),c=i.removedTargetIds||[];n=new Sh([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Kx(t,i.document),o=i.removedTargetIds||[];n=new Sh([],o,r,null)}else{if(!("filter"in e))return Se(11601,{At:e});{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new S1(r,o),c=i.targetId;n=new OE(c,s)}}return n}function Hte(t,e){let n;if(e instanceof Dl)n={update:XB(t,e.key,e.value)};else if(e instanceof NE)n={delete:P1(t,e.key)};else if(e instanceof ps)n={update:XB(t,e.key,e.data),updateMask:Zte(e.fieldMask)};else{if(!(e instanceof b1))return Se(16599,{Rt:e.type});n={verify:P1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let c=s.transform;if(c instanceof Fh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Tl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Lh)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw Se(20930,{transform:s.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Ute(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se(27497)}(t,e.precondition)),n}function zte(t,e){return t&&t.length>0?(Rt(e!==void 0,14353),t.map(n=>function(r,o){let s=r.updateTime?hs(r.updateTime):hs(o);return s.isEqual(je.min())&&(s=hs(o)),new I1(s,r.transformResults||[])}(n,e))):[]}function $te(t,e){return{documents:[hj(t,e.path)]}}function qte(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=hj(t,r);let o=function(d){if(d.length!==0)return mj(Mo.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:Th(y.field),direction:Kte(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=M1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:n,parent:r}}function Gte(t){let e=Bte(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Rt(i===1,65062);let f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){let y=pj(m);return y instanceof Mo&&G4(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(y=>function(C){return new bl(Ch(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(m){let y;return y=typeof m=="object"?m.value:m,aw(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(m){let y=!!m.before,_=m.values||[];return new Oh(_,y)}(n.startAt));let d=null;return n.endAt&&(d=function(m){let y=!m.before,_=m.values||[];return new Oh(_,y)}(n.endAt)),_te(e,r,s,o,c,"F",u,d)}function Wte(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Ch(n.unaryFilter.field);return xn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ch(n.unaryFilter.field);return xn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ch(n.unaryFilter.field);return xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ch(n.unaryFilter.field);return xn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return xn.create(Ch(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mo.create(n.compositeFilter.filters.map(i=>pj(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function Kte(t){return Fte[t]}function Qte(t){return Lte[t]}function Yte(t){return Vte[t]}function Th(t){return{fieldPath:t.canonicalString()}}function Ch(t){return vr.fromServerFormat(t.fieldPath)}function mj(t){return t instanceof xn?function(n){if(n.op==="=="){if(UB(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NAN"}};if(VB(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UB(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NOT_NAN"}};if(VB(n.value))return{unaryFilter:{field:Th(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(n.field),op:Qte(n.op),value:n.value}}}(t):t instanceof Mo?function(n){let i=n.getFilters().map(r=>mj(r));return i.length===1?i[0]:{compositeFilter:{op:Yte(n.op),filters:i}}}(t):Se(54877,{filter:t})}function Zte(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var xg=class t{constructor(e,n,i,r,o=je.min(),s=je.min(),c=vi.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var k1=class{constructor(e){this.gt=e}};function Xte(t){let e=Gte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w1(e,e.limit,"L"):e}var VE=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(cn(e.integerValue));else if("doubleValue"in e){let i=cn(e.doubleValue);isNaN(i)?this.Ct(n,13):(this.Ct(n,15),Cg(i)?n.Ft(0):n.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(n,20),typeof i=="string"&&(i=fa(i)),n.Mt(`${i.seconds||""}`),n.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(pa(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(n,45),n.Ft(i.latitude||0),n.Ft(i.longitude||0)}else"mapValue"in e?z4(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):H4(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Se(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let i=e.fields||{};this.Ct(n,55);for(let r of Object.keys(i))this.xt(r,n),this.Dt(i[r],n)}Lt(e,n){var i,r;let o=e.fields||{};this.Ct(n,53);let s=Mh,c=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Ct(n,15),n.Ft(cn(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let i=e.values||[];this.Ct(n,50);for(let r of i)this.Dt(r,n)}Bt(e,n){this.Ct(n,37),we.fromName(e).path.forEach(i=>{this.Ct(n,60),this.$t(i,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};VE.Ut=new VE;var F1=class{constructor(){this.Dn=new L1}addToCollectionParentIndex(e,n){return this.Dn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Il.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Il.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}},L1=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Qn(un.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qn(un.comparator)).toArray()}};var xRe=new Uint8Array(0);var JB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yj=41943040,Vr=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}};Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(yj,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);var Rg=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var e4="LruGarbageCollector",Jte=1048576;function t4([t,e],[n,i]){let r=Ze(t,n);return r===0?Ze(e,i):r}var V1=class{constructor(e){this.Tr=e,this.buffer=new Qn(t4),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();t4(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},U1=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){se(e4,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>x(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){$h(n)?se(e4,"Ignoring IndexedDB error during garbage collection: ",n):yield zh(n)}yield this.Rr(3e5)}))}},B1=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return G.resolve(VR.ue);let i=new V1(n);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(JB)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JB):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let i,r,o,s,c,u,d,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,c=Date.now(),this.removeTargets(e,i,n))).next(m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(d=Date.now(),Ih()<=tt.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${r} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:m})))}};function ene(t,e){return new B1(t,e)}var j1=class{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ro.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var H1=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var z1=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ig(i.mutation,r,Ur.empty(),Mn.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,it()).next(()=>i))}getLocalViewOfDocuments(e,n,i=it()){let r=yl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=vg();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=yl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,it()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,i,r){let o=ga(),s=wg(),c=function(){return wg()}();return n.forEach((u,d)=>{let f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof ps)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),Ig(f.mutation,d,f.mutation.getFieldMask(),Mn.now())):s.set(d.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,f)=>s.set(d,f)),n.forEach((d,f)=>{var m;return c.set(d,new H1(f,(m=s.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){let i=wg(),r=new vn((s,c)=>s-c),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=i.get(u)||Ur.empty();f=c.applyToLocalView(d,f),i.set(u,f);let m=(r.get(c.batchId)||it()).add(u);r=r.insert(c.batchId,m)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,m=tj();f.forEach(y=>{if(!o.has(y)){let _=aj(n.get(y),i.get(y));_!==null&&m.set(y,_),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return G.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):G.resolve(yl()),c=Tg,u=o;return s.next(d=>G.forEach(d,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(f)?G.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,it())).next(f=>({batchId:c,changes:ej(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(i=>{let r=vg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=vg();return this.indexManager.getCollectionParents(e,o).next(c=>G.forEach(c,u=>{let d=function(m,y){return new xc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(f=>{f.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((u,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,Ro.newInvalidDocument(f)))});let c=vg();return s.forEach((u,d)=>{let f=o.get(u);f!==void 0&&Ig(f.mutation,d,Ur.empty(),Mn.now()),dw(n,d)&&(c=c.insert(u,d))}),c})}};var $1=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return G.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(r){return{id:r.id,version:r.version,createTime:hs(r.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(r){return{name:r.name,query:Xte(r.bundledQuery),readTime:hs(r.readTime)}}(n)),G.resolve()}};var q1=class{constructor(){this.overlays=new vn(we.comparator),this.kr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){let i=yl();return G.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.wt(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){let r=yl(),o=n.length+1,s=new we(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>i&&r.set(u.getKey(),u)}return G.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new vn((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=o.get(d.largestBatchId);f===null&&(f=yl(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=yl(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return G.resolve(c)}wt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new D1(n,i));let o=this.kr.get(n);o===void 0&&(o=it(),this.kr.set(n,o)),this.kr.set(n,o.add(i.key))}};var G1=class{constructor(){this.sessionToken=vi.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}};var Mg=class{constructor(){this.qr=new Qn(An.Qr),this.$r=new Qn(An.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let i=new An(e,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new An(e,n))}Gr(e,n){e.forEach(i=>this.removeReference(i,n))}zr(e){let n=new we(new un([])),i=new An(n,e),r=new An(n,e+1),o=[];return this.$r.forEachInRange([i,r],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new we(new un([])),i=new An(n,e),r=new An(n,e+1),o=it();return this.$r.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new An(e,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},An=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return we.comparator(e.key,n.key)||Ze(e.Hr,n.Hr)}static Ur(e,n){return Ze(e.Hr,n.Hr)||we.comparator(e.key,n.key)}};var W1=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Qn(An.Qr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new T1(o,n,i,r);this.mutationQueue.push(s);for(let c of r)this.Yr=this.Yr.add(new An(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,n){return G.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Xr(i),o=r<0?0:r;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?UR:this.er-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new An(n,0),r=new An(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],s=>{let c=this.Zr(s.Hr);o.push(c)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qn(Ze);return n.forEach(r=>{let o=new An(r,0),s=new An(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{i=i.add(c.Hr)})}),G.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;we.isDocumentKey(o)||(o=o.child(""));let s=new An(new we(o),0),c=new Qn(Ze);return this.Yr.forEachWhile(u=>{let d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(u.Hr)),!0)},s),G.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(i=>{let r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Rt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return G.forEach(n.mutations,r=>{let o=new An(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,n){let i=new An(n,0),r=this.Yr.firstAfterOrEqual(i);return G.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var K1=class{constructor(e){this.ni=e,this.docs=function(){return new vn(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():Ro.newInvalidDocument(n))}getEntries(e,n){let i=ga();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ro.newInvalidDocument(r))}),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ga(),s=n.path,c=new we(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||ete(Jee(f),i)<=0||(r.has(f.key)||dw(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Se(9500)}ri(e,n){return G.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Q1(this)}getSize(e){return G.resolve(this.size)}},Q1=class extends j1{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),G.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Y1=class{constructor(e){this.persistence=e,this.ii=new ma(n=>$R(n),qR),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.si=0,this.oi=new Mg,this.targetCount=0,this._i=Rg.ar()}forEachTarget(e,n){return this.ii.forEach((i,r)=>n(r)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),G.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Rg(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.hr(n),G.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),G.waitFor(o).next(()=>r)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){let i=this.ii.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this.oi.Kr(n,i),G.resolve()}removeMatchingKeys(e,n,i){this.oi.Gr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),G.resolve()}getMatchingKeysForTargetId(e,n){let i=this.oi.Jr(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this.oi.containsKey(n))}};var UE=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new VR(0),this.ci=!1,this.ci=!0,this.li=new G1,this.referenceDelegate=e(this),this.hi=new Y1(this),this.indexManager=new F1,this.remoteDocumentCache=function(r){return new K1(r)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new k1(n),this.Ti=new $1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ai[e.toKey()];return i||(i=new W1(n,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,i){se("MemoryPersistence","Starting transaction:",e);let r=new Z1(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(e,n){return G.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,n)))}},Z1=class extends s1{constructor(e){super(),this.currentSequenceNumber=e}},X1=class t{constructor(e){this.persistence=e,this.Ai=new Mg,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Se(60996)}addReference(e,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(r=>this.mi.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.mi,i=>{let r=we.fromPath(i);return this.fi(e,r).next(o=>{o||n.removeEntry(r,je.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return G.or([()=>G.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},BE=class t{constructor(e,n){this.persistence=e,this.gi=new ma(i=>rte(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=ene(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}yr(e){let n=0;return this.gr(e,i=>{n++}).next(()=>n)}gr(e,n){return G.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(o=>o?G.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(i++,o.removeEntry(s,je.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,n,i){return this.gi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wE(e.data.value)),n}Sr(e,n,i){return G.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let r=this.gi.get(n);return G.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var J1=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Is=i,this.ds=r}static Es(e,n){let i=it(),r=it();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var eR=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tR=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return J2()?8:nte(Gn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new eR;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,i,r){return i.documentReadCount<this.Vs?(Ih()<=tt.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",bh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),G.resolve()):(Ih()<=tt.DEBUG&&se("QueryEngine","Query:",bh(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(Ih()<=tt.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",bh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):G.resolve())}ps(e,n){if(zB(n))return G.resolve(null);let i=ds(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=w1(n,null,"F"),i=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=it(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,i).next(u=>{let d=this.bs(n,c);return this.Ds(n,d,s,u.readTime)?this.ps(e,w1(n,null,"F")):this.vs(e,d,n,u)}))})))}ys(e,n,i,r){return zB(n)||r.isEqual(je.min())?G.resolve(null):this.gs.getDocuments(e,i).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,i,r)?G.resolve(null):(Ih()<=tt.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bh(n)),this.vs(e,s,n,Xee(r,Tg)).next(c=>c))})}bs(e,n){let i=new Qn(X4(e));return n.forEach((r,o)=>{dw(e,o)&&(i=i.add(o))}),i}Ds(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(e,n,i){return Ih()<=tt.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",bh(n)),this.gs.getDocumentsMatchingQuery(e,n,Il.min(),i)}vs(e,n,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var KR="LocalStore",tne=3e8,nR=class{constructor(e,n,i,r){this.persistence=e,this.Cs=n,this.serializer=r,this.Fs=new vn(Ze),this.Ms=new ma(o=>$R(o),qR),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z1(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function nne(t,e,n,i){return new nR(t,e,n,i)}function vj(t,e){return x(this,null,function*(){let n=Ve(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],c=[],u=it();for(let d of r){s.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(d=>({Bs:d,removedBatchIds:s,addedBatchIds:c}))})})})}function ine(t,e){let n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let m=d.batch,y=m.keys(),_=G.resolve();return y.forEach(C=>{_=_.next(()=>f.getEntry(u,C)).next(R=>{let N=d.docVersions.get(C);Rt(N!==null,48541),R.version.compareTo(N)<0&&(m.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),f.addEntry(R)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=it();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function _j(t){let e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function rne(t,e){let n=Ve(t),i=e.snapshotVersion,r=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});r=n.Fs;let c=[];e.targetChanges.forEach((f,m)=>{let y=r.get(m);if(!y)return;c.push(n.hi.removeMatchingKeys(o,f.removedDocuments,m).next(()=>n.hi.addMatchingKeys(o,f.addedDocuments,m)));let _=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(vi.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,i)),r=r.insert(m,_),function(R,N,k){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=tne?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(y,_,f)&&c.push(n.hi.updateTargetData(o,_))});let u=ga(),d=it();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(one(o,s,e.documentUpdates).next(f=>{u=f.Ls,d=f.ks})),!i.isEqual(je.min())){let f=n.hi.getLastRemoteSnapshotVersion(o).next(m=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(f)}return G.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.Fs=r,o))}function one(t,e,n){let i=it(),r=it();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=ga();return n.forEach((c,u)=>{let d=o.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(je.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):se(KR,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Ls:s,ks:r}})}function sne(t,e){let n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=UR),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ane(t,e){let n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.hi.getTargetData(i,e).next(o=>o?(r=o,G.resolve(r)):n.hi.allocateTargetId(i).next(s=>(r=new xg(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(e,i.targetId)),i})}function iR(t,e,n){return x(this,null,function*(){let i=Ve(t),r=i.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!$h(s))throw s;se(KR,`Failed to update sequence numbers for target ${e}: ${s}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)})}function n4(t,e,n){let i=Ve(t),r=je.min(),o=it();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,f){let m=Ve(u),y=m.Ms.get(f);return y!==void 0?G.resolve(m.Fs.get(y)):m.hi.getTargetData(d,f)}(i,s,ds(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(s,e,n?r:je.min(),n?o:it())).next(c=>(cne(i,wte(e),c),{documents:c,qs:o})))}function cne(t,e,n){let i=t.xs.get(e)||je.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.xs.set(e,i)}var jE=class{constructor(){this.activeTargetIds=Ste()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rR=class{constructor(){this.Fo=new jE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,i){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new jE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var oR=class{xo(e){}shutdown(){}};var i4="ConnectivityMonitor",HE=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){se(i4,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){se(i4,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var EE=null;function sR(){return EE===null?EE=function(){return 268435456+Math.round(2147483648*Math.random())}():EE++,"0x"+EE.toString(16)}var Qx="RestConnection",une={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},aR=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===xE?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,n,i,r,o){let s=sR(),c=this.Go(e,n.toUriEncodedString());se(Qx,`Sending RPC '${e}' ${s}:`,c,i);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,r,o);let{host:d}=new URL(c),f=pc(d);return this.jo(e,c,u,i,f).then(m=>(se(Qx,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Sc(Qx,`RPC '${e}' ${s} failed with error: `,m,"url: ",c,"request:",i),m})}Jo(e,n,i,r,o,s){return this.Wo(e,n,i,r,o)}zo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}Go(e,n){let i=une[e];return`${this.$o}/v1/${n}:${i}`}terminate(){}};var cR=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var yi="WebChannelConnection",uR=class extends aR{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,i,r,o){let s=sR();return new Promise((c,u)=>{let d=new zx;d.setWithCredentials(!0),d.listenOnce($x.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case yg.NO_ERROR:let m=d.getResponseJson();se(yi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),c(m);break;case yg.TIMEOUT:se(yi,`RPC '${e}' ${s} timed out`),u(new ie(B.DEADLINE_EXCEEDED,"Request time out"));break;case yg.HTTP_ERROR:let y=d.getStatus();if(se(yi,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);let C=_?.error;if(C&&C.status&&C.message){let R=function(k){let $=k.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf($)>=0?$:B.UNKNOWN}(C.status);u(new ie(R,C.message))}else u(new ie(B.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ie(B.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{se(yi,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(r);se(yi,`RPC '${e}' ${s} sending request:`,r),d.send(n,"POST",f,i,15)})}P_(e,n,i){let r=sR(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Wx(),c=Gx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;let f=o.join("");se(yi,`Creating RPC '${e}' stream ${r}: ${f}`,u);let m=s.createWebChannel(f,u);this.T_(m);let y=!1,_=!1,C=new cR({Ho:N=>{_?se(yi,`Not sending because RPC '${e}' stream ${r} is closed:`,N):(y||(se(yi,`Opening RPC '${e}' stream ${r} transport.`),m.open(),y=!0),se(yi,`RPC '${e}' stream ${r} sending:`,N),m.send(N))},Yo:()=>m.close()}),R=(N,k,$)=>{N.listen(k,K=>{try{$(K)}catch(he){setTimeout(()=>{throw he},0)}})};return R(m,wh.EventType.OPEN,()=>{_||(se(yi,`RPC '${e}' stream ${r} transport opened.`),C.s_())}),R(m,wh.EventType.CLOSE,()=>{_||(_=!0,se(yi,`RPC '${e}' stream ${r} transport closed`),C.__(),this.I_(m))}),R(m,wh.EventType.ERROR,N=>{_||(_=!0,Sc(yi,`RPC '${e}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),C.__(new ie(B.UNAVAILABLE,"The operation could not be completed")))}),R(m,wh.EventType.MESSAGE,N=>{var k;if(!_){let $=N.data[0];Rt(!!$,16349);let K=$,he=K?.error||((k=K[0])===null||k===void 0?void 0:k.error);if(he){se(yi,`RPC '${e}' stream ${r} received error:`,he);let Ke=he.status,fe=function(E){let I=Sn[E];if(I!==void 0)return uj(I)}(Ke),b=he.message;fe===void 0&&(fe=B.INTERNAL,b="Unknown error status: "+Ke+" with message "+he.message),_=!0,C.__(new ie(fe,b)),m.close()}else se(yi,`RPC '${e}' stream ${r} received:`,$),C.a_($)}}),R(c,qx.STAT_EVENT,N=>{N.stat===yE.PROXY?se(yi,`RPC '${e}' stream ${r} detected buffering proxy`):N.stat===yE.NOPROXY&&se(yi,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Yx(){return typeof document<"u"?document:null}function hw(t){return new R1(t,!0)}var zE=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,n-i);r>0&&se("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var r4="PersistentStream",$E=class{constructor(e,n,i,r,o,s,c,u){this.Fi=e,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zE(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return x(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return x(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return x(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ha(n.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===n&&this.W_(i,r)},i=>{e(()=>{let r=new ie(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,n){let i=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(()=>x(this,null,function*(){this.state=0,this.start()}))}G_(e){return se(r4,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(se(r4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lR=class extends $E{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=jte(this.serializer,e),i=function(o){if(!("targetChange"in o))return je.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?je.min():s.readTime?hs(s.readTime):je.min()}(e);return this.listener.J_(n,i)}H_(e){let n={};n.database=O1(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=_1(u)?{documents:$te(o,u)}:{query:qte(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=lj(o,s.resumeToken);let d=M1(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(je.min())>0){c.readTime=LE(o,s.snapshotVersion.toTimestamp());let d=M1(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let i=Wte(this.serializer,e);i&&(n.labels=i),this.k_(n)}Y_(e){let n={};n.database=O1(this.serializer),n.removeTarget=e,this.k_(n)}},dR=class extends $E{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=zte(e.writeResults,e.commitTime),i=hs(e.commitTime);return this.listener.ta(i,n)}na(){let e={};e.database=O1(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Hte(this.serializer,i))};this.k_(n)}};var hR=class{},fR=class extends hR{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,N1(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(B.UNKNOWN,o.toString())})}Jo(e,n,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,N1(n,i),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(B.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},pR=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ha(n),this._a=!1):se("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Sl="RemoteStore",mR=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{i.enqueueAndForget(()=>x(this,null,function*(){xl(this)&&(se(Sl,"Restarting streams for network reachability change."),yield function(u){return x(this,null,function*(){let d=Ve(u);d.Ia.add(4),yield kg(d),d.Aa.set("Unknown"),d.Ia.delete(4),yield fw(d)})}(this))}))}),this.Aa=new pR(i,r)}};function fw(t){return x(this,null,function*(){if(xl(t))for(let e of t.da)yield e(!0)})}function kg(t){return x(this,null,function*(){for(let e of t.da)yield e(!1)})}function Ej(t,e){let n=Ve(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),XR(n)?ZR(n):qh(n).x_()&&YR(n,e))}function QR(t,e){let n=Ve(t),i=qh(n);n.Ta.delete(e),i.x_()&&wj(n,e),n.Ta.size===0&&(i.x_()?i.B_():xl(n)&&n.Aa.set("Unknown"))}function YR(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qh(t).H_(e)}function wj(t,e){t.Ra.$e(e),qh(t).Y_(e)}function ZR(t){t.Ra=new x1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),qh(t).start(),t.Aa.aa()}function XR(t){return xl(t)&&!qh(t).M_()&&t.Ta.size>0}function xl(t){return Ve(t).Ia.size===0}function Ij(t){t.Ra=void 0}function lne(t){return x(this,null,function*(){t.Aa.set("Online")})}function dne(t){return x(this,null,function*(){t.Ta.forEach((e,n)=>{YR(t,e)})})}function hne(t,e){return x(this,null,function*(){Ij(t),XR(t)?(t.Aa.la(e),ZR(t)):t.Aa.set("Unknown")})}function fne(t,e,n){return x(this,null,function*(){if(t.Aa.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{yield function(r,o){return x(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.Ta.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.Ta.delete(c),r.Ra.removeTarget(c))})}(t,e)}catch(i){se(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield qE(t,i)}else if(e instanceof Sh?t.Ra.Ye(e):e instanceof OE?t.Ra.it(e):t.Ra.et(e),!n.isEqual(je.min()))try{let i=yield _j(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(d);f&&o.Ta.set(d,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,d)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(vi.EMPTY_BYTE_STRING,f.snapshotVersion)),wj(o,u);let m=new xg(f.target,u,d,f.sequenceNumber);YR(o,m)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(i){se(Sl,"Failed to raise snapshot:",i),yield qE(t,i)}})}function qE(t,e,n){return x(this,null,function*(){if(!$h(e))throw e;t.Ia.add(1),yield kg(t),t.Aa.set("Offline"),n||(n=()=>_j(t.localStore)),t.asyncQueue.enqueueRetryable(()=>x(null,null,function*(){se(Sl,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield fw(t)}))})}function bj(t,e){return e().catch(n=>qE(t,n,e))}function pw(t){return x(this,null,function*(){let e=Ve(t),n=Rc(e),i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:UR;for(;pne(e);)try{let r=yield sne(e.localStore,i);if(r===null){e.Pa.length===0&&n.B_();break}i=r.batchId,mne(e,r)}catch(r){yield qE(e,r)}Tj(e)&&Cj(e)})}function pne(t){return xl(t)&&t.Pa.length<10}function mne(t,e){t.Pa.push(e);let n=Rc(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Tj(t){return xl(t)&&!Rc(t).M_()&&t.Pa.length>0}function Cj(t){Rc(t).start()}function gne(t){return x(this,null,function*(){Rc(t).na()})}function yne(t){return x(this,null,function*(){let e=Rc(t);for(let n of t.Pa)e.X_(n.mutations)})}function vne(t,e,n){return x(this,null,function*(){let i=t.Pa.shift(),r=C1.from(i,e,n);yield bj(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield pw(t)})}function _ne(t,e){return x(this,null,function*(){e&&Rc(t).Z_&&(yield function(i,r){return x(this,null,function*(){if(function(s){return Ote(s)&&s!==B.ABORTED}(r.code)){let o=i.Pa.shift();Rc(i).N_(),yield bj(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield pw(i)}})}(t,e)),Tj(t)&&Cj(t)})}function o4(t,e){return x(this,null,function*(){let n=Ve(t);n.asyncQueue.verifyOperationInProgress(),se(Sl,"RemoteStore received new credentials");let i=xl(n);n.Ia.add(3),yield kg(n),i&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield fw(n)})}function Ene(t,e){return x(this,null,function*(){let n=Ve(t);e?(n.Ia.delete(2),yield fw(n)):e||(n.Ia.add(2),yield kg(n),n.Aa.set("Unknown"))})}function qh(t){return t.Va||(t.Va=function(n,i,r){let o=Ve(n);return o.ia(),new lR(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Zo:lne.bind(null,t),e_:dne.bind(null,t),n_:hne.bind(null,t),J_:fne.bind(null,t)}),t.da.push(e=>x(null,null,function*(){e?(t.Va.N_(),XR(t)?ZR(t):t.Aa.set("Unknown")):(yield t.Va.stop(),Ij(t))}))),t.Va}function Rc(t){return t.ma||(t.ma=function(n,i,r){let o=Ve(n);return o.ia(),new dR(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:gne.bind(null,t),n_:_ne.bind(null,t),ea:yne.bind(null,t),ta:vne.bind(null,t)}),t.da.push(e=>x(null,null,function*(){e?(t.ma.N_(),yield pw(t)):(yield t.ma.stop(),t.Pa.length>0&&(se(Sl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var gR=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,c=new t(e,n,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function JR(t,e){if(ha("AsyncQueue",`${e}: ${t}`),$h(t))return new ie(B.UNAVAILABLE,`${e}: ${t}`);throw t}var GE=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||we.comparator(n.key,i.key):(n,i)=>we.comparator(n.key,i.key),this.keyedMap=vg(),this.sortedSet=new vn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var WE=class{constructor(){this.fa=new vn(we.comparator)}track(e){let n=e.doc.key,i=this.fa.get(n);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(n,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(n):e.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Se(63341,{At:e,ga:i}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,i)=>{e.push(i)}),e}},Uh=class t{constructor(e,n,i,r,o,s,c,u,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,GE.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var yR=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},vR=class{constructor(){this.queries=s4(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){let r=Ve(n),o=r.queries;r.queries=s4(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(i)})})(this,new ie(B.ABORTED,"Firestore shutting down"))}};function s4(){return new ma(t=>Z4(t),lw)}function Dj(t,e){return x(this,null,function*(){let n=Ve(t),i=3,r=e.query,o=n.queries.get(r);o?!o.Sa()&&e.ba()&&(i=2):(o=new yR,i=e.ba()?0:1);try{switch(i){case 0:o.ya=yield n.onListen(r,!0);break;case 1:o.ya=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let c=JR(s,`Initialization of query '${bh(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&eM(n)})}function Sj(t,e){return x(this,null,function*(){let n=Ve(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?r=e.ba()?0:1:!o.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function wne(t,e){let n=Ve(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(r)&&(i=!0);s.ya=r}}i&&eM(n)}function Ine(t,e,n){let i=Ve(t),r=i.queries.get(e);if(r)for(let o of r.wa)o.onError(n);i.queries.delete(e)}function eM(t){t.Da.forEach(e=>{e.next()})}var _R,a4;(a4=_R||(_R={})).Fa="default",a4.Cache="cache";var KE=class{constructor(e,n,i){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Uh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let i=n!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_R.Cache}};var QE=class{constructor(e){this.key=e}},YE=class{constructor(e){this.key=e}},ER=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=it(),this.mutatedKeys=it(),this.Xa=X4(e),this.eu=new GE(this.Xa)}get tu(){return this.Ha}nu(e,n){let i=n?n.ru:new WE,r=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=r,c=!1,u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{let y=r.get(f),_=dw(this.query,m)?m:null,C=!!y&&this.mutatedKeys.has(y.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),N=!1;y&&_?y.data.isEqual(_.data)?C!==R&&(i.track({type:3,doc:_}),N=!0):this.iu(y,_)||(i.track({type:2,doc:_}),N=!0,(u&&this.Xa(_,u)>0||d&&this.Xa(_,d)<0)&&(c=!0)):!y&&_?(i.track({type:0,doc:_}),N=!0):y&&!_&&(i.track({type:1,doc:y}),N=!0,(u||d)&&(c=!0)),N&&(_?(s=s.add(_),o=R?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{eu:s,ru:i,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,m)=>function(_,C){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{At:N})}};return R(_)-R(C)}(f.type,m.type)||this.Xa(f.doc,m.doc)),this.su(i),r=r!=null&&r;let c=n&&!r?this.ou():[],u=this.Za.size===0&&this.current&&!r?1:0,d=u!==this.Ya;return this.Ya=u,s.length!==0||d?{snapshot:new Uh(this.query,e.eu,o,s,e.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new WE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=it(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});let n=[];return e.forEach(i=>{this.Za.has(i)||n.push(new YE(i))}),this.Za.forEach(i=>{e.has(i)||n.push(new QE(i))}),n}uu(e){this.Ha=e.qs,this.Za=it();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Uh.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},tM="SyncEngine",wR=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},IR=class{constructor(e){this.key=e,this.lu=!1}},bR=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ma(c=>Z4(c),lw),this.Tu=new Map,this.Iu=new Set,this.du=new vn(we.comparator),this.Eu=new Map,this.Au=new Mg,this.Ru={},this.Vu=new Map,this.mu=Rg.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function bne(t,e,n=!0){return x(this,null,function*(){let i=Pj(t),r,o=i.Pu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=yield Aj(i,e,n,!0),r})}function Tne(t,e){return x(this,null,function*(){let n=Pj(t);yield Aj(n,e,!0,!1)})}function Aj(t,e,n,i){return x(this,null,function*(){let r=yield ane(t.localStore,ds(e)),o=r.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return i&&(c=yield Cne(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&Ej(t.remoteStore,r),c})}function Cne(t,e,n,i,r){return x(this,null,function*(){t.gu=(m,y,_)=>function(R,N,k,$){return x(this,null,function*(){let K=N.view.nu(k);K.Ds&&(K=yield n4(R.localStore,N.query,!1).then(({documents:b})=>N.view.nu(b,K)));let he=$&&$.targetChanges.get(N.targetId),Ke=$&&$.targetMismatches.get(N.targetId)!=null,fe=N.view.applyChanges(K,R.isPrimaryClient,he,Ke);return u4(R,N.targetId,fe._u),fe.snapshot})}(t,m,y,_);let o=yield n4(t.localStore,e,!0),s=new ER(e,o.qs),c=s.nu(o.documents),u=Ag.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),d=s.applyChanges(c,t.isPrimaryClient,u);u4(t,n,d._u);let f=new wR(e,n,s);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot})}function Dne(t,e,n){return x(this,null,function*(){let i=Ve(t),r=i.Pu.get(e),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(s=>!lw(s,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield iR(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&QR(i.remoteStore,r.targetId),TR(i,r.targetId)}).catch(zh))):(TR(i,r.targetId),yield iR(i.localStore,r.targetId,!0))})}function Sne(t,e){return x(this,null,function*(){let n=Ve(t),i=n.Pu.get(e),r=n.Tu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),QR(n.remoteStore,i.targetId))})}function Ane(t,e,n){return x(this,null,function*(){let i=kne(t);try{let r=yield function(s,c){let u=Ve(s),d=Mn.now(),f=c.reduce((_,C)=>_.add(C.key),it()),m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=ga(),R=it();return u.Os.getEntries(_,f).next(N=>{C=N,C.forEach((k,$)=>{$.isValidDocument()||(R=R.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(N=>{m=N;let k=[];for(let $ of c){let K=Pte($,m.get($.key).overlayedDocument);K!=null&&k.push(new ps($.key,K,$4(K.value.mapValue),Ic.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,k,c)}).next(N=>{y=N;let k=N.applyToLocalDocumentSet(m,R);return u.documentOverlayCache.saveOverlays(_,N.batchId,k)})}).then(()=>({batchId:y.batchId,changes:ej(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,u){let d=s.Ru[s.currentUser.toKey()];d||(d=new vn(Ze)),d=d.insert(c,u),s.Ru[s.currentUser.toKey()]=d}(i,r.batchId,n),yield Fg(i,r.changes),yield pw(i.remoteStore)}catch(r){let o=JR(r,"Failed to persist write");n.reject(o)}})}function xj(t,e){return x(this,null,function*(){let n=Ve(t);try{let i=yield rne(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Eu.get(o);s&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.lu=!0:r.modifiedDocuments.size>0?Rt(s.lu,14607):r.removedDocuments.size>0&&(Rt(s.lu,42227),s.lu=!1))}),yield Fg(n,i,e)}catch(i){yield zh(i)}})}function c4(t,e,n){let i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&r.push(c.snapshot)}),function(s,c){let u=Ve(s);u.onlineState=c;let d=!1;u.queries.forEach((f,m)=>{for(let y of m.wa)y.va(c)&&(d=!0)}),d&&eM(u)}(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function xne(t,e,n){return x(this,null,function*(){let i=Ve(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Eu.get(e),o=r&&r.key;if(o){let s=new vn(we.comparator);s=s.insert(o,Ro.newNoDocument(o,je.min()));let c=it().add(o),u=new PE(je.min(),new Map,new vn(Ze),s,c);yield xj(i,u),i.du=i.du.remove(o),i.Eu.delete(e),nM(i)}else yield iR(i.localStore,e,!1).then(()=>TR(i,e,n)).catch(zh)})}function Rne(t,e){return x(this,null,function*(){let n=Ve(t),i=e.batch.batchId;try{let r=yield ine(n.localStore,e);Mj(n,i,null),Rj(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Fg(n,r)}catch(r){yield zh(r)}})}function Mne(t,e,n){return x(this,null,function*(){let i=Ve(t);try{let r=yield function(s,c){let u=Ve(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(m=>(Rt(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,e);Mj(i,e,n),Rj(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Fg(i,r)}catch(r){yield zh(r)}})}function Rj(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Mj(t,e,n){let i=Ve(t),r=i.Ru[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function TR(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Tu.get(e))t.Pu.delete(i),n&&t.hu.pu(i,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(i=>{t.Au.containsKey(i)||Nj(t,i)})}function Nj(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(QR(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),nM(t))}function u4(t,e,n){for(let i of n)i instanceof QE?(t.Au.addReference(i.key,e),Nne(t,i)):i instanceof YE?(se(tM,"Document no longer in limbo: "+i.key),t.Au.removeReference(i.key,e),t.Au.containsKey(i.key)||Nj(t,i.key)):Se(19791,{yu:i})}function Nne(t,e){let n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Iu.has(i)||(se(tM,"New document in limbo: "+n),t.Iu.add(i),nM(t))}function nM(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new we(un.fromString(e)),i=t.mu.next();t.Eu.set(i,new IR(n)),t.du=t.du.insert(n,i),Ej(t.remoteStore,new xg(ds(uw(n.path)),i,"TargetPurposeLimboResolution",VR.ue))}}function Fg(t,e,n){return x(this,null,function*(){let i=Ve(t),r=[],o=[],s=[];i.Pu.isEmpty()||(i.Pu.forEach((c,u)=>{s.push(i.gu(u,e,n).then(d=>{var f;if((d||n)&&i.isPrimaryClient){let m=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){r.push(d);let m=J1.Es(u.targetId,d);o.push(m)}}))}),yield Promise.all(s),i.hu.J_(r),yield function(u,d){return x(this,null,function*(){let f=Ve(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>G.forEach(d,y=>G.forEach(y.Is,_=>f.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>G.forEach(y.ds,_=>f.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!$h(m))throw m;se(KR,"Failed to update sequence numbers: "+m)}for(let m of d){let y=m.targetId;if(!m.fromCache){let _=f.Fs.get(y),C=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(C);f.Fs=f.Fs.insert(y,R)}}})}(i.localStore,o))})}function Pne(t,e){return x(this,null,function*(){let n=Ve(t);if(!n.currentUser.isEqual(e)){se(tM,"User change. New user:",e.toKey());let i=yield vj(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new ie(B.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Fg(n,i.Bs)}})}function One(t,e){let n=Ve(t),i=n.Eu.get(e);if(i&&i.lu)return it().add(i.key);{let r=it(),o=n.Tu.get(e);if(!o)return r;for(let s of o){let c=n.Pu.get(s);r=r.unionWith(c.view.tu)}return r}}function Pj(t){let e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=One.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xne.bind(null,e),e.hu.J_=wne.bind(null,e.eventManager),e.hu.pu=Ine.bind(null,e.eventManager),e}function kne(t){let e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mne.bind(null,e),e}var Oj=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return x(this,null,function*(){this.serializer=hw(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,i){return null}Fu(n,i){return null}vu(n){return nne(this.persistence,new tR,n.initialUser,this.serializer)}Du(n){return new UE(X1.Vi,this.serializer)}bu(n){return new rR}terminate(){return x(this,null,function*(){var n,i;(n=this.gcScheduler)===null||n===void 0||n.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),CR=class extends Oj{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Rt(this.persistence.referenceDelegate instanceof BE,46915);let i=this.persistence.referenceDelegate.garbageCollector;return new U1(i,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new UE(i=>BE.Vi(i,n),this.serializer)}};var Fne=(()=>{class t{initialize(n,i){return x(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>c4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pne.bind(null,this.syncEngine),yield Ene(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new vR}()}createDatastore(n){let i=hw(n.databaseInfo.databaseId),r=function(s){return new uR(s)}(n.databaseInfo);return function(s,c,u,d){return new fR(s,c,u,d)}(n.authCredentials,n.appCheckCredentials,r,i)}createRemoteStore(n){return function(r,o,s,c,u){return new mR(r,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,i=>c4(this.syncEngine,i,0),function(){return HE.C()?new HE:new oR}())}createSyncEngine(n,i){return function(o,s,c,u,d,f,m){let y=new bR(o,s,c,u,d,f);return m&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){return x(this,null,function*(){var n,i;yield function(o){return x(this,null,function*(){let s=Ve(o);se(Sl,"RemoteStore shutting down."),s.Ia.add(5),yield kg(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return t.provider={build:()=>new t},t})();var ZE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Mc="FirestoreClient",DR=class{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Kn.UNAUTHENTICATED,this.clientId=bg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,s=>x(this,null,function*(){se(Mc,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(se(Mc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>x(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=JR(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Zx(t,e){return x(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),se(Mc,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>x(null,null,function*(){i.isEqual(r)||(yield vj(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>{Sc("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{se("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Sc("Terminating Firestore due to IndexedDb database deletion failed",r)})}),t._offlineComponents=e})}function l4(t,e){return x(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Lne(t);se(Mc,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>o4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>o4(e.remoteStore,r)),t._onlineComponents=e})}function Lne(t){return x(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(Mc,"Using user provided OfflineComponentProvider");try{yield Zx(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(r){return r.name==="FirebaseError"?r.code===B.FAILED_PRECONDITION||r.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Sc("Error using user provided cache. Falling back to memory cache: "+n),yield Zx(t,new Oj)}}else se(Mc,"Using default OfflineComponentProvider"),yield Zx(t,new CR(void 0));return t._offlineComponents})}function kj(t){return x(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(Mc,"Using user provided OnlineComponentProvider"),yield l4(t,t._uninitializedComponentsProvider._online)):(se(Mc,"Using default OnlineComponentProvider"),yield l4(t,new Fne))),t._onlineComponents})}function Vne(t){return kj(t).then(e=>e.syncEngine)}function SR(t){return x(this,null,function*(){let e=yield kj(t),n=e.eventManager;return n.onListen=bne.bind(null,e.syncEngine),n.onUnlisten=Dne.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Tne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sne.bind(null,e.syncEngine),n})}function Une(t,e,n={}){let i=new us;return t.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return function(o,s,c,u,d){let f=new ZE({next:y=>{f.Ou(),s.enqueueAndForget(()=>Sj(o,m));let _=y.docs.has(c);!_&&y.fromCache?d.reject(new ie(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&u&&u.source==="server"?d.reject(new ie(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new KE(uw(c.path),f,{includeMetadataChanges:!0,ka:!0});return Dj(o,m)}(yield SR(t),t.asyncQueue,e,n,i)})),i.promise}function Fj(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var d4=new Map;var Lj="firestore.googleapis.com",h4=!0,XE=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lj,this.ssl=h4}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:h4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jte)throw new ie(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fj((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Bh=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xx;switch(i.type){case"firstParty":return new n1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return x(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=d4.get(n);i&&(se("ComponentProvider","Removing Datastore"),d4.delete(n),i.terminate())}(this),Promise.resolve()}};function Vj(t,e,n,i={}){var r;t=da(t,Bh);let o=pc(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(H0(`https://${u}`),z0("Firestore",!0)),s.host!==Lj&&s.host!==u&&Sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:i});if(!rs(d,c)&&(t._setSettings(d),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=Kn.MOCK_USER;else{f=W2(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ie(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kn(y)}t._authCredentials=new Jx(new TE(f,m))}}var Al=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yn=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Og(n,t._jsonSchema))return new t(e,i||null,new we(un.fromString(n.referencePath)))}};Yn._jsonSchemaVersion="firestore/documentReference/1.0",Yn._jsonSchema={type:Rn("string",Yn._jsonSchemaVersion),referencePath:Rn("string")};var bc=class t extends Al{constructor(e,n,i){super(e,n,uw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new we(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Uj(t,e,...n){if(t=bn(t),E4("collection","path",e),t instanceof Bh){let i=un.fromString(e,...n);return RB(i),new bc(t,null,i)}{if(!(t instanceof Yn||t instanceof bc))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(un.fromString(e,...n));return RB(i),new bc(t.firestore,null,i)}}function iM(t,e,...n){if(t=bn(t),arguments.length===1&&(e=bg.newId()),E4("doc","path",e),t instanceof Bh){let i=un.fromString(e,...n);return xB(i),new Yn(t,null,new we(i))}{if(!(t instanceof Yn||t instanceof bc))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(un.fromString(e,...n));return xB(i),new Yn(t.firestore,t instanceof bc?t.converter:null,new we(i))}}var f4="AsyncQueue",JE=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zE(this,"async_queue_retry"),this.oc=()=>{let i=Yx();i&&se(f4,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let n=Yx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Yx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new us;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return x(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$h(e))throw e;se(f4,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,ha("INTERNAL UNHANDLED ERROR: ",p4(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(e,n,i){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let r=gR.createAndSchedule(this,e,n,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&Se(47125,{hc:p4(this.tc)})}verifyOperationInProgress(){}Pc(){return x(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function p4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function m4(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Nc=class extends Bh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new JE,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return x(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,yield e}})}};function Bj(t,e){let n=typeof t=="object"?t:dl(),i=typeof t=="string"?t:e||xE,r=mh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=G2("firestore");o&&Vj(r,...o)}return r}function rM(t){if(t._terminated)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Bne(t),t._firestoreClient}function Bne(t){var e,n,i;let r=t._freezeSettings(),o=function(c,u,d,f){return new a1(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Fj(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new DR(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Tc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vi.fromBase64String(e))}catch(n){throw new ie(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Og(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Tc._jsonSchemaVersion="firestore/bytes/1.0",Tc._jsonSchema={type:Rn("string",Tc._jsonSchemaVersion),bytes:Rn("string")};var jh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ng=class{constructor(e){this._methodName=e}};var Cc=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Og(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Cc._jsonSchemaVersion="firestore/geoPoint/1.0",Cc._jsonSchema={type:Rn("string",Cc._jsonSchemaVersion),latitude:Rn("number"),longitude:Rn("number")};var Dc=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Og(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new ie(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Dc._jsonSchemaVersion="firestore/vectorValue/1.0",Dc._jsonSchema={type:Rn("string",Dc._jsonSchemaVersion),vectorValues:Rn("object")};var jne=/^__.*__$/,AR=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}},ew=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function jj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ec:t})}}var xR=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return nw(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(jj(this.Ec)&&jne.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},RR=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||hw(e)}Dc(e,n,i,r=!1){return new xR({Ec:e,methodName:n,bc:i,path:vr.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function oM(t){let e=t._freezeSettings(),n=hw(t._databaseId);return new RR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hne(t,e,n,i,r,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,r);sM("Data must be an object, but it was:",s,i);let c=Hj(i,s),u,d;if(o.merge)u=new Ur(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let m of o.mergeFields){let y=MR(e,m,n);if(!s.contains(y))throw new ie(B.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);$j(f,y)||f.push(y)}u=new Ur(f),d=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=s.fieldTransforms;return new AR(new yr(c),u,d)}var tw=class t extends Ng{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function zne(t,e,n,i){let r=t.Dc(1,e,n);sM("Data must be an object, but it was:",r,i);let o=[],s=yr.empty();Pc(i,(u,d)=>{let f=aM(e,u,n);d=bn(d);let m=r.gc(f);if(d instanceof tw)o.push(f);else{let y=Lg(d,m);y!=null&&(o.push(f),s.set(f,y))}});let c=new Ur(o);return new ew(s,c,r.fieldTransforms)}function $ne(t,e,n,i,r,o){let s=t.Dc(1,e,n),c=[MR(e,i,n)],u=[r];if(o.length%2!=0)throw new ie(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(MR(e,o[y])),u.push(o[y+1]);let d=[],f=yr.empty();for(let y=c.length-1;y>=0;--y)if(!$j(d,c[y])){let _=c[y],C=u[y];C=bn(C);let R=s.gc(_);if(C instanceof tw)d.push(_);else{let N=Lg(C,R);N!=null&&(d.push(_),f.set(_,N))}}let m=new Ur(d);return new ew(f,m,s.fieldTransforms)}function qne(t,e,n,i=!1){return Lg(n,t.Dc(i?4:3,e))}function Lg(t,e){if(zj(t=bn(t)))return sM("Unsupported field value:",e,t),Hj(t,e);if(t instanceof Ng)return function(i,r){if(!jj(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let c of i){let u=Lg(c,r.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ate(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Mn.fromDate(i);return{timestampValue:LE(r.serializer,o)}}if(i instanceof Mn){let o=new Mn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:LE(r.serializer,o)}}if(i instanceof Cc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Tc)return{bytesValue:lj(r.serializer,i._byteString)};if(i instanceof Yn){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:WR(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Dc)return function(s,c){return{mapValue:{fields:{[jR]:{stringValue:HR},[Mh]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw c.wc("VectorValues must only contain numeric values.");return GR(c.serializer,d)})}}}}}}(i,r);throw r.wc(`Unsupported field value: ${sw(i)}`)}(t,e)}function Hj(t,e){let n={};return F4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pc(t,(i,r)=>{let o=Lg(r,e.Vc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function zj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mn||t instanceof Cc||t instanceof Tc||t instanceof Yn||t instanceof Ng||t instanceof Dc)}function sM(t,e,n){if(!zj(n)||!w4(n)){let i=sw(n);throw i==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+i)}}function MR(t,e,n){if((e=bn(e))instanceof jh)return e._internalPath;if(typeof e=="string")return aM(t,e);throw nw("Field path arguments must be of type string or ",t,!1,void 0,n)}var Gne=new RegExp("[~\\*/\\[\\]]");function aM(t,e,n){if(e.search(Gne)>=0)throw nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jh(...e.split("."))._internalPath}catch{throw nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nw(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${i}`),s&&(u+=` in document ${r}`),u+=")"),new ie(B.INVALID_ARGUMENT,c+t+u)}function $j(t,e){return t.some(n=>n.isEqual(e))}var iw=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new NR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},NR=class extends iw{data(){return super.data()}};function cM(t,e){return typeof e=="string"?aM(t,e):e instanceof jh?e._internalPath:e._delegate._internalPath}function Wne(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pg=class{},rw=class extends Pg{};function qj(t,e,...n){let i=[];e instanceof Pg&&i.push(e),i=i.concat(n),function(o){let s=o.filter(u=>u instanceof OR).length,c=o.filter(u=>u instanceof PR).length;if(s>1||s>0&&c>0)throw new ie(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var PR=class t extends rw{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return Wj(e._query,n),new Al(e.firestore,e.converter,E1(e._query,n))}_parse(e){let n=oM(e.firestore);return function(o,s,c,u,d,f,m){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ie(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){y4(m,f);let C=[];for(let R of m)C.push(g4(u,o,R));y={arrayValue:{values:C}}}else y=g4(u,o,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||y4(m,f),y=qne(c,s,m,f==="in"||f==="not-in");return xn.create(d,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var OR=class t extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Mo.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let u of c)Wj(s,u),s=E1(s,u)}(e._query,n),new Al(e.firestore,e.converter,E1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var kR=class t extends rw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ie(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bl(o,s)}(e._query,this._field,this._direction);return new Al(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new xc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function Gj(t,e="asc"){let n=e,i=cM("orderBy",t);return kR._create(i,n)}function g4(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new ie(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y4(e)&&n.indexOf("/")!==-1)throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(un.fromString(n));if(!we.isDocumentKey(i))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return LB(t,new we(i))}if(n instanceof Yn)return LB(t,n._key);throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sw(n)}.`)}function y4(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wj(t,e){let n=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var FR=class{convertValue(e,n="none"){switch(Ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Pc(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;let o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[Mh].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>cn(s.doubleValue));return new Dc(o)}convertGeoPoint(e){return new Cc(cn(e.latitude),cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=cw(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Dg(e));default:return null}}convertTimestamp(e){let n=fa(e);return new Mn(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=un.fromString(e);Rt(gj(i),9688,{name:e});let r=new RE(i.get(1),i.get(3)),o=new we(i.popFirst(5));return r.isEqual(n)||ha(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Kne(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var _l=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},El=class t extends iw{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(cM("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};El._jsonSchemaVersion="firestore/documentSnapshot/1.0",El._jsonSchema={type:Rn("string",El._jsonSchemaVersion),bundleSource:Rn("string","DocumentSnapshot"),bundleName:Rn("string"),bundle:Rn("string")};var Ah=class extends El{data(e={}){return super.data(e)}},xh=class t{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new _l(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ah(this._firestore,this._userDataWriter,i.key,i,new _l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let u=new Ah(r._firestore,r._userDataWriter,c.doc.key,c.doc,new _l(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Ah(r._firestore,r._userDataWriter,c.doc.key,c.doc,new _l(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:Qne(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Qne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function Kj(t){t=da(t,Yn);let e=da(t.firestore,Nc);return Une(rM(e),t._key).then(n=>Xj(e,t,n))}xh._jsonSchemaVersion="firestore/querySnapshot/1.0",xh._jsonSchema={type:Rn("string",xh._jsonSchemaVersion),bundleSource:Rn("string","QuerySnapshot"),bundleName:Rn("string"),bundle:Rn("string")};var ow=class extends FR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}};function Qj(t,e,n,...i){t=da(t,Yn);let r=da(t.firestore,Nc),o=oM(r),s;return s=typeof(e=bn(e))=="string"||e instanceof jh?$ne(o,"updateDoc",t._key,e,n,i):zne(o,"updateDoc",t._key,e),Zj(r,[s.toMutation(t._key,Ic.exists(!0))])}function Yj(t,e){let n=da(t.firestore,Nc),i=iM(t),r=Kne(t.converter,e);return Zj(n,[Hne(oM(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ic.exists(!1))]).then(()=>i)}function uM(t,...e){var n,i,r;t=bn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||m4(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(m4(e[s])){let m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),e[s+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}let u,d,f;if(t instanceof Yn)d=da(t.firestore,Nc),f=uw(t._key.path),u={next:m=>{e[s]&&e[s](Xj(d,t,m))},error:e[s+1],complete:e[s+2]};else{let m=da(t,Al);d=da(m.firestore,Nc),f=m._query;let y=new ow(d);u={next:_=>{e[s]&&e[s](new xh(d,y,m,_))},error:e[s+1],complete:e[s+2]},Wne(t._query)}return function(y,_,C,R){let N=new ZE(R),k=new KE(_,N,C);return y.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return Dj(yield SR(y),k)})),()=>{N.Ou(),y.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return Sj(yield SR(y),k)}))}}(rM(d),f,c,u)}function Zj(t,e){return function(i,r){let o=new us;return i.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return Ane(yield Vne(i),r,o)})),o.promise}(rM(t),e)}function Xj(t,e,n){let i=n.docs.get(e._key),r=new ow(t);return new El(t,r,e._key,i,new _l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Hh=r})(gc),So(new Oi("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new Nc(new e1(i.getProvider("auth-internal")),new i1(s,i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ie(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new RE(d.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),yn(CB,DB,e),yn(CB,DB,"esm2017")})();var mw=function(){return mw=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mw.apply(this,arguments)};var Xne={includeMetadataChanges:!1};function Jj(t,e){return e===void 0&&(e=Xne),new ne(function(n){var i=uM(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function eH(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:mw(mw({},i),(n={},n[e.idField]=t.id,n))}function tH(t){return Jj(t,{includeMetadataChanges:!0}).pipe(H(function(e){return e.docs}))}function nH(t,e){return e===void 0&&(e={}),tH(t).pipe(H(function(n){return n.map(function(i){return eH(i,e)})}))}var Rl=class{constructor(e){return e}},iH="firestore",lM=class{constructor(){return yh(iH)}};var dM=new M("angularfire2.firestore-instances");function Jne(t,e){let n=og(iH,t,e);return n&&new Rl(n)}function eie(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Rl(i)}}var tie={provide:lM,deps:[[new nn,dM]]},nie={provide:Rl,useFactory:Jne,deps:[[new nn,dM],ra]};function rH(t,...e){return yn("angularfire",yc.full,"fst"),Ar([nie,tie,{provide:dM,useFactory:eie(t),multi:!0,deps:[_e,Lt,vc,fl,[new nn,gg],[new nn,vh],...e]}])}var oH=Wn(nH,!0);var sH=Wn(Yj,!0,2);var hM=Wn(Uj,!0,2);var fM=Wn(iM,!0,2);var aH=Wn(Kj,!0);var cH=Wn(Bj,!0);var uH=Wn(Gj,!0,2),lH=Wn(qj,!0,2);var dH=Wn(Qj,!0,2);var hH=()=>{};var pH=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},iie=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],c=t[n++],u=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,c=s?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=o>>2,m=(o&3)<<4|c>>4,y=(c&15)<<2|d>>6,_=d&63;u||(_=64,s||(y=64)),i.push(n[f],n[m],n[y],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pH(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;let d=r<t.length?n[t.charAt(r)]:64;++r;let m=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||d==null||m==null)throw new pM;let y=o<<2|c>>4;if(i.push(y),d!==64){let _=c<<4&240|d>>2;if(i.push(_),m!==64){let C=d<<6&192|m;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},pM=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rie=function(t){let e=pH(t);return mH.encodeByteArray(e,!0)},mM=function(t){return rie(t).replace(/\./g,"")},gH=function(t){try{return mH.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var oie=()=>yH().__FIREBASE_DEFAULTS__,sie=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&gH(t[1]);return e&&JSON.parse(e)},cie=()=>{try{return hH()||oie()||sie()||aie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var vH=()=>cie()?.config;var gw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function gM(){try{return typeof indexedDB=="object"}catch{return!1}}function _H(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}var uie="FirebaseError",ya=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=uie,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vg.prototype.create)}},Vg=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?lie(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new ya(r,c,i)}};function lie(t,e){return t.replace(die,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var die=/\{\$([^}]+)}/g;function Ug(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(fH(o)&&fH(s)){if(!Ug(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function fH(t){return t!==null&&typeof t=="object"}var ZMe=4*60*60*1e3;var va=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ml="[DEFAULT]";var yM=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new gw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fie(e))try{this.getOrInitializeService({instanceIdentifier:Ml})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ml){return this.instances.has(e)}getOptions(e=Ml){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,n){let i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);let o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hie(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ml){return this.component?this.component.multipleInstances?e:Ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hie(t){return t===Ml?void 0:t}function fie(t){return t.instantiationMode==="EAGER"}var yw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new yM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var pie=[],qt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(qt||{}),mie={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},gie=qt.INFO,yie={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},vie=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=yie[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gh=class{constructor(e){this.name=e,this._logLevel=gie,this._logHandler=vie,this._userLogHandler=null,pie.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}};var _M=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_ie(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function _ie(t){return t.getComponent()?.type==="VERSION"}var EM="@firebase/app",EH="0.14.1";var _a=new Gh("@firebase/app"),Eie="@firebase/app-compat",wie="@firebase/analytics-compat",Iie="@firebase/analytics",bie="@firebase/app-check-compat",Tie="@firebase/app-check",Cie="@firebase/auth",Die="@firebase/auth-compat",Sie="@firebase/database",Aie="@firebase/data-connect",xie="@firebase/database-compat",Rie="@firebase/functions",Mie="@firebase/functions-compat",Nie="@firebase/installations",Pie="@firebase/installations-compat",Oie="@firebase/messaging",kie="@firebase/messaging-compat",Fie="@firebase/performance",Lie="@firebase/performance-compat",Vie="@firebase/remote-config",Uie="@firebase/remote-config-compat",Bie="@firebase/storage",jie="@firebase/storage-compat",Hie="@firebase/firestore",zie="@firebase/ai",$ie="@firebase/firestore-compat",qie="firebase",Gie="12.1.0";var Wie="[DEFAULT]",Kie={[EM]:"fire-core",[Eie]:"fire-core-compat",[Iie]:"fire-analytics",[wie]:"fire-analytics-compat",[Tie]:"fire-app-check",[bie]:"fire-app-check-compat",[Cie]:"fire-auth",[Die]:"fire-auth-compat",[Sie]:"fire-rtdb",[Aie]:"fire-data-connect",[xie]:"fire-rtdb-compat",[Rie]:"fire-fn",[Mie]:"fire-fn-compat",[Nie]:"fire-iid",[Pie]:"fire-iid-compat",[Oie]:"fire-fcm",[kie]:"fire-fcm-compat",[Fie]:"fire-perf",[Lie]:"fire-perf-compat",[Vie]:"fire-rc",[Uie]:"fire-rc-compat",[Bie]:"fire-gcs",[jie]:"fire-gcs-compat",[Hie]:"fire-fst",[$ie]:"fire-fst-compat",[zie]:"fire-vertex","fire-js":"fire-js",[qie]:"fire-js-all"};var wM=new Map,Qie=new Map,IM=new Map;function wH(t,e){try{t.container.addComponent(e)}catch(n){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bg(t){let e=t.name;if(IM.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;IM.set(e,t);for(let n of wM.values())wH(n,t);for(let n of Qie.values())wH(n,t);return!0}function CH(t){return t==null?!1:t.settings!==void 0}var Yie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nl=new Vg("app","Firebase",Yie);var bM=class{constructor(e,n,i){this._isDeleted=!1,this._options=O({},e),this._config=O({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nl.create("app-deleted",{appName:this._name})}};var DH=Gie;function SH(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=O({name:Wie,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Nl.create("bad-app-name",{appName:String(r)});if(n||(n=vH()),!n)throw Nl.create("no-options");let o=wM.get(r);if(o){if(Ug(n,o.options)&&Ug(i,o.config))return o;throw Nl.create("duplicate-app",{appName:r})}let s=new yw(r);for(let u of IM.values())s.addComponent(u);let c=new bM(n,i,s);return wM.set(r,c),c}function Oc(t,e,n){let i=Kie[t]??t;n&&(i+=`-${n}`);let r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){let s=[`Unable to register library "${i}" with version "${e}":`];r&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(s.join(" "));return}Bg(new va(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Zie="firebase-heartbeat-database",Xie=1,jg="firebase-heartbeat-store",vM=null;function AH(){return vM||(vM=G0(Zie,Xie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nl.create("idb-open",{originalErrorMessage:t.message})})),vM}function Jie(t){return x(this,null,function*(){try{let n=(yield AH()).transaction(jg),i=yield n.objectStore(jg).get(xH(t));return yield n.done,i}catch(e){if(e instanceof ya)_a.warn(e.message);else{let n=Nl.create("idb-get",{originalErrorMessage:e?.message});_a.warn(n.message)}}})}function IH(t,e){return x(this,null,function*(){try{let i=(yield AH()).transaction(jg,"readwrite");yield i.objectStore(jg).put(e,xH(t)),yield i.done}catch(n){if(n instanceof ya)_a.warn(n.message);else{let i=Nl.create("idb-set",{originalErrorMessage:n?.message});_a.warn(i.message)}}})}function xH(t){return`${t.name}!${t.options.appId}`}var ere=1024,tre=30,TM=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new CM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return x(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bH();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>tre){let r=ire(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_a.warn(e)}})}getHeartbeatsHeader(){return x(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=bH(),{heartbeatsToSend:n,unsentEntries:i}=nre(this._heartbeatsCache.heartbeats),r=mM(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return _a.warn(e),""}})}};function bH(){return new Date().toISOString().substring(0,10)}function nre(t,e=ere){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),TH(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),TH(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var CM=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return gM()?_H().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Jie(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IH(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IH(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function TH(t){return mM(JSON.stringify({version:2,heartbeats:t})).length}function ire(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function rre(t){Bg(new va("platform-logger",e=>new _M(e),"PRIVATE")),Bg(new va("heartbeat",e=>new TM(e),"PRIVATE")),Oc(EM,EH,t),Oc(EM,EH,"esm2020"),Oc("fire-js","")}rre("");var RH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},MH={};var vw,NH;(function(){var t;function e(b,v){function E(){}E.prototype=v.prototype,b.D=v.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(I,T,S){for(var w=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)w[fn-2]=arguments[fn];return v.prototype[T].apply(I,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(b,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=b.g[0],E=b.g[1],T=b.g[2];var S=b.g[3],w=v+(S^E&(T^S))+I[0]+3614090360&4294967295;v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[2]+606105819&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[3]+3250441966&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(S^E&(T^S))+I[4]+4118548399&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[6]+2821735955&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[7]+4249261313&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(S^E&(T^S))+I[8]+1770035416&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[10]+4294925233&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[11]+2304563134&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(S^E&(T^S))+I[12]+1804603682&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(T^v&(E^T))+I[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(E^S&(v^E))+I[14]+2792965006&4294967295,T=S+(w<<17&4294967295|w>>>15),w=E+(v^T&(S^v))+I[15]+1236535329&4294967295,E=T+(w<<22&4294967295|w>>>10),w=v+(T^S&(E^T))+I[1]+4129170786&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[11]+643717713&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[0]+3921069994&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(E^T))+I[5]+3593408605&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[15]+3634488961&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[4]+3889429448&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(E^T))+I[9]+568446438&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[3]+4107603335&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[8]+1163531501&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(E^T))+I[13]+2850285829&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^T&(v^E))+I[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^E&(S^v))+I[7]+1735328473&4294967295,T=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(T^S))+I[12]+2368359562&4294967295,E=T+(w<<20&4294967295|w>>>12),w=v+(E^T^S)+I[5]+4294588738&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[11]+1839030562&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[14]+4259657740&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^S)+I[1]+2763975236&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[7]+4139469664&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[10]+3200236656&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^S)+I[13]+681279174&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[3]+3572445317&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[6]+76029189&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(E^T^S)+I[9]+3654602809&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^T)+I[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^E)+I[15]+530742520&4294967295,T=S+(w<<16&4294967295|w>>>16),w=E+(T^S^v)+I[2]+3299628645&4294967295,E=T+(w<<23&4294967295|w>>>9),w=v+(T^(E|~S))+I[0]+4096336452&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[14]+2878612391&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[5]+4237533241&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~S))+I[12]+1700485571&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[10]+4293915773&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[1]+2240044497&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~S))+I[8]+1873313359&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[6]+2734768916&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[13]+1309151649&4294967295,E=T+(w<<21&4294967295|w>>>11),w=v+(T^(E|~S))+I[4]+4149444226&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~T))+I[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~E))+I[2]+718787259&4294967295,T=S+(w<<15&4294967295|w>>>17),w=E+(S^(T|~v))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+S&4294967295}i.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var E=v-this.blockSize,I=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=E;)r(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<v;)if(I[T++]=b.charCodeAt(S++),T==this.blockSize){r(this,I),T=0;break}}else for(;S<v;)if(I[T++]=b[S++],T==this.blockSize){r(this,I),T=0;break}}this.h=T,this.o+=v},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var E=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=E&255,E/=256;for(this.u(b),b=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)b[E++]=this.g[v]>>>I&255;return b};function o(b,v){var E=c;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=v(b)}function s(b,v){this.h=v;for(var E=[],I=!0,T=b.length-1;0<=T;T--){var S=b[T]|0;I&&S==v||(E[T]=S,I=!1)}this.g=E}var c={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return m;if(0>b)return N(d(-b));for(var v=[],E=1,I=0;b>=E;I++)v[I]=b/E|0,E*=4294967296;return new s(v,0)}function f(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return N(f(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(v,8)),I=m,T=0;T<b.length;T+=8){var S=Math.min(8,b.length-T),w=parseInt(b.substring(T,T+S),v);8>S?(S=d(Math.pow(v,S)),I=I.j(S).add(d(w))):(I=I.j(E),I=I.add(d(w)))}return I}var m=u(0),y=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-N(this).m();for(var b=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);b+=(0<=I?I:4294967296+I)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(R(this))return"-"+N(this).toString(b);for(var v=d(Math.pow(b,6)),E=this,I="";;){var T=he(E,v).g;E=k(E,T.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=T,C(E))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function R(b){return b.h==-1}t.l=function(b){return b=k(this,b),R(b)?-1:C(b)?0:1};function N(b){for(var v=b.g.length,E=[],I=0;I<v;I++)E[I]=~b.g[I];return new s(E,~b.h).add(y)}t.abs=function(){return R(this)?N(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0,T=0;T<=v;T++){var S=I+(this.i(T)&65535)+(b.i(T)&65535),w=(S>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);I=w>>>16,S&=65535,w&=65535,E[T]=w<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(b,v){return b.add(N(v))}t.j=function(b){if(C(this)||C(b))return m;if(R(this))return R(b)?N(this).j(N(b)):N(N(this).j(b));if(R(b))return N(this.j(N(b)));if(0>this.l(_)&&0>b.l(_))return d(this.m()*b.m());for(var v=this.g.length+b.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<b.g.length;T++){var S=this.i(I)>>>16,w=this.i(I)&65535,fn=b.i(T)>>>16,ji=b.i(T)&65535;E[2*I+2*T]+=w*ji,$(E,2*I+2*T),E[2*I+2*T+1]+=S*ji,$(E,2*I+2*T+1),E[2*I+2*T+1]+=w*fn,$(E,2*I+2*T+1),E[2*I+2*T+2]+=S*fn,$(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function $(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function K(b,v){this.g=b,this.h=v}function he(b,v){if(C(v))throw Error("division by zero");if(C(b))return new K(m,m);if(R(b))return v=he(N(b),v),new K(N(v.g),N(v.h));if(R(v))return v=he(b,N(v)),new K(N(v.g),v.h);if(30<b.g.length){if(R(b)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,I=v;0>=I.l(b);)E=Ke(E),I=Ke(I);var T=fe(E,1),S=fe(I,1);for(I=fe(I,2),E=fe(E,2);!C(I);){var w=S.add(I);0>=w.l(b)&&(T=T.add(E),S=w),I=fe(I,1),E=fe(E,1)}return v=k(b,T.j(v)),new K(T,v)}for(T=m;0<=b.l(v);){for(E=Math.max(1,Math.floor(b.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=d(E),w=S.j(v);R(w)||0<w.l(b);)E-=I,S=d(E),w=S.j(v);C(S)&&(S=y),T=T.add(S),b=k(b,w)}return new K(T,b)}t.A=function(b){return he(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&b.i(I);return new s(E,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|b.i(I);return new s(E,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^b.i(I);return new s(E,this.h^b.h)};function Ke(b){for(var v=b.g.length+1,E=[],I=0;I<v;I++)E[I]=b.i(I)<<1|b.i(I-1)>>>31;return new s(E,b.h)}function fe(b,v){var E=v>>5;v%=32;for(var I=b.g.length-E,T=[],S=0;S<I;S++)T[S]=0<v?b.i(S+E)>>>v|b.i(S+E+1)<<32-v:b.i(S+E);return new s(T,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,NH=MH.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,vw=MH.Integer=s}).apply(typeof RH<"u"?RH:typeof self<"u"?self:typeof window<"u"?window:{});var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ea={};var PH,ore,OH,kH,FH,LH,VH,UH,BH;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof _w=="object"&&_w];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=n(this);function r(a,l){if(l)e:{var h=i;a=a.split(".");for(var p=0;p<a.length-1;p++){var D=a[p];if(!(D in h))break e;h=h[D]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function o(a,l){a instanceof String&&(a+="");var h=0,p=!1,D={next:function(){if(!p&&h<a.length){var A=h++;return{value:l(A,a[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(a){return a||function(){return o(this,function(l,h){return h})}});var s=s||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function m(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),a.apply(l,D)}}return function(){return a.apply(l,arguments)}}function y(a,l,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,y.apply(null,arguments)}function _(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function C(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,D,A){for(var P=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)P[ge-2]=arguments[ge];return l.prototype[D].apply(p,P)}}function R(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function N(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let D=a.length||0,A=p.length||0;a.length=D+A;for(let P=0;P<A;P++)a[D+P]=p[P]}else a.push(p)}}class k{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function $(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function he(a){return he[" "](a),a}he[" "]=function(){};var Ke=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function fe(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function b(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function v(a){let l={};for(let h in a)l[h]=a[h];return l}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,l){let h,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(h in p)a[h]=p[h];for(let A=0;A<E.length;A++)h=E[A],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function T(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function S(a){c.setTimeout(()=>{throw a},0)}function w(){var a=Ge;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class fn{constructor(){this.h=this.g=null}add(l,h){let p=ji.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ji=new k(()=>new ae,a=>a.reset());class ae{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,Ge=new fn,tn=()=>{let a=c.Promise.resolve(void 0);ue=()=>{a.then(Hi)}};var Hi=()=>{for(var a;a=w();){try{a.h.call(a.g)}catch(h){S(h)}var l=ji;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}pe=!1};function wt(){this.s=this.s,this.C=this.C}wt.prototype.s=!1,wt.prototype.ma=function(){this.s||(this.s=!0,this.N())},wt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var zt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function zi(a,l){if(He.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Ke){e:{try{he(l.nodeName);var D=!0;break e}catch{}D=!1}D||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Df[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&zi.aa.h.call(this)}}C(zi,He);var Df={2:"touch",3:"pen",4:"mouse"};zi.prototype.h=function(){zi.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),$r=0;function li(a,l,h,p,D){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=D,this.key=++$r,this.da=this.fa=!1}function $i(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function tr(a){this.src=a,this.g={},this.h=0}tr.prototype.add=function(a,l,h,p,D){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=Zc(a,l,p,D);return-1<P?(l=a[P],h||(l.fa=!1)):(l=new li(l,this.src,A,!!p,D),l.fa=h,a.push(l)),l};function Yc(a,l){var h=l.type;if(h in a.g){var p=a.g[h],D=Array.prototype.indexOf.call(p,l,void 0),A;(A=0<=D)&&Array.prototype.splice.call(p,D,1),A&&($i(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Zc(a,l,h,p){for(var D=0;D<a.length;++D){var A=a[D];if(!A.da&&A.listener==l&&A.capture==!!h&&A.ha==p)return D}return-1}var Xc="closure_lm_"+(1e6*Math.random()|0),Jc={};function Sf(a,l,h,p,D){if(p&&p.once)return xf(a,l,h,p,D);if(Array.isArray(l)){for(var A=0;A<l.length;A++)Sf(a,l[A],h,p,D);return null}return h=iu(h),a&&a[Ot]?a.K(l,h,d(p)?!!p.capture:!!p,D):Af(a,l,h,!1,p,D)}function Af(a,l,h,p,D,A){if(!l)throw Error("Invalid event type");var P=d(D)?!!D.capture:!!D,ge=tu(a);if(ge||(a[Xc]=ge=new tr(a)),h=ge.add(l,h,p,P,A),h.proxy)return h;if(p=ub(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)zt||(D=P),D===void 0&&(D=!1),a.addEventListener(l.toString(),p,D);else if(a.attachEvent)a.attachEvent(Mf(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function ub(){function a(h){return l.call(a.src,a.listener,h)}let l=lb;return a}function xf(a,l,h,p,D){if(Array.isArray(l)){for(var A=0;A<l.length;A++)xf(a,l[A],h,p,D);return null}return h=iu(h),a&&a[Ot]?a.L(l,h,d(p)?!!p.capture:!!p,D):Af(a,l,h,!0,p,D)}function Rf(a,l,h,p,D){if(Array.isArray(l))for(var A=0;A<l.length;A++)Rf(a,l[A],h,p,D);else p=d(p)?!!p.capture:!!p,h=iu(h),a&&a[Ot]?(a=a.i,l=String(l).toString(),l in a.g&&(A=a.g[l],h=Zc(A,h,p,D),-1<h&&($i(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[l],a.h--)))):a&&(a=tu(a))&&(l=a.g[l.toString()],a=-1,l&&(a=Zc(l,h,p,D)),(h=-1<a?l[a]:null)&&eu(h))}function eu(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Ot])Yc(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Mf(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=tu(l))?(Yc(h,a),h.h==0&&(h.src=null,l[Xc]=null)):$i(a)}}}function Mf(a){return a in Jc?Jc[a]:Jc[a]="on"+a}function lb(a,l){if(a.da)a=!0;else{l=new zi(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&eu(a),a=h.call(p,l)}return a}function tu(a){return a=a[Xc],a instanceof tr?a:null}var nu="__closure_events_fn_"+(1e9*Math.random()>>>0);function iu(a){return typeof a=="function"?a:(a[nu]||(a[nu]=function(l){return a.handleEvent(l)}),a[nu])}function mt(){wt.call(this),this.i=new tr(this),this.M=this,this.F=null}C(mt,wt),mt.prototype[Ot]=!0,mt.prototype.removeEventListener=function(a,l,h,p){Rf(this,a,l,h,p)};function It(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new He(l,a);else if(l instanceof He)l.target=l.target||a;else{var D=l;l=new He(p,a),I(l,D)}if(D=!0,h)for(var A=h.length-1;0<=A;A--){var P=l.g=h[A];D=Is(P,p,!0,l)&&D}if(P=l.g=a,D=Is(P,p,!0,l)&&D,D=Is(P,p,!1,l)&&D,h)for(A=0;A<h.length;A++)P=l.g=h[A],D=Is(P,p,!1,l)&&D}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)$i(h[p]);delete a.g[l],a.h--}}this.F=null},mt.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},mt.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function Is(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var D=!0,A=0;A<l.length;++A){var P=l[A];if(P&&!P.da&&P.capture==h){var ge=P.listener,rt=P.ha||P.src;P.fa&&Yc(a.i,P),D=ge.call(rt,p)!==!1&&D}}return D&&!p.defaultPrevented}function Nf(a,l,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Pf(a){a.g=Nf(()=>{a.g=null,a.i&&(a.i=!1,Pf(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class db extends wt{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Pf(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(a){wt.call(this),this.h=a,this.g={}}C(qr,wt);var Of=[];function kf(a){fe(a.g,function(l,h){this.g.hasOwnProperty(h)&&eu(l)},a),a.g={}}qr.prototype.N=function(){qr.aa.N.call(this),kf(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ru=c.JSON.stringify,hb=c.JSON.parse,fb=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ou(){}ou.prototype.h=null;function Ff(a){return a.h||(a.h=a.i())}function Lf(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function su(){He.call(this,"d")}C(su,He);function au(){He.call(this,"c")}C(au,He);var Ii={},Vf=null;function bs(){return Vf=Vf||new mt}Ii.La="serverreachability";function Uf(a){He.call(this,Ii.La,a)}C(Uf,He);function Wr(a){let l=bs();It(l,new Uf(l))}Ii.STAT_EVENT="statevent";function Bf(a,l){He.call(this,Ii.STAT_EVENT,a),this.stat=l}C(Bf,He);function bt(a){let l=bs();It(l,new Bf(l,a))}Ii.Ma="timingevent";function jf(a,l){He.call(this,Ii.Ma,a),this.size=l}C(jf,He);function Kr(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function Qr(){this.g=!0}Qr.prototype.xa=function(){this.g=!1};function pb(a,l,h,p,D,A){a.info(function(){if(a.g)if(A)for(var P="",ge=A.split("&"),rt=0;rt<ge.length;rt++){var le=ge[rt].split("=");if(1<le.length){var gt=le[0];le=le[1];var yt=gt.split("_");P=2<=yt.length&&yt[1]=="type"?P+(gt+"="+le+"&"):P+(gt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+l+`
`+h+`
`+P})}function mb(a,l,h,p,D,A,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+l+`
`+h+`
`+A+" "+P})}function nr(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+yb(a,h)+(p?" "+p:"")})}function gb(a,l){a.info(function(){return"TIMEOUT: "+l})}Qr.prototype.info=function(){};function yb(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<D.length;P++)D[P]=""}}}}return ru(h)}catch{return l}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cu;function Cs(){}C(Cs,ou),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},cu=new Cs;function Jn(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zf}function zf(){this.i=null,this.g="",this.h=!1}var $f={},uu={};function lu(a,l,h){a.L=1,a.v=xs(kn(l)),a.m=h,a.P=!0,qf(a,null)}function qf(a,l){a.F=Date.now(),Ds(a),a.A=kn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),op(h.i,"t",p),a.C=0,h=a.j.J,a.h=new zf,a.g=bp(a.j,h?l:null,!a.m),0<a.O&&(a.M=new db(y(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Of[0]=D.toString()),D=Of);for(var A=0;A<D.length;A++){var P=Sf(h,D[A],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),Wr(),pb(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;let l=this.M;l&&Fn(a)==3?l.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{let yt=Fn(this.g);var l=this.g.Ba();let or=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||hp(this.g)))){this.J||yt!=4||l==7||(l==8||0>=or?Wr(3):Wr(2)),du(this);var h=this.g.Z();this.X=h;t:if(Gf(this)){var p=hp(this.g);a="";var D=p.length,A=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),Yr(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<D;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(A&&l==D-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,mb(this.i,this.u,this.A,this.l,this.R,yt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,rt=this.g;if((ge=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ge)){var le=ge;break t}}le=null}if(h=le)nr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hu(this,h);else{this.o=!1,this.s=3,bt(12),bi(this),Yr(this);break e}}if(this.P){h=!0;let dn;for(;!this.J&&this.C<P.length;)if(dn=vb(this,P),dn==uu){yt==4&&(this.s=4,bt(14),h=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==$f){this.s=4,bt(15),nr(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else nr(this.i,this.l,dn,null),hu(this,dn);if(Gf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||P.length!=0||this.h.h||(this.s=1,bt(16),h=!1),this.o=this.o&&h,!h)nr(this.i,this.l,P,"[Invalid Chunked Response]"),bi(this),Yr(this);else if(0<P.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),vu(gt),gt.M=!0,bt(11))}}else nr(this.i,this.l,P,null),hu(this,P);yt==4&&bi(this),this.o&&!this.J&&(yt==4?_p(this.j,this):(this.o=!1,Ds(this)))}else kb(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),bi(this),Yr(this)}}}catch{}finally{}};function Gf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function vb(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?uu:(h=Number(l.substring(h,p)),isNaN(h)?$f:(p+=1,p+h>l.length?uu:(l=l.slice(p,p+h),a.C=p+h,l)))}Jn.prototype.cancel=function(){this.J=!0,bi(this)};function Ds(a){a.S=Date.now()+a.I,Wf(a,a.I)}function Wf(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Kr(y(a.ba,a),l)}function du(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(gb(this.i,this.A),this.L!=2&&(Wr(),bt(17)),bi(this),this.s=2,Yr(this)):Wf(this,this.S-a)};function Yr(a){a.j.G==0||a.J||_p(a.j,a)}function bi(a){du(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,kf(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function hu(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||fu(h.h,a))){if(!a.K&&fu(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Os(h),Ns(h);else break e;yu(h),bt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Kr(y(h.Za,h),6e3));if(1>=Yf(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ci(h,11)}else if((a.K||h.g==a)&&Os(h),!$(l))for(D=h.Da.g.parse(l),l=0;l<D.length;l++){let le=D[l];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let gt=le[3];gt!=null&&(h.la=gt,h.j.info("VER="+h.la));let yt=le[4];yt!=null&&(h.Aa=yt,h.j.info("SVER="+h.Aa));let or=le[5];or!=null&&typeof or=="number"&&0<or&&(p=1.5*or,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let dn=a.g;if(dn){let Fs=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var A=p.h;A.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(pu(A,A.h),A.h=null))}if(p.D){let _u=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&(p.ya=_u,Ie(p.I,p.D,_u))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=Ip(p,p.J?p.ia:null,p.W),P.K){Zf(p.h,P);var ge=P,rt=p.L;rt&&(ge.I=rt),ge.B&&(du(ge),Ds(ge)),p.g=P}else yp(p);0<h.i.length&&Ps(h)}else le[0]!="stop"&&le[0]!="close"||Ci(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Ci(h,7):gu(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}Wr(4)}catch{}}var _b=class{constructor(a,l){this.g=a,this.map=l}};function Kf(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Yf(a){return a.h?1:a.g?a.g.size:0}function fu(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function pu(a,l){a.g?a.g.add(l):a.h=l}function Zf(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Kf.prototype.cancel=function(){if(this.i=Xf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Xf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return R(a.i)}function Eb(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function wb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function Jf(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=wb(a),p=Eb(a),D=p.length,A=0;A<D;A++)l.call(void 0,p[A],h&&h[A],a)}var ep=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ib(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),D=null;if(0<=p){var A=a[h].substring(0,p);D=a[h].substring(p+1)}else A=a[h];l(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ti(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ti){this.h=a.h,Ss(this,a.j),this.o=a.o,this.g=a.g,As(this,a.s),this.l=a.l;var l=a.i,h=new Jr;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),tp(this,h),this.m=a.m}else a&&(l=String(a).match(ep))?(this.h=!1,Ss(this,l[1]||"",!0),this.o=Zr(l[2]||""),this.g=Zr(l[3]||"",!0),As(this,l[4]),this.l=Zr(l[5]||"",!0),tp(this,l[6]||"",!0),this.m=Zr(l[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Ti.prototype.toString=function(){var a=[],l=this.j;l&&a.push(Xr(l,np,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Xr(l,np,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Xr(h,h.charAt(0)=="/"?Cb:Tb,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Xr(h,Sb)),a.join("")};function kn(a){return new Ti(a)}function Ss(a,l,h){a.j=h?Zr(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function As(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function tp(a,l,h){l instanceof Jr?(a.i=l,Ab(a.i,a.h)):(h||(l=Xr(l,Db)),a.i=new Jr(l,a.h))}function Ie(a,l,h){a.i.set(l,h)}function xs(a){return Ie(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Zr(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Xr(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,bb),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function bb(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var np=/[#\/\?@]/g,Tb=/[#\?:]/g,Cb=/[#\?]/g,Db=/[#\?@]/g,Sb=/#/g;function Jr(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function ei(a){a.g||(a.g=new Map,a.h=0,a.i&&Ib(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Jr.prototype,t.add=function(a,l){ei(this),this.i=null,a=ir(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function ip(a,l){ei(a),l=ir(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function rp(a,l){return ei(a),l=ir(a,l),a.g.has(l)}t.forEach=function(a,l){ei(this),this.g.forEach(function(h,p){h.forEach(function(D){a.call(l,D,p,this)},this)},this)},t.na=function(){ei(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let D=a[p];for(let A=0;A<D.length;A++)h.push(l[p])}return h},t.V=function(a){ei(this);let l=[];if(typeof a=="string")rp(this,a)&&(l=l.concat(this.g.get(ir(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return ei(this),this.i=null,a=ir(this,a),rp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function op(a,l,h){ip(a,l),0<h.length&&(a.i=null,a.g.set(ir(a,l),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let A=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var D=A;P[p]!==""&&(D+="="+encodeURIComponent(String(P[p]))),a.push(D)}}return this.i=a.join("&")};function ir(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function Ab(a,l){l&&!a.j&&(ei(a),a.i=null,a.g.forEach(function(h,p){var D=p.toLowerCase();p!=D&&(ip(this,p),op(this,D,h))},a)),a.j=l}function xb(a,l){let h=new Qr;if(c.Image){let p=new Image;p.onload=_(ti,h,"TestLoadImage: loaded",!0,l,p),p.onerror=_(ti,h,"TestLoadImage: error",!1,l,p),p.onabort=_(ti,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=_(ti,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function Rb(a,l){let h=new Qr,p=new AbortController,D=setTimeout(()=>{p.abort(),ti(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(A=>{clearTimeout(D),A.ok?ti(h,"TestPingServer: ok",!0,l):ti(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(D),ti(h,"TestPingServer: error",!1,l)})}function ti(a,l,h,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(h)}catch{}}function Mb(){this.g=new fb}function Nb(a,l,h){let p=h||"";try{Jf(a,function(D,A){let P=D;d(D)&&(P=ru(D)),l.push(p+A+"="+encodeURIComponent(P))})}catch(D){throw l.push(p+"type="+encodeURIComponent("_badmap")),D}}function eo(a){this.l=a.Ub||null,this.j=a.eb||!1}C(eo,ou),eo.prototype.g=function(){return new Rs(this.l,this.j)},eo.prototype.i=function(a){return function(){return a}}({});function Rs(a,l){mt.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Rs,mt),t=Rs.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,no(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,no(this)),this.g&&(this.readyState=3,no(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function sp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?to(this):no(this),this.readyState==3&&sp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,to(this))},t.Qa=function(a){this.g&&(this.response=a,to(this))},t.ga=function(){this.g&&to(this)};function to(a){a.readyState=4,a.l=null,a.j=null,a.v=null,no(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function no(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ap(a){let l="";return fe(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function mu(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=ap(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ie(a,l,h))}function Fe(a){mt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Fe,mt);var Pb=/^https?$/i,Ob=["POST","PUT"];t=Fe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cu.g(),this.v=this.o?Ff(this.o):Ff(cu),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(A){cp(this,A);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)h.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ob,l,void 0))||p||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of h)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dp(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){cp(this,A)}};function cp(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,up(a),Ms(a)}function up(a){a.A||(a.A=!0,It(a,"complete"),It(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,It(this,"complete"),It(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lp(this):this.bb())},t.bb=function(){lp(this)};function lp(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Fn(a)!=4||a.Z()!=2)){if(a.u&&Fn(a)==4)Nf(a.Ea,0,a);else if(It(a,"readystatechange"),Fn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=P===0){var D=String(a.D).match(ep)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),p=!Pb.test(D?D.toLowerCase():"")}h=p}if(h)It(a,"complete"),It(a,"success");else{a.m=6;try{var A=2<Fn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",up(a)}}finally{Ms(a)}}}}function Ms(a,l){if(a.g){dp(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||It(a,"ready");try{h.onreadystatechange=p}catch{}}}function dp(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Fn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),hb(l)}};function hp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function kb(a){let l={};a=(a.g&&2<=Fn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if($(a[p]))continue;var h=T(a[p]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=l[D]||[];l[D]=A,A.push(h)}b(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function io(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function fp(a){this.Aa=0,this.i=[],this.j=new Qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=io("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=io("baseRetryDelayMs",5e3,a),this.cb=io("retryDelaySeedMs",1e4,a),this.Wa=io("forwardChannelMaxRetries",2,a),this.wa=io("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Kf(a&&a.concurrentRequestLimit),this.Da=new Mb,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fp.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){bt(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Ip(this,null,this.W),Ps(this)};function gu(a){if(pp(a),a.G==3){var l=a.U++,h=kn(a.I);if(Ie(h,"SID",a.K),Ie(h,"RID",l),Ie(h,"TYPE","terminate"),ro(a,h),l=new Jn(a,a.j,l),l.L=2,l.v=xs(kn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=bp(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Ds(l)}wp(a)}function Ns(a){a.g&&(vu(a),a.g.cancel(),a.g=null)}function pp(a){Ns(a),a.u&&(c.clearTimeout(a.u),a.u=null),Os(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ps(a){if(!Qf(a.h)&&!a.s){a.s=!0;var l=a.Ga;ue||tn(),pe||(ue(),pe=!0),Ge.add(l,a),a.B=0}}function Fb(a,l){return Yf(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Kr(y(a.Ga,a,l),Ep(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Jn(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=gp(this,D,l),h=kn(this.I),Ie(h,"RID",a),Ie(h,"CVER",22),this.D&&Ie(h,"X-HTTP-Session-Id",this.D),ro(this,h),A&&(this.O?l="headers="+encodeURIComponent(String(ap(A)))+"&"+l:this.m&&mu(h,this.m,A)),pu(this.h,D),this.Ua&&Ie(h,"TYPE","init"),this.P?(Ie(h,"$req",l),Ie(h,"SID","null"),D.T=!0,lu(D,h,null)):lu(D,h,l),this.G=2}}else this.G==3&&(a?mp(this,a):this.i.length==0||Qf(this.h)||mp(this))};function mp(a,l){var h;l?h=l.l:h=a.U++;let p=kn(a.I);Ie(p,"SID",a.K),Ie(p,"RID",h),Ie(p,"AID",a.T),ro(a,p),a.m&&a.o&&mu(p,a.m,a.o),h=new Jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=gp(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),pu(a.h,h),lu(h,p,l)}function ro(a,l){a.H&&fe(a.H,function(h,p){Ie(l,p,h)}),a.l&&Jf({},function(h,p){Ie(l,p,h)})}function gp(a,l,h){h=Math.min(a.i.length,h);var p=a.l?y(a.l.Na,a.l,a):null;e:{var D=a.i;let A=-1;for(;;){let P=["count="+h];A==-1?0<h?(A=D[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let ge=!0;for(let rt=0;rt<h;rt++){let le=D[rt].g,gt=D[rt].map;if(le-=A,0>le)A=Math.max(0,D[rt].g-100),ge=!1;else try{Nb(gt,P,"req"+le+"_")}catch{p&&p(gt)}}if(ge){p=P.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function yp(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;ue||tn(),pe||(ue(),pe=!0),Ge.add(l,a),a.v=0}}function yu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Kr(y(a.Fa,a),Ep(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,vp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Kr(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Ns(this),vp(this))};function vu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function vp(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=kn(a.qa);Ie(l,"RID","rpc"),Ie(l,"SID",a.K),Ie(l,"AID",a.T),Ie(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ie(l,"TO",a.ja),Ie(l,"TYPE","xmlhttp"),ro(a,l),a.m&&a.o&&mu(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=xs(kn(l)),h.m=null,h.P=!0,qf(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ns(this),yu(this),bt(19))};function Os(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function _p(a,l){var h=null;if(a.g==l){Os(a),vu(a),a.g=null;var p=2}else if(fu(a.h,l))h=l.D,Zf(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var D=a.B;p=bs(),It(p,new jf(p,h)),Ps(a)}else yp(a);else if(D=l.s,D==3||D==0&&0<l.X||!(p==1&&Fb(a,l)||p==2&&yu(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),D){case 1:Ci(a,5);break;case 4:Ci(a,10);break;case 3:Ci(a,6);break;default:Ci(a,2)}}}function Ep(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function Ci(a,l){if(a.j.info("Error code "+l),l==2){var h=y(a.fb,a),p=a.Xa;let D=!p;p=new Ti(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ss(p,"https"),xs(p),D?xb(p.toString(),h):Rb(p.toString(),h)}else bt(2);a.G=0,a.l&&a.l.sa(l),wp(a),pp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function wp(a){if(a.G=0,a.ka=[],a.l){let l=Xf(a.h);(l.length!=0||a.i.length!=0)&&(N(a.ka,l),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function Ip(a,l,h){var p=h instanceof Ti?kn(h):new Ti(h);if(p.g!="")l&&(p.g=l+"."+p.g),As(p,p.s);else{var D=c.location;p=D.protocol,l=l?l+"."+D.hostname:D.hostname,D=+D.port;var A=new Ti(null);p&&Ss(A,p),l&&(A.g=l),D&&As(A,D),h&&(A.l=h),p=A}return h=a.D,l=a.ya,h&&l&&Ie(p,h,l),Ie(p,"VER",a.la),ro(a,p),p}function bp(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Fe(new eo({eb:h})):new Fe(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tp(){}t=Tp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ks(){}ks.prototype.g=function(a,l){return new $t(a,l)};function $t(a,l){mt.call(this),this.g=new fp(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!$(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!$(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new rr(this)}C($t,mt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){gu(this.g)},$t.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ru(a),a=h);l.i.push(new _b(l.Ya++,a)),l.G==3&&Ps(l)},$t.prototype.N=function(){this.g.l=null,delete this.j,gu(this.g),delete this.g,$t.aa.N.call(this)};function Cp(a){su.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}C(Cp,su);function Dp(){au.call(this),this.status=1}C(Dp,au);function rr(a){this.g=a}C(rr,Tp),rr.prototype.ua=function(){It(this.g,"a")},rr.prototype.ta=function(a){It(this.g,new Cp(a))},rr.prototype.sa=function(a){It(this.g,new Dp)},rr.prototype.ra=function(){It(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,BH=Ea.createWebChannelTransport=function(){return new ks},UH=Ea.getStatEventTarget=function(){return bs()},VH=Ea.Event=Ii,LH=Ea.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,FH=Ea.ErrorCode=Ts,Hf.COMPLETE="complete",kH=Ea.EventType=Hf,Lf.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,OH=Ea.WebChannel=Lf,ore=Ea.FetchXmlHttpFactory=eo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,PH=Ea.XhrIo=Fe}).apply(typeof _w<"u"?_w:typeof self<"u"?self:typeof window<"u"?window:{});var jH="@firebase/firestore",HH="4.9.0";var ki=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");var Rw="12.0.0";var Ew=new Gh("@firebase/firestore");function No(t,...e){if(Ew.logLevel<=qt.DEBUG){let n=e.map(n3);Ew.debug(`Firestore (${Rw}): ${t}`,...n)}}function t3(t,...e){if(Ew.logLevel<=qt.ERROR){let n=e.map(n3);Ew.error(`Firestore (${Rw}): ${t}`,...n)}}function n3(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function _r(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,i3(t,i,n)}function i3(t,e,n){let i=`FIRESTORE (${Rw}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw t3(i),new Error(i)}function Pl(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||i3(e,r,i)}var St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_t=class extends ya{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ol=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var AM=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},xM=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ki.UNAUTHENTICATED))}shutdown(){}};var RM=class{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pl(this.o===void 0,42304);let i=this.i,r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve(),o=new Ol;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ol,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>x(this,null,function*(){yield u.promise,yield r(this.currentUser)}))},c=u=>{No("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(No("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ol)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(No("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pl(typeof i.accessToken=="string",31837,{l:i}),new AM(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pl(e===null||typeof e=="string",2055,{h:e}),new ki(e)}},MM=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},NM=class{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new MM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ww=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},PM=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,CH(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pl(this.o===void 0,3512);let i=o=>{o.error!=null&&No("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,No("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{No("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):No("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ww(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pl(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ww(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function sre(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var OM=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=sre(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%62))}return i}};function Ia(t,e){return t<e?-1:t>e?1:0}function are(t,e){let n=Math.min(t.length,e.length);for(let i=0;i<n;i++){let r=t.charAt(i),o=e.charAt(i);if(r!==o)return DM(r)===DM(o)?Ia(r,o):DM(r)?1:-1}return Ia(t.length,e.length)}var cre=55296,ure=57343;function DM(t){let e=t.charCodeAt(0);return e>=cre&&e<=ure}var zH="__name__",Iw=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&_r(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&_r(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=t.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return Ia(e.length,n.length)}static compareSegments(e,n){let i=t.isNumericId(e),r=t.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?t.extractNumericId(e).compare(t.extractNumericId(n)):are(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vw.fromString(e.substring(4,e.length-2))}},wa=class t extends Iw{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new _t(St.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},lre=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kM=class t extends Iw{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return lre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zH}static keyField(){return new t([zH])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new _t(St.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new _t(St.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new _t(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new _t(St.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ba=class t{constructor(e){this.path=e}static fromPath(e){return new t(wa.fromString(e))}static fromName(e){return new t(wa.fromString(e).popFirst(5))}static empty(){return new t(wa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wa.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wa.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new wa(e.slice()))}};function dre(t,e,n,i){if(e===!0&&i===!0)throw new _t(St.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hre(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nn(t,e){let n={typeString:t};return e&&(n.value=e),n}function Wg(t,e){if(!hre(t))throw new _t(St.INVALID_ARGUMENT,"JSON must be an object");let n;for(let i in e)if(e[i]){let r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}let s=t[i];if(r&&typeof s!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new _t(St.INVALID_ARGUMENT,n);return!0}var $H=-62135596800,qH=1e6,kl=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*qH);return new t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _t(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$H)throw new _t(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qH}_compareTo(e){return this.seconds===e.seconds?Ia(this.nanoseconds,e.nanoseconds):Ia(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wg(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-$H;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};kl._jsonSchemaVersion="firestore/timestamp/1.0",kl._jsonSchema={type:Nn("string",kl._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};var FM=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};FM.UNKNOWN_ID=-1;function fre(t){return t.name==="IndexedDbTransactionError"}function pre(t){return t===0&&1/t==-1/0}var mre="remoteDocuments",r3="owner";var o3="mutationQueues";var s3="mutations";var a3="documentMutations",gre="remoteDocumentsV14";var c3="remoteDocumentGlobal";var u3="targets";var l3="targetDocuments";var d3="targetGlobal",h3="collectionParents";var f3="clientMetadata";var p3="bundles";var m3="namedQueries";var yre="indexConfiguration";var vre="indexState";var _re="indexEntries";var g3="documentOverlays";var Ere="globals";var wre=[o3,s3,a3,mre,u3,r3,d3,l3,f3,c3,h3,p3,m3],LNe=[...wre,g3],Ire=[o3,s3,a3,gre,u3,r3,d3,l3,f3,c3,h3,p3,m3,g3],bre=Ire,Tre=[...bre,yre,vre,_re];var VNe=[...Tre,Ere];var Zh=class t{constructor(e,n){this.comparator=e,this.root=n||gs.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}},Wh=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gs=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _r(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _r(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw _r(27949);return e+(this.isRed()?0:1)}};gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1;gs.EMPTY=new class{constructor(){this.size=0}get key(){throw _r(57766)}get value(){throw _r(16141)}get color(){throw _r(16727)}get left(){throw _r(29726)}get right(){throw _r(36894)}copy(e,n,i,r,o){return this}insert(e,n,i){return new gs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bw=class t{constructor(e){this.comparator=e,this.data=new Zh(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tw(this.data.getIterator())}getIteratorFrom(e){return new Tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Tw=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var LM=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var kc=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LM("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ia(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};kc.EMPTY_BYTE_STRING=new kc("");var Cre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dre(t){if(Pl(!!t,39018),typeof t=="string"){let e=0,n=Cre.exec(t);if(Pl(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Hg(t.seconds),nanos:Hg(t.nanos)}}function Hg(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sre(t){return typeof t=="string"?kc.fromBase64String(t):kc.fromUint8Array(t)}var GH="(default)",VM=class t{constructor(e,n){this.projectId=e,this.database=n||GH}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===GH}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var y3="__type__",Are="__max__";var v3="__vector__",_3="value";function xre(t){return(t?.mapValue?.fields||{})[y3]?.stringValue===v3}function Rre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Are}var BNe={mapValue:{fields:{[y3]:{stringValue:v3},[_3]:{arrayValue:{}}}}};var UM=class{constructor(e,n=null,i=[],r=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Mre(t){return new UM(t)}var jNe=new Zh(ba.comparator);var HNe=new Zh(ba.comparator);var zNe=new Zh(ba.comparator),$Ne=new bw(ba.comparator);var qNe=new bw(Ia);var WH,ft;(ft=WH||(WH={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";var GNe=new vw([4294967295,4294967295],0);var Cw=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Hg(e.integerValue));else if("doubleValue"in e){let i=Hg(e.doubleValue);isNaN(i)?this.Ft(n,13):(this.Ft(n,15),pre(i)?n.Mt(0):n.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(n,20),typeof i=="string"&&(i=Dre(i)),n.xt(`${i.seconds||""}`),n.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Sre(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ft(n,45),n.Mt(i.latitude||0),n.Mt(i.longitude||0)}else"mapValue"in e?Rre(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):xre(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_r(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let i=e.fields||{};this.Ft(n,55);for(let r of Object.keys(i))this.Ot(r,n),this.Ct(i[r],n)}kt(e,n){let i=e.fields||{};this.Ft(n,53);let r=_3,o=i[r].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Hg(o)),this.Ot(r,n),this.Ct(i[r],n)}Qt(e,n){let i=e.values||[];this.Ft(n,50);for(let r of i)this.Ct(r,n)}Lt(e,n){this.Ft(n,37),ba.fromName(e).path.forEach(i=>{this.Ft(n,60),this.Ut(i,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Cw.Kt=new Cw;var WNe=new Uint8Array(0);var E3=41943040,ms=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}};ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(E3,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);var Nre=1048576;function SM(){return typeof document<"u"?document:null}var BM=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&No("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var jM=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,c=new t(e,n,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(St.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var KH,QH;(QH=KH||(KH={})).Ma="default",QH.Cache="cache";function Pre(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var YH=new Map;var Ore="firestore.googleapis.com",ZH=!0,Dw=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _t(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ore,this.ssl=ZH}else this.host=e.host,this.ssl=e.ssl??ZH;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nre)throw new _t(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dre("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pre(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _t(St.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _t(St.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _t(St.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},HM=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _t(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xM;switch(i.type){case"firstParty":return new NM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _t(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return x(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=YH.get(n);i&&(No("ComponentProvider","Removing Datastore"),YH.delete(n),i.terminate())}(this),Promise.resolve()}};var zM=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Fl=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $M(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Wg(n,t._jsonSchema))return new t(e,i||null,new ba(wa.fromString(n.referencePath)))}};Fl._jsonSchemaVersion="firestore/documentReference/1.0",Fl._jsonSchema={type:Nn("string",Fl._jsonSchemaVersion),referencePath:Nn("string")};var $M=class t extends zM{constructor(e,n,i){super(e,n,Mre(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Fl(this.firestore,null,new ba(e))}withConverter(e){return new t(this.firestore,e,this._path)}};var XH="AsyncQueue",Sw=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BM(this,"async_queue_retry"),this._c=()=>{let i=SM();i&&No(XH,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;let n=SM();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=SM();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new Ol;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return x(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fre(e))throw e;No(XH,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,t3("INTERNAL UNHANDLED ERROR: ",JH(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let r=jM.createAndSchedule(this,e,n,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&_r(47125,{Pc:JH(this.nc)})}verifyOperationInProgress(){}Tc(){return x(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function JH(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var qM=class extends HM{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Sw,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return x(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sw(e),this._firestoreClient=void 0,yield e}})}};var zg=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(kc.fromBase64String(e))}catch(n){throw new _t(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(kc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wg(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};zg._jsonSchemaVersion="firestore/bytes/1.0",zg._jsonSchema={type:Nn("string",zg._jsonSchemaVersion),bytes:Nn("string")};var Aw=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _t(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kM(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $g=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _t(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _t(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ia(this._lat,e._lat)||Ia(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Wg(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};$g._jsonSchemaVersion="firestore/geoPoint/1.0",$g._jsonSchema={type:Nn("string",$g._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};var qg=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wg(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new _t(St.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};qg._jsonSchemaVersion="firestore/vectorValue/1.0",qg._jsonSchema={type:Nn("string",qg._jsonSchemaVersion),vectorValues:Nn("object")};var kre=new RegExp("[~\\*/\\[\\]]");function Fre(t,e,n){if(e.search(kre)>=0)throw e3(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Aw(...e.split("."))._internalPath}catch{throw e3(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function e3(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${i}`),s&&(u+=` in document ${r}`),u+=")"),new _t(St.INVALID_ARGUMENT,c+t+u)}var xw=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new GM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(w3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},GM=class extends xw{data(){return super.data()}};function w3(t,e){return typeof e=="string"?Fre(t,e):e instanceof Aw?e._internalPath:e._delegate._internalPath}var Kh=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Qh=class t extends xw{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(w3("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(St.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Qh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qh._jsonSchema={type:Nn("string",Qh._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};var Yh=class extends Qh{data(e={}){return super.data(e)}},Gg=class t{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Kh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Yh(this._firestore,this._userDataWriter,i.key,i,new Kh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let u=new Yh(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Kh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Yh(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Kh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:Lre(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(St.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=OM.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Lre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _r(61501,{type:t})}}Gg._jsonSchemaVersion="firestore/querySnapshot/1.0",Gg._jsonSchema={type:Nn("string",Gg._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};(function(e,n=!0){(function(r){Rw=r})(DH),Bg(new va("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new qM(new RM(i.getProvider("auth-internal")),new PM(s,i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _t(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new VM(d.options.projectId,f)}(s,r),s);return o=O({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Oc(jH,HH,e),Oc(jH,HH,"esm2020")})();var R3=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(Le(Zo),Le(Je))};static \u0275dir=F({type:t})}return t})(),Vre=(()=>{class t extends R3{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Be(t)))(r||t)}})();static \u0275dir=F({type:t,features:[Qe]})}return t})(),JM=new M("");var Ure={provide:JM,useExisting:Gi(()=>Lc),multi:!0};function Bre(){let t=hr()?hr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var jre=new M(""),Lc=(()=>{class t extends R3{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Bre())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(Le(Zo),Le(Je),Le(jre,8))};static \u0275dir=F({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Q("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[ee([Ure]),Qe]})}return t})();function eN(t){return t==null||tN(t)===0}function tN(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Po=new M(""),nN=new M(""),Hre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pn=class{static min(e){return zre(e)}static max(e){return $re(e)}static required(e){return qre(e)}static requiredTrue(e){return Gre(e)}static email(e){return Wre(e)}static minLength(e){return Kre(e)}static maxLength(e){return Qre(e)}static pattern(e){return Yre(e)}static nullValidator(e){return M3()}static compose(e){return L3(e)}static composeAsync(e){return U3(e)}};function zre(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function $re(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function qre(t){return eN(t.value)?{required:!0}:null}function Gre(t){return t.value===!0?null:{required:!0}}function Wre(t){return eN(t.value)||Hre.test(t.value)?null:{email:!0}}function Kre(t){return e=>{let n=e.value?.length??tN(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function Qre(t){return e=>{let n=e.value?.length??tN(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function Yre(t){if(!t)return M3;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(eN(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function M3(t){return null}function N3(t){return t!=null}function P3(t){return Zs(t)?Ft(t):t}function O3(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function k3(t,e){return e.map(n=>n(t))}function Zre(t){return!t.validate}function F3(t){return t.map(e=>Zre(e)?e:n=>e.validate(n))}function L3(t){if(!t)return null;let e=t.filter(N3);return e.length==0?null:function(n){return O3(k3(n,e))}}function V3(t){return t!=null?L3(F3(t)):null}function U3(t){if(!t)return null;let e=t.filter(N3);return e.length==0?null:function(n){let i=k3(n,e).map(P3);return tT(i).pipe(H(O3))}}function B3(t){return t!=null?U3(F3(t)):null}function I3(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function j3(t){return t._rawValidators}function H3(t){return t._rawAsyncValidators}function WM(t){return t?Array.isArray(t)?t:[t]:[]}function Nw(t,e){return Array.isArray(t)?t.includes(e):t===e}function b3(t,e){let n=WM(e);return WM(t).forEach(r=>{Nw(n,r)||n.push(r)}),n}function T3(t,e){return WM(e).filter(n=>!Nw(t,n))}var Pw=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=V3(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=B3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ll=class extends Pw{name;get formDirective(){return null}get path(){return null}},Zn=class extends Pw{_parent=null;name=null;valueAccessor=null},Ow=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Xre={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},fPe=oe(O({},Xre),{"[class.ng-submitted]":"isSubmitted"}),Uw=(()=>{class t extends Ow{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(Le(Zn,2))};static \u0275dir=F({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Qe]})}return t})(),Bw=(()=>{class t extends Ow{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(Le(Ll,10))};static \u0275dir=F({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Qe]})}return t})();var Kg="VALID",Mw="INVALID",Xh="PENDING",Qg="DISABLED",Fc=class{},kw=class extends Fc{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Yg=class extends Fc{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Zg=class extends Fc{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Jh=class extends Fc{status;source;constructor(e,n){super(),this.status=e,this.source=n}},KM=class extends Fc{source;constructor(e){super(),this.source=e}},QM=class extends Fc{source;constructor(e){super(),this.source=e}};function iN(t){return(jw(t)?t.validators:t)||null}function Jre(t){return Array.isArray(t)?V3(t):t||null}function rN(t,e){return(jw(e)?e.asyncValidators:t)||null}function eoe(t){return Array.isArray(t)?B3(t):t||null}function jw(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function z3(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new q(1e3,"");if(!i[n])throw new q(1001,"")}function $3(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new q(1002,"")})}var ef=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return en(this.statusReactive)}set status(e){en(()=>this.statusReactive.set(e))}_status=xe(()=>this.statusReactive());statusReactive=Y(void 0);get valid(){return this.status===Kg}get invalid(){return this.status===Mw}get pending(){return this.status==Xh}get disabled(){return this.status===Qg}get enabled(){return this.status!==Qg}errors;get pristine(){return en(this.pristineReactive)}set pristine(e){en(()=>this.pristineReactive.set(e))}_pristine=xe(()=>this.pristineReactive());pristineReactive=Y(!0);get dirty(){return!this.pristine}get touched(){return en(this.touchedReactive)}set touched(e){en(()=>this.touchedReactive.set(e))}_touched=xe(()=>this.touchedReactive());touchedReactive=Y(!1);get untouched(){return!this.touched}_events=new at;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(b3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(b3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(T3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(T3(e,this._rawAsyncValidators))}hasValidator(e){return Nw(this._rawValidators,e)}hasAsyncValidator(e){return Nw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(O({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Zg(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Zg(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(O({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Yg(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Yg(!0,i))}markAsPending(e={}){this.status=Xh;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jh(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qg,this.errors=null,this._forEachChild(r=>{r.disable(oe(O({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kw(this.value,i)),this._events.next(new Jh(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Kg,this._forEachChild(i=>{i.enable(oe(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kg||this.status===Xh)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kw(this.value,n)),this._events.next(new Jh(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qg:Kg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xh,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let i=P3(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Jh(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Qg:this.errors?Mw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xh)?Xh:this._anyControlsHaveStatus(Mw)?Mw:Kg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Yg(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Zg(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jw(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Jre(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eoe(this._rawAsyncValidators)}},Fw=class extends ef{constructor(e,n,i){super(iN(n),rN(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$3(this,!0,e),Object.keys(e).forEach(i=>{z3(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var YM=class extends Fw{};var oN=new M("",{providedIn:"root",factory:()=>sN}),sN="always";function q3(t,e){return[...e.path,t]}function ZM(t,e,n=sN){aN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),noe(t,e),roe(t,e),ioe(t,e),toe(t,e)}function C3(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Vw(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function toe(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function aN(t,e){let n=j3(t);e.validator!==null?t.setValidators(I3(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=H3(t);e.asyncValidator!==null?t.setAsyncValidators(I3(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Lw(e._rawValidators,r),Lw(e._rawAsyncValidators,r)}function Vw(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=j3(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=H3(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Lw(e._rawValidators,i),Lw(e._rawAsyncValidators,i),n}function noe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&G3(t,e)})}function ioe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&G3(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function G3(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function roe(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ooe(t,e){t==null,aN(t,e)}function soe(t,e){return Vw(t,e)}function W3(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function aoe(t){return Object.getPrototypeOf(t.constructor)===Vre}function coe(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function K3(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Lc?n=o:aoe(o)?i=o:r=o}),r||i||n||null}function uoe(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function D3(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function S3(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xg=class extends ef{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(iN(n),rN(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jw(n)&&(n.nonNullable||n.initialValueIsDefault)&&(S3(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){D3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){D3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){S3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var loe=t=>t instanceof Xg;var doe={provide:Zn,useExisting:Gi(()=>Jg)},A3=Promise.resolve(),Jg=(()=>{class t extends Zn{_changeDetectorRef;callSetDisabledState;control=new Xg;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ae;constructor(n,i,r,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=K3(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),W3(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ZM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){A3.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Zu(i);A3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?q3(n,this._parent):[n]}static \u0275fac=function(i){return new(i||t)(Le(Ll,9),Le(Po,10),Le(nN,10),Le(JM,10),Le(Tt,8),Le(oN,8))};static \u0275dir=F({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ee([doe]),Qe,rn]})}return t})();var Hw=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=F({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var Q3=new M("");var hoe={provide:Ll,useExisting:Gi(()=>ey)},ey=(()=>{class t extends Ll{callSetDisabledState;get submitted(){return en(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=xe(()=>this._submittedReactive());_submittedReactive=Y(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ae;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return ZM(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){C3(n.control||null,n,!1),uoe(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),coe(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new KM(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,i={}){this.form.reset(n,i),this._submittedReactive.set(!1),i?.emitEvent!==!1&&this.form._events.next(new QM(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(C3(i||null,n),loe(r)&&(ZM(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);ooe(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&soe(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aN(this.form,this),this._oldForm&&Vw(this._oldForm,this)}static \u0275fac=function(i){return new(i||t)(Le(Po,10),Le(nN,10),Le(oN,8))};static \u0275dir=F({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Q("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ee([hoe]),Qe,rn]})}return t})();var foe={provide:Zn,useExisting:Gi(()=>ty)},ty=(()=>{class t extends Zn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=K3(this,o)}ngOnChanges(n){this._added||this._setUpControl(),W3(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return q3(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||t)(Le(Ll,13),Le(Po,10),Le(nN,10),Le(JM,10),Le(Q3,8))};static \u0275dir=F({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ee([foe]),Qe,rn]})}return t})();var poe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=_o({type:t});static \u0275inj=Sr({})}return t})(),XM=class extends ef{constructor(e,n,i){super(iN(n),rN(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){$3(this,!1,e),e.forEach((i,r)=>{z3(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function x3(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var zw=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),o={};return x3(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Fw(r,o)}record(n,i=null){let r=this._reduceControls(n);return new YM(r,i)}control(n,i,r){let o={};return this.useNonNullable?(x3(i)?o=i:(o.validators=i,o.asyncValidators=r),new Xg(n,oe(O({},o),{nonNullable:!0}))):new Xg(n,i,r)}array(n,i,r){let o=n.map(s=>this._createControl(s));return new XM(o,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof Xg)return n;if(n instanceof ef)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(i,r,o)}else return this.control(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $w=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Q3,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:oN,useValue:n.callSetDisabledState??sN}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=_o({type:t});static \u0275inj=Sr({imports:[poe]})}return t})();var _i=parseInt(O_.major,10)>=19?{}:{allowSignalWrites:!0},Z3={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},Vc=new kd;var Vl=()=>{},Ta=oe(O({},Z3),{toJSON:()=>Z3}),Fi=()=>!1,ny=()=>!0;function moe(t,e){return Array.isArray(t)&&Array.isArray(e)&&!t.length&&!e.length}var qw=(t,e)=>t===e||moe(t,e);var X3={acceptNode(t){return"ownerSVGElement"in t?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},tf="\xA0",J3="\u2013";var Gw="-",cN="\u2212";var ln=new M("[WA_WINDOW]",{factory:()=>{let{defaultView:t}=g($e);if(!t)throw new Error("Window is not available");return t}}),Li=ln,Ul=new M("[WA_ANIMATION_FRAME]",{factory:()=>{let{requestAnimationFrame:t,cancelAnimationFrame:e}=g(Li);return new ne(i=>{let r=NaN,o=s=>{i.next(s),r=t(o)};return r=t(o),()=>{e(r)}}).pipe(sr())}});var IPe=new M("[WA_CACHES]",{factory:()=>g(Li).caches});var bPe=new M("[WA_CRYPTO]",{factory:()=>g(Li).crypto});var TPe=new M("[WA_CSS]",{factory:()=>g(Li).CSS??{escape:t=>t,supports:()=>!1}});var CPe=new M("[WA_HISTORY]",{factory:()=>g(Li).history});var ez=new M("[WA_LOCAL_STORAGE]",{factory:()=>g(Li).localStorage});var DPe=new M("[WA_LOCATION]",{factory:()=>g(Li).location});var Bl=new M("[WA_NAVIGATOR]",{factory:()=>g(Li).navigator}),tz=Bl,SPe=new M("[WA_MEDIA_DEVICES]",{factory:()=>g(tz).mediaDevices});var APe=new M("[WA_NETWORK_INFORMATION]",{factory:()=>g(Bl).connection||null});var xPe=new M("[WA_PAGE_VISIBILITY]",{factory:()=>{let t=g($e);return Gt(t,"visibilitychange").pipe(vt(0),H(()=>t.visibilityState!=="hidden"),mn(),zs({refCount:!1,bufferSize:1}))}});var RPe=new M("[WA_PERFORMANCE]",{factory:()=>g(Li).performance});var MPe=new M("[WA_SCREEN]",{factory:()=>g(Li).screen});var NPe=new M("[WA_SESSION_STORAGE]",{factory:()=>g(Li).sessionStorage});var PPe=new M("[WA_SPEECH_RECOGNITION]: [SPEECH_RECOGNITION]",{factory:()=>{let t=g(Li);return t.speechRecognition||t.webkitSpeechRecognition||null}});var OPe=new M("[WA_SPEECH_SYNTHESIS]",{factory:()=>g(Li).speechSynthesis});var nf=new M("[WA_USER_AGENT]",{factory:()=>g(tz).userAgent});function Ei(t,e,n){return Math.min(n,Math.max(e,t))}function iy(t,e,n){return t>=e&&t<n}function Ww(t,e,n){return Number.isNaN(t)||t<=e?e:t>=n?n:Math.round(t)}var goe=292;function Kw(t,e,n){if(t===1/0)return t;e=Math.min(e,goe);let[i,r=""]=`${t}`.split("e"),s=`${n(+`${i}e${Number(r)+e}`)}e`.split("e");return+`${s[0]}e${Number(s[1])-e}`}function nz(t,e=0){return Kw(t,e,Math.round)}function yoe(t,e=0){return Kw(t,e,Math.ceil)}function voe(t,e=0){return Kw(t,e,Math.floor)}function _oe(t,e=0){return Kw(t,e,Math.trunc)}function iz(t,e=0){return Number.isSafeInteger(Math.trunc(t*10**e))}function rz({value:t,precision:e,method:n}){switch(n){case"ceil":return yoe(t,e);case"floor":return voe(t,e);case"round":return nz(t,e);default:return _oe(t,e)}}function az(t,e){return t.slice(0,Math.max(e,0)).concat(t.slice(Math.max(e+1,0)))}var cz=(t,e)=>t.replaceAll(/[^0-9A-Za-z--]/gi,e);function Br(t){return typeof t=="string"}function wi(t,e,n,i={self:!0}){let r=ur(n)?n:Y(n),o=g(t,i),s=o[`${e.toString()}Change`],c;return sn(()=>{let u=r();c!==u&&(ur(o[e])?o[e].set(u):o[e]=u,o.ngOnChanges?.({}),s?.emit?.(u),c=u)},_i),r}var Eoe="position: fixed; visibility: hidden; pointer-events: none",woe="height: fit-content; line-height: 1em;",oz="tui-font-size-watcher";function uz(t,e=window){if(e.document.querySelector(`.${oz}`))return()=>{};let n=e.document.createElement("iframe"),i=()=>{let{innerWidth:s,outerWidth:c,devicePixelRatio:u}=e;n.width=`${s===c?s:s/u}`};e.document.body.append(n),e.addEventListener("resize",i);let r=n.contentWindow?.document,o=new ResizeObserver(()=>t(r?.body.offsetHeight||0));return n.setAttribute("class",oz),n.setAttribute("style",Eoe),r?.documentElement.style.setProperty("font","-apple-system-body"),r?.body.setAttribute("style",woe),r?.body.insertAdjacentText("beforeend",".".repeat(1e3)),o.observe(r?.body||n),i(),()=>{o.disconnect(),n.remove(),e.removeEventListener("resize",i)}}function lz(t){let e=[];return t.find((n,i,r)=>(e=r,!0)),e}function Yw(t){return typeof t=="number"}function Er(t){return t!=null}function ry(t,e,n){return t===null?e===null:e===null?!1:n(t,e)}function pt(t,e,n=!1){return{provide:t,useExisting:e,multi:n}}function ys(t,e,n){return{provide:t,useFactory:()=>O(O({},g(t,{optional:!0,skipSelf:!0})||n),g(e,{optional:!0})||e)}}function Ioe(t){let e=[],n=!1,i;return function(...o){return n&&e.length===o.length&&o.every((c,u)=>c===e[u])||(e=o,i=t.apply(this,o),n=!0),i}}function sz(t,e,n=!0){return function(){let r=t.call(this);return Object.defineProperty(this,e,{enumerable:n,value:r}),r}}function jr(t,e,n){if(typeof t=="function"){let u=e;if(u.kind==="getter")return sz(t,u.name);if(u.kind==="method")return Ioe(t);throw new Qw}let{get:i,enumerable:r,value:o}=n,s=e;if(i)return{configurable:!0,enumerable:r,get:sz(i,s,r)};if(typeof o!="function")throw new Qw;let c=o;return{configurable:!0,enumerable:r,get(){let u=[],d=!1,f,m=(...y)=>(d&&u.length===y.length&&y.every((C,R)=>C===u[R])||(u=y,f=c.apply(this,y),d=!0),f);return Object.defineProperty(this,s,{configurable:!0,value:m}),m}}}var Qw=class extends Error{constructor(){super("")}};function jn(t){return`${t}px`}var boe=new M("",{factory:()=>{let t=new Map;return g(xt).onDestroy(()=>t.forEach(e=>e.destroy())),t}});function ci(t){let e=g(boe),n=g(Jt);e.has(t)||e.set(t,k_(t,{environmentInjector:n}))}function hz(){return new ne(t=>{let e=dz(),n=()=>{e=dz(),e.onclose=()=>n(),e.oncancel=i=>{i.preventDefault(),t.next()}};return n(),()=>e.destroy()})}function dz(){return typeof CloseWatcher>"u"?{destroy:()=>{}}:new CloseWatcher}function Zw(t){return new ne(e=>t?.valueChanges?.pipe(vt(t.value)).subscribe(e))}function Ht(t,e,n={}){return Gt(t,e,n)}function Xw(t,e=Boolean){return La(Ue(n=>e(n)?t(n):kt))}function oy(t){return t.changes.pipe(vt(null),H(()=>lz(t)))}function fz(t){return Ht(t===t.ownerDocument.documentElement?t.ownerDocument:t,"scroll")}function Jw(t){return La(En(nT.pipe(Dt(t),Cr(()=>kt),uo(null))))}var pz={now:Cu.now.bind(Cu),schedule(t,e,n){return Cu.schedule(function(i){return en(()=>t.call(this,i))},e,n)}};function Ca(t=g(Tt)){return Wt(()=>t.markForCheck())}function lN(t=g(_e)){return e=>new ne(n=>e.subscribe({next:i=>t.run(()=>n.next(i)),error:i=>t.run(()=>n.error(i)),complete:()=>t.run(()=>n.complete())}))}function Oo(t=g(_e)){return e=>new ne(n=>t.runOutsideAngular(()=>e.subscribe(n)))}function ko(t=g(_e)){return La(Oo(t),lN(t))}var uN=class{constructor(e,n=ao){this.zoneConditionFn=e,this.scheduler=n}now(){return this.scheduler.now()}schedule(...e){return this.zoneConditionFn(()=>this.scheduler.schedule(...e))}};function Da(t=g(_e),e=ao){return new uN(t.runOutsideAngular.bind(t),e)}var Toe=/^((?!chrome|android).)*safari/i,Coe=/ipad|iphone|ipod/i;function dN({userAgent:t,maxTouchPoints:e}){return Coe.test(t)||Toe.test(t)&&e>1}var Doe=new M("",{factory:()=>dN(g(Bl))}),Soe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series([46])0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/,Aoe=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \-/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ /])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/,xoe=new M("",{factory:()=>Soe.test(g(nf).toLowerCase())||Aoe.test(g(nf).slice(0,4).toLowerCase())}),ZPe=new M("",{factory:()=>g(xoe)&&!g(Doe)});var XPe=new M("",{factory:()=>{let t=g(ln).matchMedia("(pointer: coarse)");return an(Gt(t,"change").pipe(H(()=>t.matches)),{initialValue:t.matches})}}),JPe=new M("",{factory:()=>!!g(ln)?.webkitConvertPointFromNodeToPage});function mz({ownerDocument:t}){let e=t?.defaultView,n=e.safari!==void 0&&e.safari?.pushNotification?.toString()==="[object SafariRemoteNotification]",i=(e.navigator?.vendor?.includes("Apple")&&!e.navigator?.userAgent?.includes("CriOS")&&!e.navigator?.userAgent?.includes("FxiOS"))??!1;return n||i}function Xi(t){let e=new M("",{factory:()=>t});return[e,n=>ys(e,n,t)]}function eI(t){return t instanceof Je?t.nativeElement:t}function hN(t){return Array.isArray(t)?t:[t]}function gz(t,e){try{return t.contains(e)||!!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}catch{return!1}}function Roe(t){return t.matches("input")}function Moe(t){return t.matches("textarea")}function yz(t){return Roe(t)||Moe(t)}function rf(t){return!!t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function vs(t){let e=t?.ownerDocument.defaultView;return!!t&&!!e&&t instanceof e.HTMLElement}function jl(t){return t.composedPath()[0]}function tI(t){return"getRootNode"in t&&t.isConnected?t.getRootNode():t.ownerDocument}function nI(t){let{ownerDocument:e}=t;if(!e?.defaultView||!t.getBoundingClientRect)return null;let{innerWidth:n,innerHeight:i}=e.defaultView,r=tI(t),o=t.getBoundingClientRect();if(o.width===0&&o.height===0)return null;let s=Ei(Math.round(o.left)+2,0,n),c=Ei(Math.round(o.top)+2,0,i),u=Ei(Math.round(o.right)-2,0,n),d=Ei(Math.round(o.bottom)-2,0,i),f=Ei(Math.round(o.left+o.width/2),0,n),m=Ei(Math.round(o.top+o.height/2),0,i),_=[r.elementFromPoint(f,c),r.elementFromPoint(f,d),r.elementFromPoint(s,m),r.elementFromPoint(u,m)].filter(Er);if(!_.length)return[];let C=_.filter(R=>!t.contains(R)&&!R.contains(t));return C.length===4?C:null}function vz(t,e){let{offsetTop:n,offsetLeft:i,offsetParent:r}=e;for(;vs(r)&&r!==t;)n+=r.offsetTop,i+=r.offsetLeft,r=r.offsetParent;return{offsetTop:n,offsetLeft:i}}function de(){return g(Je).nativeElement}function pN(t){return yz(t)&&!t.readOnly&&t.inputMode!=="none"||!!t.isContentEditable}function mN(t=0,e=0){let n={x:t,y:e,left:t,right:t,top:e,bottom:e,width:0,height:0};return oe(O({},n),{toJSON:()=>n})}function gN(t,e=g(Un)){let n=e.get(ln);!n.tuiInputPatched&&sc(e.get(pi))&&(n.tuiInputPatched=!0,fN(n.HTMLInputElement.prototype),fN(n.HTMLTextAreaElement.prototype),fN(n.HTMLSelectElement.prototype));let i=ur(t)?void 0:eI(t),r=()=>{},o=O({injector:e},_i),s=Y(i?.value||""),c=u=>{let d=()=>en(()=>s.set(u.value));return u.addEventListener("input",d,{capture:!0}),u.addEventListener("tui-input",d,{capture:!0}),()=>{u.removeEventListener("input",d,{capture:!0}),u.removeEventListener("tui-input",d,{capture:!0})}};return e.get(xt).onDestroy(()=>r()),ur(t)?sn(()=>{i=eI(t()),r(),i&&!i.matches("select[multiple]")&&(s.set(i.value),r=c(i))},o):i&&!i.matches("select[multiple]")&&(r=c(i)),sn(()=>{let u=s();if(!i?.matches("select[multiple]"))if(i?.matches(":focus")&&"selectionStart"in i){let{selectionStart:d,selectionEnd:f}=i;i.value=u,i.setSelectionRange(d,f)}else i&&(i.value=u)},o),s}function fN(t){let{set:e}=Object.getOwnPropertyDescriptor(t,"value");Object.defineProperty(t,"value",{set(n){let i=this.value,r=new CustomEvent("tui-input",{detail:n,bubbles:!0});e.call(this,n),i!==n&&this.dispatchEvent(r)}})}function of({activeElement:t}){if(!t?.shadowRoot)return t;let e=t.shadowRoot.activeElement;for(;e?.shadowRoot;)e=e.shadowRoot.activeElement;return e}function _z(t){let e=of(t);vs(e)&&e.blur()}function Ez(t){return an(Xt(Gt(t,"focus",{capture:!0}).pipe(H(ny)),Gt(t,"blur",{capture:!0}).pipe(H(Fi))).pipe(co(pz)),{initialValue:!1})}function iI(t){if(t.hasAttribute("disabled")||t.getAttribute("tabIndex")==="-1")return!1;if(vs(t)&&t.isContentEditable||t.getAttribute("tabIndex")==="0")return!0;switch(t.tagName){case"A":case"LINK":return t.hasAttribute("href");case"AUDIO":case"VIDEO":return t.hasAttribute("controls");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;case"INPUT":return t.getAttribute("type")!=="hidden";default:return!1}}function yN(t){return!t.hasAttribute("disabled")&&(t.getAttribute("tabIndex")==="-1"||iI(t))}function sy({initial:t,root:e,previous:n=!1,keyboard:i=!0}){if(!e.ownerDocument)return null;let r=i?iI:yN,o=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,X3);o.currentNode=t;do if(vs(o.currentNode)&&(t=o.currentNode),vs(t)&&r(t))return t;while(n?o.previousNode():o.nextNode());return null}function sf(t){return!!t?.ownerDocument&&of(t.ownerDocument)===t&&t.ownerDocument.hasFocus()}function ay(t){let e=t?.ownerDocument&&of(t.ownerDocument);return!!e&&t.contains(e)&&t.ownerDocument?.hasFocus()}function wz(t,e,n){for(t+=n;t>=0&&t<e.length;){if(e[t]?.focus(),sf(e[t]))return;t+=n}}var Noe=new M("",{factory:()=>{let t={onRemovalComplete:()=>{}},e=new ct(null),n=g(cc,{optional:!0})||t,{onRemovalComplete:i=t.onRemovalComplete}=n;return n.onRemovalComplete=(r,o)=>{e.next(r),i.call(n,r,o)},e.pipe(Ue(r=>fi(0).pipe(H(()=>null),vt(r))),sr())}});function Iz(t,e=null){return tI(t).activeElement!==t&&!t.matches(":disabled")&&!e?.contains(t)&&yN(t)}function Poe(t){return Xt(Ht(t,"focusin").pipe(H(({target:e})=>e)),Ht(t,"focusout").pipe(ze(({target:e,relatedTarget:n})=>!!n&&Iz(e)),H(({relatedTarget:e})=>e)))}var bz=new M("",{factory:()=>{let t=g(Noe),e=g(ln),n=g($e),i=g(_e),r=Ht(e,"focusout",{capture:!0}),o=Ht(e,"focusin",{capture:!0}),s=Ht(e,"blur"),c=Ht(e,"mousedown"),u=Ht(e,"mouseup");return Xt(r.pipe(En(c),Ha({delay:()=>u}),sT(t),ze(([d,f])=>Iz(jl(d),f)),H(([{relatedTarget:d}])=>d)),s.pipe(H(()=>n.activeElement),ze(d=>!!d?.matches("iframe"))),o.pipe(Ue(d=>{let f=jl(d),m=tI(f)||n;return m===n?te(f):Poe(m).pipe(vt(f))})),c.pipe(Ue(d=>{let f=jl(d);return!n.activeElement||n.activeElement===n.body?te(f):r.pipe(ni(1),H(()=>f),En(fi(0,Da(i))))}))).pipe(mn(),sr())}}),VOe=new M("",{factory:()=>g($e).querySelector("base")?.href??""}),Ooe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series([46])0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/,koe=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br([ev])w|bumb|bw-([nu])|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do([cp])o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly([-_])|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-([mpt])|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c([- _agpst])|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac([ \-/])|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja([tv])a|jbro|jemu|jigs|kddi|keji|kgt([ /])|klon|kpt |kwc-|kyo([ck])|le(no|xi)|lg( g|\/([klu])|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t([- ov])|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30([02])|n50([025])|n7(0([01])|10)|ne(([cm])-|on|tf|wf|wg|wt)|nok([6i])|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan([adt])|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c([-01])|47|mc|nd|ri)|sgh-|shar|sie([-m])|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel([im])|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c([- ])|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/,Xn=new M("",{factory:()=>Ooe.test(g(nf).toLowerCase())||koe.test(g(nf).slice(0,4).toLowerCase())}),Uc=new M("",{factory:()=>dN(g(Bl))}),vN=new M("",{factory:()=>g(Xn)&&!g(Uc)}),Tz=new M("",{factory:()=>!!g(ln)?.webkitConvertPointFromNodeToPage}),_N=new M("",{factory:()=>g(Uc)?"ios":g(vN)?"android":"web"}),UOe=new M("",{factory:()=>{let t=g(ln).matchMedia("(pointer: coarse)");return an(Gt(t,"change").pipe(H(()=>t.matches)),{initialValue:t.matches})}}),Foe=new M("",{factory:()=>!!g(ln).Cypress}),Loe=new M("",{factory:Fi}),BOe=new M("",{factory:()=>g(Foe)||g(Loe)||g(Bl).webdriver}),Cz=new M("",{factory:()=>null});var jOe=new M("",{factory:()=>sc(g(pi))?new Range:{}}),Dz=new M("",{factory:()=>{let t=g(ln);return Ht(t,"resize").pipe(vt(null),H(()=>{let e=Math.max(t.document.documentElement.clientWidth||0,t.innerWidth||0,t.visualViewport?.width||0),n=Math.max(t.document.documentElement.clientHeight||0,t.innerHeight||0,t.visualViewport?.height||0),i={width:e,height:n,top:0,left:0,right:e,bottom:n,x:0,y:0};return oe(O({},i),{toJSON:()=>JSON.stringify(i)})}),zs({bufferSize:1,refCount:!0}))}});var Voe=["viewContainer"],cy=class{};function rI(t){return{provide:cy,useFactory:()=>g(t).valueTransformer}}var uy={fromControlValue:Yt,toControlValue:Yt},Sz={self:!0,optional:!0},Sa=(()=>{let e=class e{constructor(){this.fallback=g(Cz,Sz),this.refresh$=new at,this.pseudoInvalid=Y(null),this.internal=Y(this.fallback),this.control=g(Zn,{self:!0}),this.cdr=g(Tt),this.transformer=g(cy,Sz)??uy,this.value=xe(()=>this.internal()??this.fallback),this.readOnly=Y(!1),this.touched=Y(!1),this.status=Y(void 0),this.disabled=xe(()=>this.status()==="DISABLED"),this.interactive=xe(()=>!this.disabled()&&!this.readOnly()),this.invalid=xe(()=>this.pseudoInvalid()!==null?!!this.pseudoInvalid()&&this.interactive():this.interactive()&&this.touched()&&this.status()==="INVALID"),this.mode=xe(()=>this.readOnly()?"readonly":this.invalid()?"invalid":"valid"),this.onTouched=Vl,this.onChange=Vl,this.control.valueAccessor=this,this.refresh$.pipe(js(0),vt(null),H(()=>this.control.control),ze(Boolean),mn(),Ue(i=>Xt(i.valueChanges,i.statusChanges,i.events||kt).pipe(vt(null))),Dt()).subscribe(()=>this.update())}set readOnlySetter(i){this.readOnly.set(i)}set invalidSetter(i){this.pseudoInvalid.set(i)}registerOnChange(i){this.refresh$.next(),this.onChange=r=>{let o=en(()=>this.internal());r!==o&&(i(this.transformer.toControlValue(r)),this.internal.set(r),this.update())}}registerOnTouched(i){this.onTouched=()=>{i(),this.update()}}setDisabledState(){this.update()}writeValue(i){let r=this.control instanceof Jg?this.control.model:i;this.internal.set(this.transformer.fromControlValue(r)),this.update()}update(){this.status.set(this.control.control?.status),this.touched.set(!!this.control.control?.touched),this.cdr.markForCheck()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,inputs:{readOnlySetter:[0,"readOnly","readOnlySetter"],invalidSetter:[0,"invalid","invalidSetter"]},standalone:!1});let t=e;return t})();function af(t){return pt(Sa,t)}var oI=(()=>{let e=class e{constructor(){this.injector=g(Un),this.nothing=g(cf).attach(this)}addComponentChild(i){let r=i.createInjector(this.injector),o=this.vcr.createComponent(i.component,{injector:r});return o.changeDetectorRef.detectChanges(),o}addTemplateChild(i,r){return this.vcr.createEmbeddedView(i,r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,viewQuery:function(r,o){if(r&1&&dr(Voe,5,Vt),r&2){let s;Bt(s=jt())&&(o.vcr=s.first)}},standalone:!1});let t=e;return t})(),cf=(()=>{let e=class e{attach(i){this.host=i}add(i){return this.safeHost.addComponentChild(i)}remove({hostView:i}){this.removeTemplate(i)}addTemplate(i,r){return this.safeHost.addTemplateChild(i,r)}removeTemplate(i){i.destroyed||i.destroy()}get safeHost(){if(!this.host)throw new EN;return this.host}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function sI(t){return pt(cf,t)}var EN=class extends Error{constructor(){super("")}};var dI=7;var uf=12,aI=1,wN=0,cI=11,Hl=0,zl=9999,Uoe=2099,uI=`${tf}${J3}${tf}`,Boe=1e3,joe=60,Hoe=60,zoe=24,$oe=Boe*joe,qoe=$oe*Hoe,rke=qoe*zoe,ly=10,Goe=2*ly+uI.length,lI={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},Aa={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11},Vi=class t{constructor(e){this.year=e}static isValidYear(e){return Number.isInteger(e)&&iy(e,Hl,zl+1)}static isLeapYear(e){return e%400===0||e%4===0&&e%100!==0}static getAbsoluteLeapYears(e){return Math.ceil(e/400)+(Math.ceil(e/4)-Math.ceil(e/100))}static lengthBetween(e,n){return n.year-e.year}static normalizeYearPart(e){return Ww(e,Hl,zl)}get formattedYear(){return String(this.year).padStart(4,"0")}get isLeapYear(){return t.isLeapYear(this.year)}get absoluteLeapYears(){return t.getAbsoluteLeapYears(this.year)}yearBefore({year:e}){return this.year<e}yearSameOrBefore({year:e}){return this.year<=e}yearSame({year:e}){return this.year===e}yearSameOrAfter({year:e}){return this.year>=e}yearAfter({year:e}){return this.year>e}append({year:e=0}){let n=this.year+e;return new t(n)}toString(){return this.formattedYear}valueOf(){return this.year}[Symbol.toPrimitive](e){return Date.prototype[Symbol.toPrimitive].call(this,e)}toJSON(){return this.formattedYear}},_n=class t extends Vi{constructor(e,n){super(e),this.month=n}static isValidMonth(e,n){return Vi.isValidYear(e)&&t.isValidMonthPart(n)}static getMonthDaysCount(e,n){switch(e){case Aa.April:case Aa.June:case Aa.November:case Aa.September:return 30;case Aa.February:return n?29:28;default:return 31}}static currentLocal(){let e=new Date;return new t(e.getFullYear(),e.getMonth())}static currentUtc(){let e=new Date;return new t(e.getUTCFullYear(),e.getUTCMonth())}static lengthBetween(e,n){let i=e.month+e.year*12;return n.month+n.year*12-i}static normalizeMonthPart(e){return Ww(e,wN,cI)}static isValidMonthPart(e){return Number.isInteger(e)&&iy(e,wN,cI+1)}get formattedMonthPart(){return String(this.month+1).padStart(2,"0")}get daysCount(){return t.getMonthDaysCount(this.month,this.isLeapYear)}monthBefore(e){return this.yearBefore(e)||this.yearSame(e)&&this.month<e.month}monthSameOrBefore(e){return this.yearBefore(e)||this.yearSame(e)&&this.month<=e.month}monthSame(e){return this.yearSame(e)&&this.month===e.month}monthSameOrAfter(e){return this.yearAfter(e)||this.yearSame(e)&&this.month>=e.month}monthAfter(e){return this.yearAfter(e)||this.yearSame(e)&&this.month>e.month}append({year:e=0,month:n=0}){let i=(this.year+e)*uf+this.month+n;return new t(Math.floor(i/uf),i%uf)}toString(){return`${this.formattedMonthPart}.${this.formattedYear}`}valueOf(){return this.toLocalNativeDate().valueOf()}toJSON(){return`${super.toJSON()}-${this.formattedMonthPart}`}toLocalNativeDate(){let e=new Date(this.year,this.month);return e.setFullYear(this.year),e}toUtcNativeDate(){return new Date(Date.UTC(this.year,this.month))}},Xe=class t extends _n{constructor(e,n,i){super(e,n),this.day=i}static fromLocalNativeDate(e){return new t(e.getFullYear(),e.getMonth(),e.getDate())}static fromUtcNativeDate(e){return new t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}static isValidDay(e,n,i){return _n.isValidMonth(e,n)&&Number.isInteger(i)&&iy(i,aI,_n.getMonthDaysCount(n,Vi.isLeapYear(e))+1)}static currentLocal(){let e=new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate();return new t(n,i,r)}static currentUtc(){let e=new Date,n=e.getUTCFullYear(),i=e.getUTCMonth(),r=e.getUTCDate();return new t(n,i,r)}static normalizeOf(e,n,i){let r=Vi.normalizeYearPart(e),o=_n.normalizeMonthPart(n),s=t.normalizeDayPart(i,o,r);return new t(r,o,s)}static lengthBetween(e,n){return Math.round((n.toLocalNativeDate().getTime()-e.toLocalNativeDate().getTime())/(1e3*60*60*24))}static parseRawDateString(e,n="DMY"){switch(n){case"MDY":return{day:parseInt(e.slice(3,5),10),month:parseInt(e.slice(0,2),10)-1,year:parseInt(e.slice(6,10),10)};case"YMD":return{day:parseInt(e.slice(8,10),10),month:parseInt(e.slice(5,7),10)-1,year:parseInt(e.slice(0,4),10)};case"DMY":default:return{day:parseInt(e.slice(0,2),10),month:parseInt(e.slice(3,5),10)-1,year:parseInt(e.slice(6,10),10)}}}static normalizeParse(e,n="DMY"){let{day:i,month:r,year:o}=this.parseRawDateString(e,n);return t.normalizeOf(o,r,i)}static jsonParse(e){let{day:n,month:i,year:r}=this.parseRawDateString(e,"YMD");if(!_n.isValidMonth(r,i)||!Number.isInteger(n)||!iy(n,aI,_n.getMonthDaysCount(i,Vi.isLeapYear(r))+1))throw new IN(r,i,n);return new t(r,i,n)}static normalizeDayPart(e,n,i){let r=_n.getMonthDaysCount(n,Vi.isLeapYear(i));return Ww(e,1,r)}get formattedDayPart(){return String(this.day).padStart(2,"0")}get isWeekend(){let e=this.dayOfWeek(!1);return e===lI.Saturday||e===lI.Sunday}dayOfWeek(e=!0){let n=e?this.toLocalNativeDate().getDay()-1:this.toLocalNativeDate().getDay();return n<0?6:n}dayBefore(e){return this.monthBefore(e)||this.monthSame(e)&&this.day<e.day}daySameOrBefore(e){return this.monthBefore(e)||this.monthSame(e)&&this.day<=e.day}daySame(e){return this.monthSame(e)&&this.day===e.day}daySameOrAfter(e){return this.monthAfter(e)||this.monthSame(e)&&this.day>=e.day}dayAfter(e){return this.monthAfter(e)||this.monthSame(e)&&this.day>e.day}dayLimit(e,n){return e!==null&&this.dayBefore(e)?e:n!==null&&this.dayAfter(n)?n:this}append({year:e=0,month:n=0,day:i=0}){let r=(this.year+e)*uf+this.month+n,o=Math.floor(r/uf),s=r%uf,c=Math.min(this.day,_n.getMonthDaysCount(s,Vi.isLeapYear(o)))+i;for(;c>_n.getMonthDaysCount(s,Vi.isLeapYear(o));)c-=_n.getMonthDaysCount(s,Vi.isLeapYear(o)),s===Aa.December?(o++,s=Aa.January):s++;for(;c<aI;)s===Aa.January?(o--,s=Aa.December):s--,c+=_n.getMonthDaysCount(s,Vi.isLeapYear(o));return new t(o,s,c)}getFormattedDay(e,n){let i=this.formattedDayPart,r=this.formattedMonthPart,o=this.formattedYear;switch(e){case"MDY":return`${r}${n}${i}${n}${o}`;case"YMD":return`${o}${n}${r}${n}${i}`;case"DMY":default:return`${i}${n}${r}${n}${o}`}}toString(e="DMY",n="."){return this.getFormattedDay(e,n)}toJSON(){return`${super.toJSON()}-${this.formattedDayPart}`}toLocalNativeDate(){let e=super.toLocalNativeDate();return e.setDate(this.day),e}toUtcNativeDate(){return new Date(Date.UTC(this.year,this.month,this.day))}},IN=class extends Error{constructor(e,n,i){super("")}},dy=class t{constructor(e,n){this.from=e,this.to=n}static sort(e,n){return e.monthSameOrBefore(n)?new t(e,n):new t(n,e)}get isSingleMonth(){return this.from.monthSame(this.to)}monthSame(e){return this.from.monthSame(e.from)&&this.to.monthSame(e.to)}toString(){return`${this.from}${uI}${this.to}`}},Ui=class t extends dy{constructor(e,n){super(e,n),this.from=e,this.to=n}static sort(e,n){return e.daySameOrBefore(n)?new t(e,n):new t(n,e)}static normalizeParse(e,n="DMY"){let i=Xe.normalizeParse(e.slice(0,ly),n);return e.length<Goe?new t(i,i):t.sort(i,Xe.normalizeParse(e.slice(ly+uI.length),n))}get isSingleDay(){return this.from.daySame(this.to)}daySame(e){return this.from.daySame(e.from)&&this.to.daySame(e.to)}dayLimit(e,n){return new t(this.from.dayLimit(e,n),this.to.dayLimit(e,n))}getFormattedDayRange(e,n){let i=this.from.getFormattedDay(e,n),r=this.to.getFormattedDay(e,n);return`${i}${uI}${r}`}toString(e="DMY",n="."){return this.getFormattedDayRange(e,n)}toArray(){let{from:e,to:n}=this,i=[];for(let r=e.toUtcNativeDate();r<=n.toUtcNativeDate();r.setDate(r.getDate()+1))i.push(Xe.fromLocalNativeDate(r));return i}},Bi=new Xe(Hl,wN,aI),wr=new Xe(zl,cI,31),Az=new Xe(Uoe,cI,31);var _s=(()=>{let e=class e{constructor(){this.control=g(Zn,{self:!0,optional:!0}),this.active$=g(bz),this.zone=g(_e),this.el=de(),this.tuiActiveZoneParent=null,this.subActiveZones=[],this.directParentActiveZone=g(e,{skipSelf:!0,optional:!0}),this.tuiActiveZoneChange=this.active$.pipe(H(i=>!!i&&this.contains(i)),vt(!1),mn(),lv(1),Wt(i=>{!i&&typeof this.control?.valueAccessor.onTouched=="function"&&this.control.valueAccessor.onTouched()}),ko(this.zone),sr()),this.directParentActiveZone?.addSubActiveZone(this)}set tuiActiveZoneParentSetter(i){this.setZone(i)}ngOnDestroy(){this.directParentActiveZone?.removeSubActiveZone(this),this.tuiActiveZoneParent?.removeSubActiveZone(this)}contains(i){return this.el.contains(i)||this.subActiveZones.some((r,o,s)=>s.indexOf(r)===o&&r.contains(i))}setZone(i){this.tuiActiveZoneParent?.removeSubActiveZone(this),i?.addSubActiveZone(this),this.tuiActiveZoneParent=i}addSubActiveZone(i){this.subActiveZones=[...this.subActiveZones,i]}removeSubActiveZone(i){this.subActiveZones=az(this.subActiveZones,this.subActiveZones.indexOf(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiActiveZone","",5,"ng-container"],["","tuiActiveZoneChange","",5,"ng-container"],["","tuiActiveZoneParent","",5,"ng-container"]],hostBindings:function(r,o){r&1&&Q("mousedown.zoneless",function(){return 0},Pr)},inputs:{tuiActiveZoneParentSetter:[0,"tuiActiveZoneParent","tuiActiveZoneParentSetter"]},outputs:{tuiActiveZoneChange:"tuiActiveZoneChange"},exportAs:["tuiActiveZone"]});let t=e;return Tr([jr],t.prototype,"setZone",null),t})();var Koe=typeof MutationObserver<"u"?MutationObserver:class{observe(){}disconnect(){}takeRecords(){return[]}},Rz=new M("[WA_MUTATION_OBSERVER_INIT]"),xz=Rz;function Mz(t){return{provide:Rz,useValue:t}}function lf(t,e){return t.getAttribute(e)!==null||void 0}function Qoe(){let{nativeElement:t}=g(Je);return{attributeFilter:t.getAttribute("attributeFilter")?.split(",").map(n=>n.trim()),attributeOldValue:lf(t,"attributeOldValue"),attributes:lf(t,"attributes"),characterData:lf(t,"characterData"),characterDataOldValue:lf(t,"characterDataOldValue"),childList:lf(t,"childList"),subtree:lf(t,"subtree")}}var Nz=(()=>{class t extends Koe{nativeElement=g(Je).nativeElement;config=g(xz);attributeFilter="";attributeOldValue="";attributes="";characterData="";characterDataOldValue="";childList="";subtree="";waMutationObserver=new Ae;constructor(){super(n=>{this.waMutationObserver.emit(n)}),this.observe(this.nativeElement,this.config)}ngOnDestroy(){this.disconnect()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=F({type:t,selectors:[["","waMutationObserver",""]],inputs:{attributeFilter:"attributeFilter",attributeOldValue:"attributeOldValue",attributes:"attributes",characterData:"characterData",characterDataOldValue:"characterDataOldValue",childList:"childList",subtree:"subtree"},outputs:{waMutationObserver:"waMutationObserver"},exportAs:["MutationObserver"],features:[ee([{provide:xz,useFactory:Qoe}]),Qe]})}return t})();var bN="tui-enter",xa="tui-leave",$l=(()=>{let e=class e{constructor(){if(this.renderer=g(Vt)._hostLView?.[11],this.el=de(),this.app=g(Xo),Ys(()=>this.remove()),!this.renderer)return;let i=this.renderer.delegate||this.renderer,{removeChild:r,data:o}=i;if(o[xa]){o[xa].push(this.el);return}o[xa]=[this.el],Ys(()=>{i.removeChild=(s,c,u)=>{let d=()=>r.call(i,s,c,u),m=o[xa].find(N=>c.contains(N));if(!m){d();return}m.classList.remove(bN);let{length:y}=m.getAnimations?.()||[];m.classList.add(xa);let _=m.getAnimations?.()??[],C=_[_.length-1],R=()=>{(!s||s.contains(c))&&(d(),this.app.tick())};_.length>y&&C?(C.onfinish=R,C.oncancel=R):d()}})}ngOnDestroy(){let i=this.renderer?.data||{[xa]:[]};setTimeout(()=>{i[xa]=i[xa].filter(r=>r!==this.el)})}remove(){this.el.isConnected&&!this.el.getAnimations?.().length&&this.el.classList.remove(bN)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiAnimated",""]],hostAttrs:[1,"tui-enter"],hostBindings:function(r,o){r&1&&Q("animationend.self",function(){return o.remove()})("animationcancel.self",function(){return o.remove()})}});let t=e;return t})(),df=(()=>{let e=class e{constructor(){this.el=de(),this.renderer=g(Zo)}handle(){this.el.classList.remove(bN),this.renderer.data[xa]=Array.from(this.el.children)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiAnimatedParent",""]],hostBindings:function(r,o){r&1&&Q("waMutationObserver",function(){return o.handle()})},features:[ee([Mz({childList:!0})]),Oe([$l,{directive:Nz,outputs:["waMutationObserver","waMutationObserver"]}])]});let t=e;return t})();var Oz=(()=>{let e=class e{constructor(){return this.nativeElement=de(),new Je(this.nativeElement)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiElement",""]],exportAs:["elementRef"]});let t=e;return t})();var kz=(()=>{let e=class e{constructor(){this.doc=g($e),this.el=de(),this.activeElement=null,this.initialized=!1,Promise.resolve().then(()=>{this.initialized=!0,this.activeElement=of(this.doc),this.el.focus()})}ngOnDestroy(){_z(this.doc),Promise.resolve().then(()=>{vs(this.activeElement)&&this.activeElement.focus()})}onFocusIn(i){let{firstElementChild:r}=this.el;!gz(this.el,i)&&r&&sy({initial:r,root:this.el})?.focus()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(r,o){r&1&&Q("focusin.zoneless",function(c){return o.initialized&&o.onFocusIn(c.target)},dD)}});let t=e;return t})();var Zoe=new M(""),Fz=(()=>{let e=class e{constructor(){this.handler=g(Zoe,{optional:!0}),this.nothing=g(xt).onDestroy(this.handler&&sc(g(pi))&&typeof ResizeObserver<"u"?uz(this.handler,g(ln)):Vl)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e});let t=e;return t})();function Joe({currentTarget:t,relatedTarget:e}){return!rf(e)||!rf(t)||!t.contains(e)}var ql=(()=>{let e=class e extends ne{constructor(){super(i=>this.stream$.subscribe(i)),this.el=de(),this.zone=g(_e),this.stream$=Xt(Ht(this.el,"mouseenter").pipe(H(ny)),Ht(this.el,"mouseleave").pipe(H(Fi)),Ht(this.el,"mouseout").pipe(ze(Joe),H(Fi))).pipe(mn(),ko(this.zone))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();var TN=(()=>{let e=class e{constructor(){this.tuiHoveredChange=g(ql)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiHoveredChange",""]],outputs:{tuiHoveredChange:"tuiHoveredChange"},features:[ee([ql])]});let t=e;return t})();var CN=class{constructor(e){this.internalDirectiveInstance=e}get $implicit(){return this.internalDirectiveInstance.tuiLet}get tuiLet(){return this.internalDirectiveInstance.tuiLet}},DN=(()=>{let e=class e{constructor(){g(Vt).createEmbeddedView(g(Qt),new CN(this))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiLet",""]],inputs:{tuiLet:"tuiLet"}});let t=e;return t})();var hI=(()=>{let e=class e{constructor(){this.el=de(),this.control$=new ct(null),this.sub=this.control$.pipe(Ue(i=>i?.events||te(null)),js(0),Oo(),Jw()).subscribe(()=>this.handleValidation()),this.tuiNativeValidator="Invalid"}validate(i){return this.control$.next(i),null}handleValidation(){let i=!!this.control$.value?.touched&&this.control$.value?.invalid;this.el.closest("tui-textfield")?.classList.toggle("tui-invalid",i),this.el.setCustomValidity?.(i?this.tuiNativeValidator:"")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiNativeValidator",""]],hostBindings:function(r,o){r&1&&Q("focusout",function(){return o.handleValidation()})},inputs:{tuiNativeValidator:"tuiNativeValidator"},features:[ee([pt(Po,e,!0)])]});let t=e;return t})();var Vz=(()=>{let e=class e extends ne{constructor(){super(i=>this.obscured$.subscribe(i)),this.el=de(),this.obscured$=g(Ul).pipe(za(100,Da()),H(()=>nI(this.el)),vt(null),mn(),ko())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),fI=(()=>{let e=class e{constructor(){this.activeZone=g(_s,{optional:!0}),this.enabled$=new ct(!1),this.obscured$=g(Vz,{self:!0}).pipe(H(i=>!!i?.every(r=>!this.activeZone?.contains(r)))),this.tuiObscured=this.enabled$.pipe(Xw(()=>this.obscured$))}set tuiObscuredEnabled(i){this.enabled$.next(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiObscured",""]],inputs:{tuiObscuredEnabled:"tuiObscuredEnabled"},outputs:{tuiObscured:"tuiObscured"},features:[ee([Vz])]});let t=e;return t})();var Uz=(()=>{let e=class e{constructor(){this.tuiPlatform=g(_N,{skipSelf:!0})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiPlatform",""]],hostVars:1,hostBindings:function(r,o){r&2&&ke("data-platform",o.tuiPlatform)},inputs:{tuiPlatform:"tuiPlatform"},features:[ee([{provide:_N,useFactory:()=>g(e).tuiPlatform}])]});let t=e;return t})();var pI=new M("");function Bc(t={}){return g(pI,t)}var Ir=class{constructor(e,n){this.component=e,this.i=n}createInjector(e,n){return Lt.create({parent:this.i||e,providers:[{provide:pI,useValue:n}]})}},hy=class{constructor(e){this.$implicit=e}get polymorpheusOutlet(){return this.$implicit}};function nse(t){return Object(t)!==t}var AN=(()=>{let e=class e{constructor(i=g(Qt,{self:!0}),r=g(Tt)){this.template=i,this.cdr=r,this.polymorpheus=""}static ngTemplateContextGuard(i,r){return!0}check(){this.cdr.markForCheck()}};e.\u0275fac=function(r){return new(r||e)(Le(Qt),Le(Tt))},e.\u0275dir=F({type:e,selectors:[["ng-template","polymorpheus",""]],inputs:{polymorpheus:"polymorpheus"},exportAs:["polymorpheus"]});let t=e;return t})(),On=(()=>{let e=class e{constructor(){this.vcr=g(Vt),this.i=g(Un),this.t=g(Qt),this.content=""}static ngTemplateContextGuard(i,r){return!0}ngOnChanges({content:i}){let r=this.getContext();if(this.c?.injector.get(Tt).markForCheck(),!i)return;this.vcr.clear();let o=r&&new Proxy(jz(r),{get:(s,c)=>jz(this.getContext())?.[c]});Bz(this.content)?this.process(this.content,o):(r instanceof hy&&r.$implicit)!=null&&this.vcr.createEmbeddedView(this.template,o,{injector:this.i})}ngDoCheck(){SN(this.content)&&this.content.check()}get template(){return SN(this.content)?this.content.template:this.content instanceof Qt?this.content:this.t}getContext(){return ise(this.content)||Bz(this.content)?this.context:new hy(typeof this.content=="function"?this.content(this.context??{}):this.content)}process(i,r){let o=i.createInjector(this.i,r);this.c=this.vcr.createComponent(i.component,{injector:o})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","polymorpheusOutlet",""]],inputs:{content:[0,"polymorpheusOutlet","content"],context:[0,"polymorpheusOutletContext","context"]},features:[rn]});let t=e;return t})();function SN(t){return t instanceof AN}function Bz(t){return t instanceof Ir}function ise(t){return SN(t)||t instanceof Qt}function jz(t){return t&&nse(t)?new hy(t):t}var rse=(()=>{let e=class e{generate(){return`tui_${e.autoId++}${Date.now()}`}};e.autoId=0,e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hz(){return g(rse).generate()}var SFe=new M("",{factory:()=>g(VL).getTag('name="theme-color"')?.content??""});var ose=65536,xN=class{constructor(e){this.$implicit=e}},RN=(()=>{let e=class e{constructor(){this.viewContainer=g(Vt),this.templateRef=g(Qt)}set tuiRepeatTimesOf(i){let r=Math.floor(Ei(i,0,ose)),{length:o}=this.viewContainer;i<o?this.removeContainers(o-i):this.addContainers(r)}addContainers(i){for(let r=this.viewContainer.length;r<i;r++)this.viewContainer.createEmbeddedView(this.templateRef,new xN(r))}removeContainers(i){for(let r=0;r<i;r++)this.viewContainer.remove()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiRepeatTimes","","tuiRepeatTimesOf",""]],inputs:{tuiRepeatTimesOf:"tuiRepeatTimesOf"}});let t=e;return t})();var zz=(()=>{let e=class e{constructor(){this.onChange=Vl,this.validate=Pn.nullValidator}registerOnValidatorChange(i){this.onChange=i}ngOnChanges(){this.onChange()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiValidator",""]],inputs:{validate:[0,"tuiValidator","validate"]},features:[ee([pt(Po,e,!0)]),rn]});let t=e;return t})();var $z=(()=>{class t extends ne{visualViewport=g(Li).visualViewport;stream$=this.visualViewport?Xt(Gt(this.visualViewport,"resize"),Gt(this.visualViewport,"scroll"),Gt(this.visualViewport,"scrollend")).pipe(vt(null),H(()=>this.visualViewport),ze(Boolean),zs({bufferSize:1,refCount:!0})):kt;constructor(){super(n=>this.stream$.subscribe(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qz=(()=>{let e=class e{constructor(){this.w=g(ln),this.style=de().style,this.$=g($z).pipe(Dt()).subscribe(({offsetLeft:i,offsetTop:r,height:o,width:s,scale:c})=>{this.style.setProperty("--tui-viewport-x",jn(i)),this.style.setProperty("--tui-viewport-y",jn(r)),this.style.setProperty("--tui-viewport-height",jn(o)),this.style.setProperty("--tui-viewport-width",jn(s)),this.style.setProperty("--tui-viewport-scale",String(c)),this.style.setProperty("--tui-viewport-vh",jn(this.w.innerHeight/100)),this.style.setProperty("--tui-viewport-vw",jn(this.w.innerWidth/100))})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiVisualViewport",""]]});let t=e;return t})();var ase={cardNumber:["Number","Card number"],cardExpiry:["Expires","Valid through"]},cse={colorSelectorModeNames:["Solid color","Gradient"],toolbarTools:{undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"Font size",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"Highlight color",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript",insertTable:"Insert table",insertGroup:"Insert group",hiliteGroup:"Hilite group",removeGroup:"Remove group",insertAnchor:"Insert anchor",mergeCells:"Merge cells",splitCells:"Split cells",rowsColumnsManaging:"Managing rows and columns",cellColor:"Cell color",setDetails:"Details",removeDetails:"Remove details"},editorEditLink:{urlExample:"example.com",anchorExample:"anchor"},editorTableCommands:[["Insert column before","Insert column after"],["Insert row before","Insert row after"],["Delete column","Delete row"]],editorCodeOptions:["Code in the text","Code in block"],editorFontOptions:{small:"Small",large:"Large",normal:"Normal",title:"Title",subtitle:"Subtitle"}},use={showHideText:"Show/Hide",paginationTexts:{pages:"Pages",linesPerPage:"Lines per page",of:"of"}},lse={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua & Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AR:"Argentina",AT:"Austria",AU:"Australia",AW:"Aruba",AZ:"Azerbaijan",BA:"Bosnia & Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"St. Barth\xE9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CD:"Congo - Kinshasa",CF:"Central African Republic",CG:"Congo - Brazzaville",CH:"Switzerland",CI:"C\xF4te d\u2019Ivoire",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xE7ao",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GT:"Guatemala",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IN:"India",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KM:"Comoros",KN:"St. Kitts & Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"St. Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"St. Martin",MG:"Madagascar",MK:"North Macedonia",ML:"Mali",MM:"Myanmar (Burma)",MN:"Mongolia",MO:"Macao",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xE9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"St. Helena",SI:"Slovenia",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",ST:"S\xE3o Tom\xE9 & Pr\xEDncipe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks & Caicos Islands",TD:"Chad",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"T\xFCrkiye",TT:"Trinidad & Tobago",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VC:"St. Vincent & Grenadines",VE:"Venezuela",VG:"British Virgin Islands",VN:"Vietnam",VU:"Vanuatu",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",AC:"Ascension Island",AS:"American Samoa",AX:"\xC5land Islands",CC:"Cocos (Keeling) Islands",CK:"Cook Islands",CX:"Christmas Island",EH:"Western Sahara",FO:"Faroe Islands",GG:"Guernsey",GU:"Guam",IM:"Isle of Man",JE:"Jersey",IO:"British Indian Ocean Territory",KI:"Kiribati",MH:"Marshall Islands",MP:"Northern Mariana Islands",NF:"Norfolk Island",NR:"Nauru",NU:"Niue",PM:"Saint Pierre and Miquelon",PR:"Puerto Rico",PS:"Palestine",SJ:"Svalbard and Jan Mayen",SS:"South Sudan",TA:"Tristan da Cunha",TK:"Tokelau",TV:"Tuvalu",VA:"Holy See",VI:"Virgin Islands",WF:"Wallis and Futuna"},dse={months:["January","February","March","April","May","June","July","August","September","October","November","December"],close:"Close",clear:"Clear",nothingFoundMessage:"Nothing found",defaultErrorMessage:"Value is invalid",spinTexts:["Previous","Next"],shortWeekDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],countries:lse},hse={cancel:"Cancel",done:"Done",more:"More",otherDate:"Other date...",showAll:"Show all",hide:"Hide",mobileCalendarTexts:["Choose day","Choose range","Choose days"],range:["from","to"],countTexts:["Plus","Minus"],time:{"MM:SS":"MM:SS","HH:MM":"HH:MM","HH:MM AA":"HH:MM AA","HH:MM:SS":"HH:MM:SS","HH:MM:SS AA":"HH:MM:SS AA","HH:MM:SS.MSS":"HH:MM:SS.MSS","HH:MM:SS.MSS AA":"HH:MM:SS.MSS AA","HH AA":"HH AA",HH:"HH","MM:SS.MSS":"MM:SS.MSS","MM.SS.MSS":"MM.SS.MSS","SS.MSS":"SS.MSS"},dateTexts:{DMY:"dd.mm.yyyy",MDY:"mm.dd.yyyy",YMD:"yyyy.mm.dd"},digitalInformationUnits:["B","KiB","MiB"],passwordTexts:["Show password","Hide password"],copyTexts:["Copy","Copied"],shortCalendarMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pagination:["Previous page","Next page"],fileTexts:{loadingError:"Upload failed",preview:"Preview",remove:"Remove"},inputFileTexts:{defaultLabelSingle:"or drop\xA0it\xA0here",defaultLabelMultiple:"or drop\xA0them\xA0here",defaultLinkSingle:"Choose a file",defaultLinkMultiple:"Choose files",maxSizeRejectionReason:"File is larger than",formatRejectionReason:"Wrong file type",drop:"Drop file here",dropMultiple:"Drop files here"},multiSelectTexts:{all:"Select all",none:"Select none"},confirm:{yes:"Yes",no:"No"},previewTexts:{rotate:"Rotate"},zoomTexts:{zoomOut:"Zoom out",zoomIn:"Zoom in",reset:"Reset"},phoneSearch:"Type country or code"},fse={inputSearch:{popular:"Popular",history:"Recent",placeholder:"Type query",hotkey:"to search",all:"All",empty:"Nothing found"}},Gz=O(O(O(O(O(O({name:"english"},dse),hse),use),ase),cse),fse);var Wz=new M("",{factory:()=>Gz}),Kz=new M("",{factory:()=>te(g(Wz))}),pse=new M(""),mse=new M("",{factory:()=>"tuiLanguage"});function Et(t){return()=>g(Kz).pipe(H(e=>e[t]))}var MN=new M("",{factory:()=>g($e).defaultView?.matchMedia?.("(prefers-reduced-motion: reduce)").matches??!1}),Qz=new M("",{factory:()=>g(MN)?0:1}),gse=new M("",{factory:()=>"assets/taiga-ui/icons"});var NN=new M("",{factory:()=>null});function Gl(t){return pt(NN,t)}var yse={check:"@tui.check",close:"@tui.x",error:"@tui.circle-alert",more:"@tui.chevron-right",search:"@tui.search",ellipsis:"@tui.ellipsis"},mI=new M("",{factory:()=>yse});var vse="tuiDark",_se=new M("",{factory:()=>vse}),Yz=new M("",{factory:()=>{let t=!0,e=g(ez),n=g(_se),i=e?.getItem(n),r=g(ln).matchMedia("(prefers-color-scheme: dark)"),o=Y(!!((i&&JSON.parse(i))??r.matches));return Gt(r,"change").pipe(ze(()=>!e?.getItem(n)),Dt()).subscribe(()=>{t=!0,o.set(r.matches)}),sn(()=>{let s=String(o());t?t=!1:e?.setItem(n,s)}),Object.assign(o,{reset:()=>{e?.removeItem(n),t=!0,o.set(r.matches)}})}}),gI={mode:"DMY",separator:"."},PN=new M("",{factory:()=>te(gI)});var Zz=new M("",{factory:()=>t=>t.isWeekend?"weekend":"weekday"}),yI=new M("",{factory:()=>lI.Monday}),vI=new M("",{factory:Et("months")}),_Le=new M("",{factory:Et("close")}),Xz=new M("",{factory:Et("clear")}),Jz=new M("",{factory:Et("nothingFoundMessage")}),ELe=new M("",{factory:Et("defaultErrorMessage")}),e$=new M("",{factory:Et("spinTexts")}),t$=new M("",{factory:Et("shortWeekDays")}),_I=new M("",{factory:()=>""}),hf=new M("",{factory:()=>""}),Ese=new M("",{factory:()=>({})});var wse=new M("",{factory:()=>{let t=g(gse);return e=>`${t}/${e.replace("@tui.","").split(".").join("/")}.svg`}});function ff(){let t=g(Ese),e=g(wse);return n=>!n||n.includes("/")?n:t[n]??e(n)}var n$=new M("",{factory:()=>({mobile:768,desktopSmall:1024,desktopLarge:1280})}),fy={precision:NaN,decimalSeparator:".",thousandSeparator:tf,rounding:"truncate",decimalMode:"pad"},i$=new M("",{factory:()=>te(fy)});var Ra=new M("",{factory:()=>new Je(g($e).documentElement)}),Ise=new M("",{factory:()=>{let t=g($e);return Xt(Ht(t,"selectionchange"),Ht(t,"mouseup"),Ht(t,"mousedown").pipe(Ue(()=>Ht(t,"mousemove").pipe(En(Ht(t,"mouseup"))))),Ht(t,"keydown"),Ht(t,"keyup")).pipe(sr())}}),r$=new M("",{factory:()=>({decrement:"@tui.chevron-left",increment:"@tui.chevron-right"})}),o$=new M("",{factory:()=>"Taiga UI"}),pf=new M("",{factory:()=>{let t=g(ln);return{type:"viewport",getClientRect(){let{height:e=0,offsetTop:n=0}=t.visualViewport||{},i={top:0,left:0,right:t.innerWidth,bottom:t.innerHeight,width:t.innerWidth,height:e+n||t.innerHeight,x:0,y:0};return oe(O({},i),{toJSON:()=>JSON.stringify(i)})}}}});var bse=["Spacebar","Backspace","Delete","ArrowLeft","ArrowRight","Left","Right","End","Home"];function a$(t=""){return t.length===1||bse.includes(t)}function ON(t,e="tui-hints"){return!!nI(t)?.some(n=>!n.closest(e))}function py(t,e){return(n,i)=>{let r=n||O({},i||e);return Object.keys(t).forEach(o=>{r[o]=t[o]}),r}}var s$={xxs:0,xs:1,s:2,m:3,l:4,xl:5,xxl:6};function c$(t,e="s"){return s$[t]>s$[e]}var Tse=300;function u$(t){return t&&Tse/t}var Wl=(()=>{let e=class e{transform(i,r,...o){return r(i,...o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Ri({name:"tuiMapper",type:e,pure:!0});let t=e;return t})();var Ma="income",Kl="expense";var Hr=class t{auth=g(ca);ngZone=g(_e);router=g(gi);currentUserSubject=new ct(void 0);currentUser$=this.currentUserSubject.asObservable();initAuthStateListener(){EB(this.auth,e=>{this.ngZone.run(()=>{this.currentUserSubject.next(e)})})}loginWithGoogle(){return x(this,null,function*(){let e=new Nx;e.addScope("profile"),e.addScope("email");try{let n=yield wB(this.auth,e);return yield this.router.navigate(["/"]),!!n.user}catch(n){return console.error("Google login error:",n),!1}})}logout(){return x(this,null,function*(){try{yield IB(this.auth),this.currentUserSubject.next(null),yield this.router.navigate(["/login"])}catch(e){console.error("Logout error:",e)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var jc=class t{firestore=g(Rl);auth=g(ca);authService=g(Hr);convertToDate(e){return typeof e=="number"?new Date(e):e instanceof kl?e.toDate():e&&typeof e=="object"&&e.seconds?new Date(e.seconds*1e3):e instanceof Date?e:new Date}convertToFirestoreDate(e){return e instanceof Xe?new Date(e.year,e.month-1,e.day).getTime():e instanceof Date?e.getTime():Date.now()}getTransactions(){return this.authService.currentUser$.pipe(Ue(e=>{if(!e)return te([]);let n=hM(this.firestore,`users/${e.uid}/transactions`),i=lH(n,uH("date","desc"));return oH(i,{idField:"id"}).pipe(H(r=>r.map(o=>({id:o.id,description:o.description,amount:o.amount,date:this.convertToDate(o.date),category:o.category,type:o.type}))))}))}getTransactionById(e){return this.authService.currentUser$.pipe(Ue(n=>{if(!n)return te(null);let i=fM(this.firestore,`users/${n.uid}/transactions/${e}`);return new ne(r=>{aH(i).then(o=>{if(o.exists()){let s=o.data(),c={id:o.id,description:s.description,amount:s.amount,date:this.convertToDate(s.date),category:s.category,type:s.type};r.next(c)}else r.next(null);r.complete()}).catch(o=>{console.error("Error getting transaction:",o),r.error(o)})})}))}addTransaction(e){return x(this,null,function*(){try{let n=this.auth.currentUser;if(!n)throw new Error("User not authenticated");let i=this.convertToFirestoreDate(e.date),r=hM(this.firestore,`users/${n.uid}/transactions`);return(yield sH(r,{description:e.description,amount:e.type===Ma?Math.abs(e.amount):-Math.abs(e.amount),date:i,category:e.category,type:e.type})).id}catch(n){throw console.error("Error adding transaction:",n),n}})}updateTransaction(e,n){return x(this,null,function*(){try{let i=this.auth.currentUser;if(!i)throw new Error("User not authenticated");let r=fM(this.firestore,`users/${i.uid}/transactions/${e}`),o={};n.description!==void 0&&(o.description=n.description),n.amount!==void 0&&(o.amount=n.type===Ma?Math.abs(n.amount):-Math.abs(n.amount)),n.category!==void 0&&(o.category=n.category),n.type!==void 0&&(o.type=n.type),n.date!==void 0&&(o.date=this.convertToFirestoreDate(n.date)),yield dH(r,o)}catch(i){throw console.error("Error updating transaction:",i),i}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var EI=class{},Na=class extends EI{},Es=class extends EI{};function l$(t,e,n){return{provide:t,deps:[[new Yo,new nn,t],n],useFactory:my(e)}}function my(t){return(e,n)=>e?.find?.(i=>i!==n&&i.type===t)||n}function II(t,e){return l$(Na,t,e)}function bI(t,e){return l$(Es,t,e)}function gy(t){return pt(Es,t,!0)}var wI=class{};function TI(t){return pt(wI,t,!0)}var Ql=class extends ne{};function yy(t){return pt(Ql,t,!0)}var CI=(()=>{let e=class e{constructor(){this.destroyRef=g(xt),this.drivers=g(Ql,{self:!0,optional:!0})||[],this.vehicles=g(wI,{self:!0,optional:!0})}ngAfterViewInit(){let i=this.vehicles?.find(({type:r})=>r===this.type);Xt(...this.drivers.filter(({type:r})=>r===this.type)).pipe(mn(),Dt(this.destroyRef)).subscribe(r=>{i?.toggle(r)})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,standalone:!1});let t=e;return t})();var Cse={appearance:""},d$=new M("",{factory:()=>Cse});function mf(t){return pt(d$,t)}var Dse=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-appearance"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiAppearance]{transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;-webkit-appearance:none;appearance:none;outline:.125rem solid transparent;outline-offset:-.125rem;transition-property:color,background-color,opacity,box-shadow,border-color,border-radius,filter}[tuiAppearance].tui-appearance-initializing{transition:none!important}[tuiAppearance]:focus-visible:not([data-focus=false]){outline-color:var(--tui-border-focus)}[tuiAppearance][data-focus=true]{outline-color:var(--tui-border-focus)}[tuiAppearance][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][tuiWrapper]._focused{outline-color:var(--tui-border-focus)}[tuiAppearance]:disabled:not([data-state]),[tuiAppearance][data-state=disabled]{cursor:initial;opacity:var(--tui-disabled-opacity)}[tuiAppearance][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][tuiWrapper][data-state=disabled]{cursor:initial;opacity:var(--tui-disabled-opacity)}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),Hn=(()=>{let e=class e{constructor(){this.cdr=g(Tt,{skipSelf:!0}),this.el=de(),this.nothing=ci(Dse),this.modes=xe((i=this.mode())=>!i||Br(i)?i:i.join(" ")),this.appearance=Y(g(d$).appearance),this.state=Y(null),this.focus=Y(null),this.mode=Y(null),this.update=sn(()=>{this.mode(),this.state(),this.focus(),this.el.matches("tui-textfield[multi]")&&this.cdr.detectChanges()},_i),Ys(()=>{this.el.classList.toggle("tui-appearance-initializing",!!this.el.offsetWidth&&!1)})}set tuiAppearance(i){this.appearance.set(i)}set tuiAppearanceState(i){this.state.set(i)}set tuiAppearanceFocus(i){this.focus.set(i)}set tuiAppearanceMode(i){this.mode.set(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiAppearance",""]],hostAttrs:["tuiAppearance","",1,"tui-appearance-initializing"],hostVars:4,hostBindings:function(r,o){r&2&&ke("data-appearance",o.appearance())("data-state",o.state())("data-focus",o.focus())("data-mode",o.modes())},inputs:{tuiAppearance:"tuiAppearance",tuiAppearanceState:"tuiAppearanceState",tuiAppearanceFocus:"tuiAppearanceFocus",tuiAppearanceMode:"tuiAppearanceMode"}});let t=e;return t})();function h$(t,e){return wi(Hn,"appearance",t,e)}function f$(t,e){return wi(Hn,"state",t,e)}function p$(t,e){return wi(Hn,"focus",t,e)}function m$(t,e){return wi(Hn,"mode",t,e)}var gf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,features:[Oe([{directive:Hn,inputs:["tuiAppearance","appearance","tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]}])]});let t=e;return t})();var Sse=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-icons"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiIcons]{--t-icon-start: none;--t-icon-end: none}[tuiIcons]:before,[tuiIcons]:after{content:"";display:var(--t-icon-start);inline-size:1em;block-size:1em;line-height:1em;font-size:1.5rem;flex-shrink:0;box-sizing:content-box;background:currentColor;-webkit-mask:var(--t-icon-start) no-repeat center / contain padding-box;mask:var(--t-icon-start) no-repeat center / contain padding-box}[tuiIcons]:after{display:var(--t-icon-end);-webkit-mask:var(--t-icon-end) no-repeat center / contain padding-box;mask:var(--t-icon-end) no-repeat center / contain padding-box}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),_y=(()=>{let e=class e{constructor(){this.resolver=ff(),this.nothing=ci(Sse),this.iconStartUrl=xe(()=>this.resolve(this.iconStart())),this.iconEndUrl=xe(()=>this.resolve(this.iconEnd())),this.iconStart=Y(g(_I,{self:!0,optional:!0})||""),this.iconEnd=Y(g(hf,{self:!0,optional:!0})||"")}set iconStartSetter(i){this.iconStart.set(i)}set iconEndSetter(i){this.iconEnd.set(i)}resolve(i){return i?`url(${this.resolver(i.toString())})`:null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,hostAttrs:["tuiIcons",""],hostVars:4,hostBindings:function(r,o){r&2&&dt("--t-icon-start",o.iconStartUrl())("--t-icon-end",o.iconEndUrl())},inputs:{iconStartSetter:[0,"iconStart","iconStartSetter"],iconEndSetter:[0,"iconEnd","iconEndSetter"]}});let t=e;return t})(),Pa=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,features:[Oe([{directive:_y,inputs:["iconStart","iconStart","iconEnd","iconEnd"]}])]});let t=e;return t})();var Ase={appearance:"primary",size:"l"},[g$,y$]=Xi(Ase),xse=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-button"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiButton],[tuiIconButton]{--t-size: var(--tui-height-l);--t-radius: var(--tui-radius-l);--t-gap: .25rem;--t-padding: 0 1.25rem;--t-margin: -.25rem;-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, 0rem) - 2 * var(--t-margin, 0rem));block-size:var(--t-size);justify-content:center;border-radius:var(--t-radius);padding:var(--t-padding);-webkit-user-select:none;user-select:none;cursor:pointer;font:var(--tui-font-text-m);font-weight:700}[tuiButton]>img,[tuiIconButton]>img,[tuiButton]>tui-svg,[tuiIconButton]>tui-svg,[tuiButton]>tui-icon,[tuiIconButton]>tui-icon,[tuiButton]>tui-avatar,[tuiIconButton]>tui-avatar,[tuiButton]>tui-badge,[tuiIconButton]>tui-badge,[tuiButton]>[tuiBadge],[tuiIconButton]>[tuiBadge],[tuiButton]>[tuiRadio],[tuiIconButton]>[tuiRadio],[tuiButton]>[tuiSwitch],[tuiIconButton]>[tuiSwitch],[tuiButton]>[tuiCheckbox],[tuiIconButton]>[tuiCheckbox],[tuiButton][tuiIcons]:before,[tuiIconButton][tuiIcons]:before,[tuiButton][tuiIcons]:after,[tuiIconButton][tuiIcons]:after{margin:var(--t-margin)}[tuiButton]>.t-loader,[tuiIconButton]>.t-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}[tuiButton]>.t-loader .t-text,[tuiIconButton]>.t-loader .t-text{position:absolute}[tuiButton][data-size=xs],[tuiIconButton][data-size=xs]{--t-size: var(--tui-height-xs);--t-radius: var(--tui-radius-xs);--t-gap: .125rem;--t-padding: 0 .375rem;--t-margin: -.125rem;font:var(--tui-font-text-s)}[tuiButton][data-size=xs] tui-svg,[tuiIconButton][data-size=xs] tui-svg,[tuiButton][data-size=xs] tui-icon,[tuiIconButton][data-size=xs] tui-icon,[tuiButton][data-size=xs]:before,[tuiIconButton][data-size=xs]:before{font-size:1rem}[tuiButton][data-size=s],[tuiIconButton][data-size=s]{--t-size: var(--tui-height-s);--t-radius: var(--tui-radius-s);--t-gap: .125rem;--t-padding: 0 .625rem;--t-margin: -.125rem;font:var(--tui-font-text-s)}[tuiButton][data-size=s] tui-svg,[tuiIconButton][data-size=s] tui-svg,[tuiButton][data-size=s] tui-icon,[tuiIconButton][data-size=s] tui-icon,[tuiButton][data-size=s]:not([tuiIconButton][data-appearance=icon]):not([tuiIconButton][data-appearance=link]):before,[tuiIconButton][data-size=s]:not([tuiIconButton][data-appearance=icon]):not([tuiIconButton][data-appearance=link]):before{font-size:1rem}[tuiButton][data-size=m],[tuiIconButton][data-size=m]{--t-size: var(--tui-height-m);--t-radius: var(--tui-radius-m);--t-gap: .125rem;--t-padding: 0 1rem;--t-margin: -.375rem;font:var(--tui-font-text-m);font-weight:700}[tuiButton][data-size=m]:after,[tuiIconButton][data-size=m]:after{margin-inline-end:-.125rem}[tuiButton]._loading,[tuiIconButton]._loading{--tui-disabled-opacity: 1;-webkit-text-fill-color:transparent}[tuiButton]._loading>*,[tuiIconButton]._loading>*,[tuiButton]._loading:before,[tuiIconButton]._loading:before,[tuiButton]._loading:after,[tuiIconButton]._loading:after{opacity:0}[tuiButton]._loading>.t-loader,[tuiIconButton]._loading>.t-loader{opacity:1}[tuiButton][tuiIcons]:after,[tuiIconButton][tuiIcons]:after{font-size:1rem}[tuiButton][tuiButtonVertical],[tuiIconButton][tuiButtonVertical]{--t-margin: 0rem !important;--t-line-height: 1rem;flex-direction:column;flex-shrink:1;block-size:auto;padding:.75rem;gap:.375rem;min-inline-size:5rem;white-space:pre-line;font:var(--tui-font-text-ui-s)}[tuiButton][tuiButtonVertical]>*,[tuiIconButton][tuiButtonVertical]>*{max-block-size:calc(var(--t-line-height) * 2)}[tuiIconButton]{gap:0;inline-size:var(--t-size);font-size:0!important;padding:0}[tuiIconButton][data-size=l]:after{margin:0}[tuiIconButton][tuiIconButton][style*="--t-icon-start:"]:after{display:none}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),zr=(()=>{let e=class e{constructor(){this.options=g(g$),this.nothing=ci(xse),this.size=this.options.size}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["a","tuiButton",""],["button","tuiButton",""],["a","tuiIconButton",""],["button","tuiIconButton",""]],hostVars:1,hostBindings:function(r,o){r&2&&ke("data-size",o.size)},inputs:{size:"size"},features:[ee([mf(g$)]),Oe([gf,Pa])]});let t=e;return t})();var Rse={appearance:"action",pseudo:!1},v$=new M("",{factory:()=>Rse});var Mse=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-link"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiLink]{--tui-text-tertiary: var(--tui-text-secondary);transition-property:color,opacity,-webkit-text-decoration;transition-property:color,text-decoration,opacity;transition-property:color,text-decoration,opacity,-webkit-text-decoration;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;padding:0;background:transparent;border:none;cursor:pointer;font:inherit;color:var(--tui-text-primary);-webkit-text-decoration:none dashed currentColor;text-decoration:none dashed currentColor;text-underline-offset:.2em;text-decoration-thickness:.7px;text-decoration-color:color-mix(in lch,currentColor,transparent)}@media (hover: hover) and (pointer: fine){[tuiLink]:hover{--tui-text-secondary: var(--tui-text-primary)}}[tuiLink]:before{margin-inline-end:.25rem}[tuiLink]:after{margin-inline-start:.25rem}[tuiLink][tuiIcons]:before,[tuiLink][tuiIcons]:after{content:"\\2060";padding:calc(var(--tui-icon-size, 1rem) / 2);vertical-align:super;font-size:0;line-height:0;box-sizing:border-box}[tuiLink][tuiChevron]:after{display:inline-block}[tuiLink]:focus-visible:not([data-focus=false]){outline:none;background:var(--tui-service-selection-background);background:color-mix(in lch,currentColor 12%,transparent)}[tuiLink][data-focus=true]{outline:none;background:var(--tui-service-selection-background);background:color-mix(in lch,currentColor 12%,transparent)}[tuiLink][tuiWrapper]:not(._focused):has(:focus-visible),[tuiLink][tuiWrapper]._focused{outline:none;background:var(--tui-service-selection-background);background:color-mix(in lch,currentColor 12%,transparent)}@media (hover: hover) and (pointer: fine){[tuiLink]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):hover:not(:disabled):not([data-state]){text-decoration-color:currentColor}}@media (hover: hover) and (pointer: fine){[tuiLink]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):hover:not(:disabled):not([data-state]){text-decoration-color:currentColor}}[tuiLink][data-state=hover]{text-decoration-color:currentColor}@media (hover: hover) and (pointer: fine){[tuiLink][tuiWrapper]:hover:not(._no-hover),[tuiLink][tuiWrapper][data-state=hover]{text-decoration-color:currentColor}}[tuiLink]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):active:not(:disabled):not([data-state]){text-decoration-color:currentColor}[tuiLink]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled):active:not(:disabled):not([data-state]){text-decoration-color:currentColor}[tuiLink][data-state=active]{text-decoration-color:currentColor}[tuiLink][tuiWrapper]:active:not(._no-active),[tuiLink][tuiWrapper][data-state=active],[tuiLink][tuiWrapper][data-state=active]:hover{text-decoration-color:currentColor}@media (hover: hover) and (pointer: fine){[tuiLink][data-appearance=""]:hover{opacity:.7}}[tuiLink][data-appearance=""]:active{opacity:.7}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),_$=(()=>{let e=class e{constructor(){this.nothing=ci(Mse),this.pseudo=g(v$).pseudo}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["a","tuiLink",""],["button","tuiLink",""]],hostAttrs:["tuiLink",""],hostVars:2,hostBindings:function(r,o){r&2&&dt("text-decoration-line",o.pseudo?"underline":null)},inputs:{pseudo:"pseudo"},features:[ee([mf(v$)]),Oe([gf,Pa])]});let t=e;return t})();var Nse={info:"@tui.info",positive:"@tui.circle-check",negative:"@tui.circle-x",warning:"@tui.circle-alert",neutral:"@tui.info",success:"@tui.circle-check",error:"@tui.circle-x"},Pse={appearance:"info",icon:t=>Nse[t]??"",size:"l"},[E$,UVe]=Xi(Pse);var Ose=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-title"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiTitle]{position:relative;display:flex;min-inline-size:0;flex-direction:column;text-align:start;gap:.25rem;margin:0;font:var(--tui-font-text-ui-m)}[tuiTitle][data-size=s]{gap:.125rem;font:var(--tui-font-text-s)}[tuiTitle][data-size=s] [tuiSubtitle]{font:var(--tui-font-text-xs)}[tuiTitle][data-size=m]{gap:.125rem;font:var(--tui-font-heading-5)}[tuiTitle][data-size=m] [tuiSubtitle]{font:var(--tui-font-text-m)}[tuiTitle][data-size=l]{gap:.5rem;font:var(--tui-font-heading-3)}[tuiTitle][data-size=l] [tuiSubtitle]{font:var(--tui-font-text-m)}[tuiTitle] h1,[tuiTitle] h2,[tuiTitle] h3,[tuiTitle] h4,[tuiTitle] h5,[tuiTitle] h6{margin:0;font:inherit}[tuiSubtitle]{font:var(--tui-font-text-ui-s);margin:0}[tuiButton] [tuiTitle]{margin-inline-end:auto}[tuiButton] [tuiTitle] [tuiSubtitle]{color:var(--tui-text-secondary)}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),w$=(()=>{let e=class e{constructor(){this.nothing=ci(Ose),this.size=""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiTitle",""]],hostAttrs:["tuiTitle",""],hostVars:1,hostBindings:function(r,o){r&2&&ke("data-size",o.size||null)},inputs:{size:[0,"tuiTitle","size"]}});let t=e;return t})();function kse(t,e){if(t&1&&(Mi(0,3),et(1,"tuiMapper")),t&2){let n=e.$implicit,i=W(2);U("ngComponentOutlet",n.component.component)("ngComponentOutletInjector",rc(1,2,n,i.mapper))}}function Fse(t,e){if(t&1&&(j(0,"div",1),X(1,kse,2,5,"ng-container",2),L()),t&2){let n=e.$implicit;V(),U("ngForOf",n)}}var Lse={autoClose:3e3,label:"",closeable:!0,data:void 0},r2e=new M("",{factory:()=>O(O({},Lse),g(E$))}),o2e=new M("",{factory:()=>g(Xn)?"1rem 1rem 0 auto":"2rem 3rem 0 auto"}),Vse=new M("",{factory:()=>new ct([])}),Use=new M("",{factory:()=>jo([te(new Map),g(Vse)]).pipe(H(([t,e])=>(t.forEach((n,i)=>t.set(i,[])),e.forEach(n=>{let i=n.component.component,r=t.get(i)||[];t.set(i,[...r,n])}),Array.from(t.values()))))});var I$=(()=>{let e=class e{constructor(){this.injector=g(Un),this.alerts$=g(Use),this.trackBy=Yt,this.mapper=i=>Lt.create({providers:[{provide:pI,useValue:i}],parent:this.injector})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-alerts"]],decls:2,vars:4,consts:[["tuiAnimatedParent","","class","t-wrapper",4,"ngFor","ngForOf","ngForTrackBy"],["tuiAnimatedParent","",1,"t-wrapper"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngFor","ngForOf"],[3,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(r,o){r&1&&(X(0,Fse,2,1,"div",0),et(1,"async")),r&2&&U("ngForOf",on(1,2,o.alerts$))("ngForTrackBy",o.trackBy)},dependencies:[In,uS,mi,gn,df,Wl],styles:[`tui-alerts>.t-wrapper{position:fixed;top:0;left:0;inline-size:100%;display:flex;flex-direction:column;pointer-events:none;box-sizing:border-box;block-size:100%;padding:env(safe-area-inset-top) 0 env(safe-area-inset-bottom)}tui-alerts>.t-wrapper>*{pointer-events:auto}
`],encapsulation:2});let t=e;return t})();function Bse(t,e){t&1&&Mi(0)}function jse(t,e){if(t&1){let n=lt();j(0,"div",5),Q("mousedown.capture.prevent",function(){return Ce(n),De(0)}),ce(1,"div",6),L()}if(t&2){let n=W().ngIf;me("t-bar_has-horizontal",n[1])}}function Hse(t,e){if(t&1){let n=lt();j(0,"div",7),Q("mousedown.capture.prevent",function(){return Ce(n),De(0)}),ce(1,"div",8),L()}if(t&2){let n=W().ngIf;me("t-bar_has-vertical",n[0])}}function zse(t,e){if(t&1&&(ut(0),X(1,jse,2,2,"div",3)(2,Hse,2,2,"div",4),st()),t&2){let n=e.ngIf;V(),U("ngIf",n[0]),V(),U("ngIf",n[1])}}function $se(t,e){if(t&1&&(X(0,zse,3,2,"ng-container",2),et(1,"async")),t&2){let n=W();U("ngIf",on(1,1,n.refresh$))}}var qse=["*"];function Gse(t,e){if(t&1&&ce(0,"tui-scroll-controls",2),t&2){let n=W();me("t-hover-mode",n.options.mode==="hover")}}var b$=(()=>{let e=class e extends ne{constructor(){super(i=>this.scroll$.subscribe(i)),this.el=de(),this.element=g(Ra).nativeElement,this.scroll$=Xt(Ht(this.el.parentElement,"mousedown").pipe(ze(({target:i})=>i!==this.el),H(i=>this.getScrolled(i,.5,.5))),Ht(this.el,"mousedown").pipe(Oo(),Ue(i=>{let{ownerDocument:r}=this.el,o=this.el.getBoundingClientRect(),s=Wse(i,o),c=Kse(i,o);return Ht(r,"mousemove").pipe(H(u=>this.getScrolled(u,s,c)),En(Ht(r,"mouseup")))})))}getScrolled({clientY:i,clientX:r},o,s){let{offsetHeight:c,offsetWidth:u}=this.el,{top:d,left:f,right:m,width:y,height:_}=this.el.parentElement.getBoundingClientRect(),C=this.el.matches('[dir="rtl"] :scope'),R=C?m:f,N=C?-1:1,k=this.element.scrollHeight-_,$=this.element.scrollWidth-y,K=(i-d-c*o)/(_-c),he=(r-R-u*s*N)/(y-u);return[k*K,$*he]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function Wse({clientY:t},{top:e,height:n}){return(t-e)/n}function Kse({clientX:t},{left:e,width:n}){return(t-e)/n}var DI=24,Qse=(()=>{let e=class e{constructor(){this.el=g(Ra).nativeElement,this.style=de().style,this.scrollSub=g(b$).pipe(Dt()).subscribe(([i,r])=>{this.el.style.scrollBehavior="auto",this.tuiScrollbar==="horizontal"?this.el.scrollLeft=r:this.el.scrollTop=i,this.el.style.scrollBehavior=""}),this.styleSub=Xt(g(Ul).pipe(za(100,Da())),fz(this.el)).pipe(Oo(),Dt()).subscribe(()=>{let i={scrollTop:this.el.scrollTop,scrollHeight:this.el.scrollHeight,clientHeight:this.el.clientHeight,scrollLeft:this.el.scrollLeft,scrollWidth:this.el.scrollWidth,clientWidth:this.el.clientWidth},r=`${this.getThumb(i)*100}%`,o=`${this.getView(i)*100}%`;this.tuiScrollbar==="vertical"?(this.style.top=r,this.style.height=o):(this.style.left=r,this.style.insetInlineStart=r,this.style.width=o)}),this.tuiScrollbar="vertical"}getScrolled(i){return this.tuiScrollbar==="vertical"?i.scrollTop/(i.scrollHeight-i.clientHeight):i.scrollLeft/(i.scrollWidth-i.clientWidth)}getCompensation(i){return i.clientHeight*i.clientHeight/i.scrollHeight>DI&&this.tuiScrollbar==="vertical"||i.clientWidth*i.clientWidth/i.scrollWidth>DI&&this.tuiScrollbar==="horizontal"?0:this.tuiScrollbar==="vertical"?DI/i.clientHeight:DI/i.clientWidth}getThumb(i){let r=this.getCompensation(i)||this.getView(i);return Math.abs(this.getScrolled(i)*(1-r))}getView(i){return this.tuiScrollbar==="vertical"?Math.ceil(i.clientHeight/i.scrollHeight*100)/100:Math.ceil(i.clientWidth/i.scrollWidth*100)/100}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiScrollbar",""]],inputs:{tuiScrollbar:"tuiScrollbar"},features:[ee([b$])]});let t=e;return t})(),Yse={mode:"always"},[SI,C2e]=Xi(Yse),Yl=(()=>{let e=class e{constructor(){this.scrollRef=g(Ra).nativeElement,this.nativeScrollbar=g(SI).mode==="native",this.refresh$=g(Ul).pipe(za(300,Da()),H(()=>this.scrollbars),vt([!1,!1]),mn((i,r)=>i[0]===r[0]&&i[1]===r[1]),ko())}get scrollbars(){let{clientHeight:i,scrollHeight:r,clientWidth:o,scrollWidth:s}=this.scrollRef;return[Math.ceil(i/r*100)<100,Math.ceil(o/s*100)<100]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-scroll-controls"]],decls:3,vars:2,consts:[["custom",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["tuiAnimated","","class","t-bar t-bar_vertical",3,"t-bar_has-horizontal","mousedown.capture.prevent",4,"ngIf"],["tuiAnimated","","class","t-bar t-bar_horizontal",3,"t-bar_has-vertical","mousedown.capture.prevent",4,"ngIf"],["tuiAnimated","",1,"t-bar","t-bar_vertical",3,"mousedown.capture.prevent"],["tuiScrollbar","vertical",1,"t-thumb"],["tuiAnimated","",1,"t-bar","t-bar_horizontal",3,"mousedown.capture.prevent"],["tuiScrollbar","horizontal",1,"t-thumb"]],template:function(r,o){if(r&1&&X(0,Bse,1,0,"ng-container",1)(1,$se,2,3,"ng-template",null,0,ai),r&2){let s=si(2);U("ngIf",o.nativeScrollbar)("ngIfElse",s)}},dependencies:[gn,Pt,$l,Qse],styles:["[_nghost-%COMP%]{position:sticky;top:0;left:0;z-index:1;inset-inline-start:0;min-inline-size:calc(100% - 1px);min-block-size:calc(100% - 1px);max-inline-size:calc(100% - 1px);max-block-size:calc(100% - 1px);margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto}.t-bar.tui-enter[_ngcontent-%COMP%], .t-bar.tui-leave[_ngcontent-%COMP%]{animation-name:tuiFade}.t-bar_vertical[_ngcontent-%COMP%]{top:0;inline-size:.875rem}@supports (inset-inline-end: 0){.t-bar_vertical[_ngcontent-%COMP%]{right:unset;inset-inline-end:0}}.t-bar_horizontal[_ngcontent-%COMP%]{left:0;inset-inline-start:0;block-size:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.t-thumb[_ngcontent-%COMP%]{transition-property:all;transition-duration:.15s;transition-timing-function:ease-in-out;position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;-webkit-user-select:none;user-select:none;background:currentColor;background-clip:content-box;box-sizing:border-box;transition-property:width,height,opacity;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{right:0;inset-inline-end:0;inline-size:.75rem;min-block-size:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{inline-size:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{bottom:0;block-size:.75rem;min-inline-size:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{block-size:.875rem}"],changeDetection:0});let t=e;return t})(),Zse="tui-scroll-into-view";var AI=(()=>{let e=class e{constructor(){this.el=de(),this.options=g(SI),this.isIOS=g(Uc),this.browserScrollRef=new Je(this.el),this.hidden=this.options.mode==="hidden"}get delegated(){return this.scrollRef!==this.el||this.options.mode==="native"}get scrollRef(){return this.browserScrollRef.nativeElement}set scrollRef(i){this.browserScrollRef.nativeElement=i}scrollIntoView(i){if(this.delegated)return;let{offsetHeight:r,offsetWidth:o}=i,{offsetTop:s,offsetLeft:c}=vz(this.scrollRef,i),u=s+r/2-this.scrollRef.clientHeight/2,d=c+o/2-this.scrollRef.clientWidth/2;this.scrollRef.scrollTo?.(d,u)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-scrollbar"]],hostVars:2,hostBindings:function(r,o){r&1&&Q("tui-scrollable.stop",function(c){return o.scrollRef=c.detail})("tui-scroll-into-view.stop",function(c){return o.scrollIntoView(c.detail)}),r&2&&me("_native-hidden",o.options.mode!=="native"&&(!o.isIOS||o.hidden))},inputs:{hidden:"hidden"},features:[ee([{provide:Ra,useFactory:()=>g(e).browserScrollRef}])],ngContentSelectors:qse,decls:3,vars:3,consts:[["class","t-bars",3,"t-hover-mode",4,"ngIf"],[1,"t-content"],[1,"t-bars"]],template:function(r,o){r&1&&(qn(),X(0,Gse,1,2,"tui-scroll-controls",0),j(1,"div",1),Ut(2),L()),r&2&&(U("ngIf",!o.hidden&&!o.isIOS&&o.options.mode!=="native"),V(),me("t-content_delegated",o.delegated))},dependencies:[Pt,Yl],styles:["[_nghost-%COMP%]{position:relative;display:flex;max-block-size:100%;isolation:isolate;overflow:auto}._native-hidden[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}._native-hidden[_nghost-%COMP%]::-webkit-scrollbar, ._native-hidden[_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]   .t-hover-mode[_ngcontent-%COMP%]:not(:active){transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}[_nghost-%COMP%]:hover   .t-hover-mode[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:1}.t-content[_ngcontent-%COMP%]{isolation:isolate;flex:1;flex-basis:auto;inline-size:100%;block-size:-webkit-max-content;block-size:max-content}.t-content_delegated[_ngcontent-%COMP%]{block-size:100%}.t-bars[_ngcontent-%COMP%]{color:var(--tui-text-primary)}"],changeDetection:0});let t=e;return t})(),yf=(()=>{let e=class e{constructor(){this.el=de(),this.destroyRef=g(xt)}set tuiScrollIntoView(i){i&&fi(0).pipe(Dt(this.destroyRef)).subscribe(()=>{this.el.dispatchEvent(new CustomEvent(Zse,{bubbles:!0,detail:this.el}))})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiScrollIntoView",""]],inputs:{tuiScrollIntoView:"tuiScrollIntoView"}});let t=e;return t})();var T$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiScrollRef",""]],features:[ee([pt(Ra,Je)])]});let t=e;return t})();var C$=(()=>{let e=class e extends ne{constructor(){super(i=>this.stream$.subscribe(i)),this.media=g(n$),this.sorted=Object.values(this.media).sort((i,r)=>i-r),this.invert=Object.keys(this.media).reduce((i,r)=>oe(O({},i),{[this.media[r]]:r}),{}),this.stream$=g(Dz).pipe(H(({width:i})=>this.sorted.find(r=>r>i)),H(i=>this.invert[i||this.sorted[this.sorted.length-1]||0]??null),mn(),ko(),zs({bufferSize:1,refCount:!0}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vf=(()=>{let e=class e extends ne{constructor(){let i=g(Ul),r=g(_e);super(o=>i.pipe(vt(null),H(()=>this.accessor.getPosition(this.el.getBoundingClientRect(),this.el)),Oo(r),ja(()=>this.accessor.getPosition(Ta))).subscribe(o)),this.el=de(),this.accessor=g(Na)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),xI=(()=>{let e=class e{constructor(){this.isWebkit=g(Tz),this.win=g(ln)}correct(i){return this.isWebkit?[i[0]+(this.win.visualViewport?.offsetTop??0),i[1]+(this.win.visualViewport?.offsetLeft??0)]:i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kN(t){return!!t&&(Jse(t)||kN(t.parentElement))}function Jse(t){return t.ownerDocument.defaultView?.getComputedStyle(t).getPropertyValue("position")==="fixed"}function eae(t){let e=String(t),[n,i]=e.split("e-"),r=e;if(i){let[,o=""]=n?.split(".")??[],s=Number(i)+(o?.length||0);r=t.toFixed(s)}return r}function D$(t,e){let[,n=""]=eae(t).split(".");return Yw(e)?n.slice(0,Math.max(0,e)):n}function S$(t,e={}){let{precision:n,decimalSeparator:i,thousandSeparator:r,decimalMode:o,rounding:s}=O(oe(O({},fy),{decimalMode:"always",precision:1/0}),e),c=Number.isFinite(n)?rz({value:t,precision:n,method:s}):t,u=String(Math.floor(Math.abs(c))),d=D$(c,n),f=Number(d)>0;if(Number.isFinite(n))if(o==="always"||f&&o==="pad"){let C=Math.max(n-d.length,0),R="0".repeat(C);d=`${d}${R}`}else d=d.replace(/0*$/,"");let m=u.length%3,_=(t<0?Gw:"")+u.charAt(0);for(let C=1;C<u.length;C++)C%3===m&&u.length>3&&(_+=r),_+=u.charAt(C);return d?_+i+d:_}var tae=t=>({$implicit:t});function nae(t,e){if(t&1&&(j(0,"div",2),re(1),L()),t&2){let n=e.polymorpheusOutlet;V(),nt(" ",n," ")}}var iae=["tuiDropdownHost"],RI=(()=>{let e=class e extends ct{constructor(){super(!1),this.type="dropdown"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),rae=(()=>{let e=class e extends CI{constructor(){super(...arguments),this.type="dropdown"}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,features:[Qe]});let t=e;return t})(),oae=new M("",{factory:()=>uae}),sae=new M(""),A$=(()=>{let e=class e extends cf{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FN={align:"left",direction:null,limitWidth:"auto",maxHeight:400,minHeight:80,offset:4,appearance:""},Hc=new M("",{factory:()=>FN}),aae=t=>({provide:Hc,deps:[[new nn,new im,cae],[new nn,new Yo,Hc]],useFactory:py(t,FN)}),cae=(()=>{let e=class e{constructor(){this.options=g(Hc,{skipSelf:!0}),this.align=this.options.align,this.appearance=this.options.appearance,this.direction=this.options.direction,this.limitWidth=this.options.limitWidth,this.minHeight=this.options.minHeight,this.maxHeight=this.options.maxHeight,this.offset=this.options.offset}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiDropdownAlign",""],["","tuiDropdownAppearance",""],["","tuiDropdownDirection",""],["","tuiDropdownLimitWidth",""],["","tuiDropdownMinHeight",""],["","tuiDropdownMaxHeight",""],["","tuiDropdownOffset",""]],inputs:{align:[0,"tuiDropdownAlign","align"],appearance:[0,"tuiDropdownAppearance","appearance"],direction:[0,"tuiDropdownDirection","direction"],limitWidth:[0,"tuiDropdownLimitWidth","limitWidth"],minHeight:[0,"tuiDropdownMinHeight","minHeight"],maxHeight:[0,"tuiDropdownMaxHeight","maxHeight"],offset:[0,"tuiDropdownOffset","offset"]},features:[ee([pt(Hc,e)])]});let t=e;return t})(),x$=(()=>{let e=class e extends Na{constructor(){super(...arguments),this.el=de(),this.options=g(Hc),this.viewport=g(pf),this.directionChange=new Ae,this.type="dropdown",this.accessor=my("dropdown")(g(Es),g(Ji,{optional:!0}))}emitDirection(i){this.directionChange.emit(i)}getPosition({width:i,height:r}){!i&&!r&&(this.previous=void 0);let o=this.accessor?.getClientRect()??Ta,s=this.viewport.getClientRect(),{minHeight:c,direction:u,offset:d,limitWidth:f}=this.options,m=this.getAlign(this.options.align),y={top:s.top-d,bottom:s.bottom+d,right:s.right-d,left:s.left+d},_=this.previous||u||"bottom",C={top:o.top-2*d-y.top,bottom:y.bottom-o.bottom-2*d},R=f==="fixed"?o.width:i,N=Math.max(o.right-R,d),k=o.left+i<y.right?o.left:N,$={top:o.top-d-r,bottom:o.bottom+d,right:Math.max(y.left,N),center:o.left+o.width/2+i/2<y.right?o.left+o.width/2-i/2:N,left:Math.max(y.left,k)},K=C.top>C.bottom?"top":"bottom";return C[_]>c&&u||C[_]>r?(this.emitDirection(_),[$[_],$[m]]):(this.previous=K,this.emitDirection(K),[$[K],$[m]])}getAlign(i){let r=this.el.matches('[dir="rtl"] :scope');return r&&i==="left"?"right":r&&i==="right"?"left":i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,outputs:{directionChange:"tuiDropdownDirectionChange"},features:[Qe]});let t=e;return Tr([jr],t.prototype,"emitDirection",null),t})(),Ji=(()=>{let e=class e{constructor(){this.refresh$=new at,this.service=g(A$),this.cdr=g(Tt),this.drivers=hN(g(RI,{self:!0,optional:!0})),this.sub=this.refresh$.pipe(za(0,Da()),Dt()).subscribe(()=>{this.ref()?.changeDetectorRef.detectChanges(),this.ref()?.changeDetectorRef.markForCheck()}),this.el=de(),this.type="dropdown",this.component=new Ir(g(oae),g(Un)),this.ref=Y(null),this._content=Y(null)}set tuiDropdown(i){this._content.set(i instanceof Qt?new AN(i,this.cdr):i),this._content()||this.toggle(!1)}get position(){return kN(this.el)?"fixed":"absolute"}get content(){return this._content()}set content(i){this._content.set(i)}ngAfterViewChecked(){this.refresh$.next()}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(i){let r=this.ref();i&&this._content()&&!r?this.ref.set(this.service.add(this.component)):!i&&r&&(this.ref.set(null),this.service.remove(r)),this.drivers.forEach(o=>o?.next(i)),this.cdr.markForCheck()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiDropdown","",5,"ng-container",5,"ng-template"]],hostVars:2,hostBindings:function(r,o){r&2&&me("tui-dropdown-open",o.ref())},inputs:{tuiDropdown:"tuiDropdown"},exportAs:["tuiDropdown"],features:[ee([gy(e),TI(e)]),Oe([rae,{directive:x$,outputs:["tuiDropdownDirectionChange","tuiDropdownDirectionChange"]}])]});let t=e;return t})(),uae=(()=>{let e=class e{constructor(){this.el=de(),this.accessor=g(Es),this.viewport=g(pf),this.vvs=g(xI),this.styles$=g(vf).pipe(wd(()=>this.directive.el.isConnected&&!!this.directive.el.getBoundingClientRect().height),H(i=>this.position==="fixed"?this.vvs.correct(i):i),H(([i,r])=>this.getStyles(r,i)),Dt()),this.options=g(Hc),this.directive=g(Ji),this.context=g(sae,{optional:!0}),this.darkMode=g(Yz),this.position=this.directive.position,this.theme=xe((i=this.darkMode())=>this.directive.el.closest("[tuiTheme]")?.getAttribute("tuiTheme")),this.close=()=>this.directive.toggle(!1)}ngAfterViewInit(){this.styles$.subscribe({next:i=>Object.assign(this.el.style,i),complete:()=>this.close?.()})}getStyles(i,r){let{maxHeight:o,minHeight:s,offset:c,limitWidth:u}=this.options,d=this.el.offsetParent?.getBoundingClientRect()||Ta,{left:f=0,top:m=0}=this.position==="fixed"?{}:d,y=this.accessor.getClientRect(),_=this.viewport.getClientRect(),C=y.top-_.top-2*c,R=_.top+_.height-r-c,N=r>y.bottom?R:C,k=this.el.getBoundingClientRect().right<=y.left||i>=y.right?o:Ei(N,s,o);return r-=m,i-=f,{position:this.position,top:jn(Math.round(Math.max(r,c-m))),left:jn(Math.round(i)),maxHeight:jn(Math.round(k)),width:u==="fixed"?jn(Math.round(y.width)):"",minWidth:u==="min"?jn(Math.round(y.width)):"",maxWidth:jn(Math.round(_.width)-16)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-dropdown"]],hostVars:2,hostBindings:function(r,o){r&2&&ke("data-appearance",o.options.appearance)("tuiTheme",o.theme())},features:[ee([vf,II("dropdown",x$),bI("dropdown",Ji)]),Oe([_s,$l])],decls:2,vars:4,consts:[[1,"t-scroll"],["class","t-primitive",4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-primitive"]],template:function(r,o){r&1&&(j(0,"tui-scrollbar",0),X(1,nae,2,1,"div",1),L()),r&2&&(V(),U("polymorpheusOutlet",o.directive._content())("polymorpheusOutletContext",Qi(2,tae,o.close)))},dependencies:[On,AI],styles:["[_nghost-%COMP%]{position:absolute;display:flex;box-shadow:var(--tui-shadow-medium);color:var(--tui-text-primary);background:var(--tui-background-elevation-3);border-radius:var(--tui-radius-m);overflow:hidden;border:1px solid var(--tui-border-normal);box-sizing:border-box;isolation:isolate;pointer-events:auto;--tui-from: translateY(-1rem)}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade,tuiSlide}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}.t-scroll[_ngcontent-%COMP%]{flex-grow:1;max-inline-size:100%;inline-size:-webkit-max-content;inline-size:max-content;overscroll-behavior:none}.t-primitive[_ngcontent-%COMP%]{padding:1rem}"]});let t=e;return t})();var lae={showDelay:200,hideDelay:500},CUe=new M("",{factory:()=>lae});function dae(t){return typeof CloseWatcher>"u"&&t.key?.toLowerCase()==="escape"&&this.tuiDropdownEnabled&&!!this.tuiDropdownOpen&&!this.dropdown()?.nextElementSibling}var _f=(()=>{let e=class e{constructor(){this.directive=g(Ji),this.el=de(),this.obscured=g(fI),this.activeZone=g(_s),this.dropdown=xe(()=>this.directive.ref()?.location.nativeElement),this.tuiDropdownEnabled=!0,this.tuiDropdownOpen=!1,this.tuiDropdownOpenChange=new Ae,this.driver=g(RI),this.sub=this.driver.pipe(Xw(()=>Xt(hz(),this.obscured.tuiObscured.pipe(ze(Boolean)),this.activeZone.tuiActiveZoneChange.pipe(ze(i=>!i)),Gt(this.el,"focusin").pipe(ze(i=>!this.host.contains(jl(i))||!this.directive.ref())))),lN(),Ca(),Dt()).subscribe(()=>this.toggle(!1)),this.sync=this.driver.pipe(Dt()).subscribe(i=>{i!==this.tuiDropdownOpen&&this.update(i)})}ngOnChanges(){this.drive(!!this.tuiDropdownOpen),this.tuiDropdownOpenChange.emit(!!this.tuiDropdownOpen)}toggle(i){this.focused&&!i&&this.host.focus({preventScroll:!0}),this.update(i)}onEsc(i){i.preventDefault(),this.toggle(!1)}onClick(i){!this.editable&&this.host.contains(i)&&this.update(!this.tuiDropdownOpen)}onArrow(i,r){!rf(i.target)||!this.host.contains(i.target)||!this.tuiDropdownEnabled||!this.directive._content()||(i.preventDefault(),this.focusDropdown(r))}onKeydown(i){let r=jl(i);!i.defaultPrevented&&a$(i.key)&&this.editable&&this.focused&&vs(r)&&!pN(r)&&this.host.focus({preventScroll:!0})}get host(){let i=this.dropdownHost?.nativeElement||this.el,r=iI(i)?i:sy({initial:i,root:this.el});return this.dropdownHost?.nativeElement||r||this.el}get editable(){return pN(this.host)}get focused(){return ay(this.host)||ay(this.dropdown())}update(i){if(i&&!this.tuiDropdownEnabled)return this.drive();this.tuiDropdownOpen=i,this.tuiDropdownOpenChange.emit(i),this.drive()}drive(i=!!this.tuiDropdownOpen&&this.tuiDropdownEnabled){this.obscured.tuiObscuredEnabled=i,this.driver.next(i)}focusDropdown(i){let r=this.dropdown();if(!r){this.update(!0);return}let o=this.el.ownerDocument,s=r.appendChild(o.createElement("div")),u=sy({initial:i?s:r,previous:i,root:r});s.remove(),u?.focus()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiDropdown","","tuiDropdownOpen",""],["","tuiDropdown","","tuiDropdownOpenChange",""]],contentQueries:function(r,o,s){if(r&1&&oi(s,iae,5,Je),r&2){let c;Bt(c=jt())&&(o.dropdownHost=c.first)}},hostBindings:function(r,o){r&1&&Q("click",function(c){return o.onClick(c.target)})("keydown.arrowDown",function(c){return o.onArrow(c,!1)})("keydown.arrowUp",function(c){return o.onArrow(c,!0)})("keydown.zoneless.capture",function(c){return o.onEsc(c)},Pr)("keydown.zoneless",function(c){return o.onKeydown(c)},Pr)("tuiActiveZoneChange",function(){return 0})},inputs:{tuiDropdownEnabled:"tuiDropdownEnabled",tuiDropdownOpen:"tuiDropdownOpen"},outputs:{tuiDropdownOpenChange:"tuiDropdownOpenChange"},features:[ee([RI,yy(RI)]),Oe([fI,{directive:_s,inputs:["tuiActiveZoneParent","tuiActiveZoneParent"],outputs:["tuiActiveZoneChange","tuiActiveZoneChange"]}]),rn]});let t=e;return Tr([HL(dae)],t.prototype,"onEsc",null),t})();function MI(t){return wi(_f,"tuiDropdownEnabled",t,{})}function Ef(){let t=wi(_f,"tuiDropdownOpen",!1,{});return g(_f).tuiDropdownOpenChange.pipe(Dt()).subscribe(e=>t.set(e)),t}var R$=(()=>{let e=class e{constructor(){py({limitWidth:"fixed"},FN)(g(Hc,{self:!0,optional:!0}),null)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,features:[ee([aae({})])]});let t=e;return t})(),M$=(()=>{let e=class e{constructor(){g(Hc).limitWidth="auto"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e});let t=e;return t})(),N$=(()=>{let e=class e extends oI{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275cmp=Z({type:e,selectors:[["tui-dropdowns"]],hostAttrs:[2,"position","absolute","width","100%","top","0"],features:[ee([sI(A$)]),Qe],decls:2,vars:0,consts:[["viewContainer",""]],template:function(r,o){r&1&&Gd(0,null,0)},encapsulation:2,changeDetection:0});let t=e;return t})(),P$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,features:[Oe([{directive:_f,inputs:["tuiDropdownOpen","open","tuiDropdownEnabled","tuiDropdownEnabled"],outputs:["tuiDropdownOpenChange","openChange"]}])]});let t=e;return t})();function hae(t,e){t&1&&Mi(0)}var fae=["*"];function pae(t,e){if(t&1&&ce(0,"span",1),t&2){let n=e.polymorpheusOutlet;U("innerHTML",n,am)}}var mae=t=>({$implicit:t});function gae(t,e){t&1&&Mi(0)}function yae(t,e){if(t&1&&(j(0,"div",1),X(1,gae,1,0,"ng-container",2),L()),t&2){let n=e.$implicit;U("tuiActiveZoneParent",n.activeZone||null),V(),U("polymorpheusOutlet",n.component)("polymorpheusOutletContext",Qi(3,mae,n))}}var vae=new M("",{factory:()=>Cae}),L$=(()=>{let e=class e extends ct{constructor(){super([])}add(i){this.next(this.value.concat(i))}remove(i){this.value.includes(i)&&this.next(this.value.filter(r=>r!==i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_ae=(()=>{let e=class e extends CI{constructor(){super(...arguments),this.type="hint"}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,features:[Qe]});let t=e;return t})(),k$=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"],Eae={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"@tui.circle-help"},LN=new M("",{factory:()=>Eae});var VN=(()=>{let e=class e extends Ql{constructor(){super(i=>this.stream$.subscribe(i)),this.isMobile=g(Xn),this.el=de(),this.hovered$=g(ql),this.options=g(LN),this.visible=!1,this.toggle$=new at,this.stream$=Xt(this.toggle$.pipe(Ue(i=>this.isMobile?te(i):te(i).pipe(js(i?0:this.tuiHintHideDelay))),En(this.hovered$),Ha()),this.hovered$.pipe(Ue(i=>this.isMobile?te(i):te(i).pipe(js(i?this.tuiHintShowDelay:this.tuiHintHideDelay))),En(this.toggle$),Ha())).pipe(ze(()=>this.enabled),H(i=>i&&(this.el.hasAttribute("tuiHintPointer")||!ON(this.el))),Wt(i=>{this.visible=i})),this.parent=g(e,{optional:!0,skipSelf:!0}),this.tuiHintShowDelay=this.options.showDelay,this.tuiHintHideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(i=!this.visible){this.toggle$.next(i),this.parent?.toggle(i)}close(){this.toggle$.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,inputs:{tuiHintShowDelay:"tuiHintShowDelay",tuiHintHideDelay:"tuiHintHideDelay"},exportAs:["tuiHintHover"],features:[ee([yy(e),ql]),Qe]});let t=e;return t})(),NI=8,PI=24,Tn=0,zn=1,V$=(()=>{let e=class e extends Na{constructor(){super(...arguments),this.el=de(),this.offset=g(Xn)?16:8,this.viewport=g(pf),this.accessor=my("hint")(g(Es),g(U$)),this.points=k$.reduce((i,r)=>oe(O({},i),{[r]:[0,0]}),{}),this.direction=g(LN).direction,this.directionChange=new Ae,this.type="hint"}emitDirection(i){this.directionChange.emit(i)}getPosition(i,r){let o=r?.clientWidth??i.width,s=r?.clientHeight??i.height,c=this.accessor.getClientRect()??Ta,u=c.left+c.width/2,d=c.top+c.height/2,f=this.el.matches('[dir="rtl"] :scope');this.points["top-left"][Tn]=c.top-s-this.offset,this.points["top-left"][zn]=u-o+PI,this.points.top[Tn]=this.points["top-left"][Tn],this.points.top[zn]=u-o/2,this.points["top-right"][Tn]=this.points["top-left"][Tn],this.points["top-right"][zn]=u-PI,this.points["bottom-left"][Tn]=c.bottom+this.offset,this.points["bottom-left"][zn]=this.points["top-left"][zn],this.points.bottom[Tn]=this.points["bottom-left"][Tn],this.points.bottom[zn]=this.points.top[zn],this.points["bottom-right"][Tn]=this.points["bottom-left"][Tn],this.points["bottom-right"][zn]=this.points["top-right"][zn],this.points["left-top"][Tn]=d-s+PI,this.points["left-top"][zn]=c.left-o-this.offset,this.points.left[Tn]=d-s/2,this.points.left[zn]=this.points["left-top"][zn],this.points["left-bottom"][Tn]=d-PI,this.points["left-bottom"][zn]=this.points["left-top"][zn],this.points["right-top"][Tn]=this.points["left-top"][Tn],this.points["right-top"][zn]=c.right+this.offset,this.points.right[Tn]=this.points.left[Tn],this.points.right[zn]=this.points["right-top"][zn],this.points["right-bottom"][Tn]=this.points["left-bottom"][Tn],this.points["right-bottom"][zn]=this.points["right-top"][zn];let _=(Array.isArray(this.direction)?this.direction:[this.direction]).map(C=>F$(C,f)).concat(k$).find(C=>this.checkPosition(this.points[C],o,s))||this.fallback;return this.emitDirection(F$(_,f)),this.points[_]}get fallback(){return this.points.top[Tn]>this.viewport.getClientRect().bottom-this.points.bottom[Tn]?"top":"bottom"}checkPosition([i,r],o,s){let c=this.viewport.getClientRect();return i>c.top+NI&&r>c.left+NI&&i+s<c.bottom-NI&&r+o<c.right-NI}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,inputs:{direction:[0,"tuiHintDirection","direction"]},outputs:{directionChange:"tuiHintDirectionChange"},features:[Qe]});let t=e;return Tr([jr],t.prototype,"emitDirection",null),t})();function F$(t,e){return e&&t.includes("left")?t.replace("left","right"):e&&t.includes("right")?t.replace("right","left"):t}var U$=(()=>{let e=class e{constructor(){this.service=g(L$),this.appearance=g(LN).appearance,this.visible=new Ae,this.content=Y(null),this.component=g(Ir),this.el=de(),this.activeZone=g(_s,{optional:!0}),this.type="hint"}set tuiHint(i){this.content.set(i),i||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.getBoundingClientRect()}toggle(i){i&&this.content()?this.service.add(this):this.service.remove(this),this.visible.emit(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{context:[0,"tuiHintContext","context"],appearance:[0,"tuiHintAppearance","appearance"],tuiHint:"tuiHint"},outputs:{visible:"tuiHintVisible"},features:[ee([gy(e),TI(e),{provide:Ir,deps:[vae,Un],useClass:Ir}]),Oe([_ae,{directive:VN,inputs:["tuiHintHideDelay","tuiHintHideDelay","tuiHintShowDelay","tuiHintShowDelay"]},{directive:V$,inputs:["tuiHintDirection","tuiHintDirection"],outputs:["tuiHintDirectionChange","tuiHintDirectionChange"]}])]});let t=e;return t})(),wae=(()=>{let e=class e extends VN{constructor(){super(...arguments),this.currentRect=Ta}getClientRect(){return this.currentRect}onMove({clientX:i,clientY:r}){this.currentRect=mN(i,r)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(r,o){r&1&&Q("mousemove.zoneless",function(c){return o.onMove(c)})},features:[ee([gy(e),yy(e)]),Qe]});let t=e;return t})(),Iae=(()=>{let e=class e{constructor(){this.context=Bc()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(r,o){r&1&&X(0,hae,1,0,"ng-container",0),r&2&&U("polymorpheusOutlet",o.context.$implicit.content())},dependencies:[On],encapsulation:2,changeDetection:0});let t=e;return t})();var bae=[vf,ql,II("hint",V$),bI("hint",U$)],OI=8,Tae=(()=>{let e=class e{constructor(){this.el=de(),this.hover=g(VN),this.vvs=g(xI),this.viewport=g(pf),this.pointer=g(wae,{optional:!0}),this.accessor=g(Es),this.hint=Bc().$implicit,this.isMobile=g(Xn),this.content=this.hint.component.component===Iae?Y(""):this.hint.content,this.appearance=this.hint.appearance||this.hint.el.closest("[tuiTheme]")?.getAttribute("tuiTheme"),g(vf).pipe(wd(()=>this.hint.el.isConnected),H(i=>this.vvs.correct(i)),Dt()).subscribe({next:([i,r])=>this.update(i,r),complete:()=>this.hover.close()}),g(ql).pipe(Dt()).subscribe(i=>this.hover.toggle(i))}onClick(i){(!i.closest(this.el.tagName)&&!this.hint.el.contains(i)||ON(this.hint.el))&&this.hover.toggle(!1)}apply(i,r,o,s){this.el.style.top=i,this.el.style.left=r,this.el.style.setProperty("--t-top",`${o}%`),this.el.style.setProperty("--t-left",`${s}%`),this.el.style.setProperty("--t-rotate",!s||Math.ceil(s)===100?"90deg":"0deg")}update(i,r){let{clientHeight:o,clientWidth:s}=this.el,c=this.accessor.getClientRect();if(c===Ta||!o||!s)return;let u=this.viewport.getClientRect(),d=Ei(Math.max(OI,r),u.left+OI,Math.max(OI,u.width+u.left-s-OI)),[f,m]=this.vvs.correct([c.top+c.height/2-i,c.left+c.width/2-d]);this.apply(jn(Math.round(i)),jn(Math.round(d)),Math.round(Ei(f,0,o)/o*100),Math.round(Ei(m,0,s)/s*100))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostVars:6,hostBindings:function(r,o){r&1&&Q("click",function(c){return o.onClick(c.target)},Pr),r&2&&(ke("data-appearance",o.appearance)("tuiTheme",o.appearance==="dark"?"light":null),me("_untouchable",o.pointer)("_mobile",o.isMobile))},decls:0,vars:0,template:function(r,o){},encapsulation:2,changeDetection:0});let t=e;return Tr([jr],t.prototype,"apply",null),t})(),Cae=(()=>{let e=class e extends Tae{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275cmp=Z({type:e,selectors:[["tui-hint"]],features:[ee(bae),Oe([$l]),Qe],ngContentSelectors:fae,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(r,o){r&1&&(qn(),Ut(0),X(1,pae,1,1,"span",0)),r&2&&(V(),U("polymorpheusOutlet",o.content())("polymorpheusOutletContext",o.hint.context))},dependencies:[On],styles:[`[_nghost-%COMP%]{position:absolute;max-inline-size:min(18rem,calc(100% - 1rem));padding:.75rem 1rem;background:var(--tui-background-accent-1);border-radius:var(--tui-radius-l);color:var(--tui-text-primary-on-accent-1);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;overflow-wrap:break-word;transform-origin:var(--t-left) var(--t-top);--tui-background-elevation-2: var(--tui-background-elevation-3)}.tui-enter[_nghost-%COMP%], .tui-leave[_nghost-%COMP%]{animation-name:tuiFade}[_nghost-%COMP%]   tui-root._mobile.tui-enter[_nghost-%COMP%], tui-root._mobile   .tui-enter[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out,tuiScale var(--tui-duration) cubic-bezier(.34,1.56,.64,1)}[_nghost-%COMP%]   tui-root._mobile.tui-leave[_nghost-%COMP%], tui-root._mobile   .tui-leave[_nghost-%COMP%]{animation:tuiFade var(--tui-duration) ease-in-out reverse,tuiScale var(--tui-duration) ease-in-out reverse}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--t-top);left:var(--t-left);inline-size:.75rem;block-size:.5rem;background:inherit;-webkit-mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');mask-image:url('data:image/svg+xml,<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M3.61336 1.69607L2.44882 2.96493C1.84795 3.61964 0.949361 3.99951 0.00053941 4C0.000359608 4 0.000179805 4 0 4C0.000179863 4 0.000359764 4 0.000539623 4C0.949362 4.00049 1.84795 4.38036 2.44882 5.03506L3.61336 6.30394C4.55981 7.33517 5.03303 7.85079 5.63254 7.96535C5.87433 8.01155 6.12436 8.01155 6.36616 7.96535C6.96567 7.85079 7.43889 7.33517 8.38534 6.30393L9.54988 5.03507C10.1511 4.37994 11.0505 4 12 4C11.0505 4 10.1511 3.62006 9.54988 2.96493L8.38534 1.69606C7.43889 0.664826 6.96567 0.149207 6.36616 0.0346517C6.12436 -0.0115506 5.87433 -0.0115506 5.63254 0.0346517C5.03303 0.149207 4.55981 0.664827 3.61336 1.69607Z" /></svg>');transform:translate(-50%,-50%) rotate(var(--t-rotate))}._mobile[_nghost-%COMP%]{font:var(--tui-font-text-m)}._mobile[_nghost-%COMP%]:before{inline-size:1.5rem;block-size:1.125rem;-webkit-mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18"><path d="M7.22854 3.81615L4.89971 6.6711C3.69732 8.14514 1.8988 9 0 9C1.8988 9 3.69732 9.85486 4.89971 11.3289L7.22854 14.1839L7.22854 14.1839C9.12123 16.5041 10.0676 17.6643 11.2665 17.922C11.75 18.026 12.25 18.026 12.7335 17.922C13.9324 17.6643 14.8788 16.5041 16.7715 14.1839L19.1003 11.3289C20.3027 9.85486 22.1012 9 24 9C22.1012 9 20.3027 8.14514 19.1003 6.6711L16.7715 3.81614C14.8788 1.49586 13.9324 0.335716 12.7335 0.0779663C12.25 -0.0259888 11.75 -0.0259888 11.2665 0.0779663C10.0676 0.335716 9.12123 1.49586 7.22854 3.81614L7.22854 3.81615Z" /></svg>')}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-status-negative)}[data-appearance=dark][_nghost-%COMP%]{background:var(--tui-background-elevation-1);color:var(--tui-text-primary);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=top]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}`],changeDetection:0});let t=e;return t})();var B$=(()=>{let e=class e{constructor(){this.hints$=g(L$),this.destroyRef=g(xt),this.cdr=g(Tt),this.hints=[]}ngOnInit(){this.hints$.pipe(Dt(this.destroyRef)).subscribe(i=>{this.hints=i,this.cdr.detectChanges()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-hints"]],hostAttrs:["aria-live","polite"],decls:1,vars:1,consts:[["role","tooltip","tuiAnimatedParent","",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip","tuiAnimatedParent","",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(r,o){r&1&&X(0,yae,2,5,"div",0),r&2&&U("ngForOf",o.hints)},dependencies:[mi,On,_s,df],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;block-size:0}"]});let t=e;return t})();var Dae={stringify:Y(String),identityMatcher:Y(qw),disabledItemHandler:Y(Fi)},er=new M("",{factory:()=>Dae});var kI=(()=>{let e=class e{constructor(){this.defaultHandlers=g(er,{skipSelf:!0}),this.stringify=Y(this.defaultHandlers.stringify()),this.identityMatcher=Y(this.defaultHandlers.identityMatcher()),this.disabledItemHandler=Y(this.defaultHandlers.disabledItemHandler())}set stringifySetter(i){this.stringify.set(i)}set identityMatcherSetter(i){this.identityMatcher.set(i)}set disabledItemHandlerSetter(i){this.disabledItemHandler.set(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,inputs:{stringifySetter:[0,"stringify","stringifySetter"],identityMatcherSetter:[0,"identityMatcher","identityMatcherSetter"],disabledItemHandlerSetter:[0,"disabledItemHandler","disabledItemHandlerSetter"]},features:[ee([pt(er,e)])]});let t=e;return t})(),j$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,features:[Oe([{directive:kI,inputs:["stringify","stringify","identityMatcher","identityMatcher","disabledItemHandler","disabledItemHandler"]}])]});let t=e;return t})(),H$=(()=>{let e=class e extends zz{constructor(){super(...arguments),this.handlers=g(kI),this.update=sn(()=>{this.handlers.disabledItemHandler(),this.onChange()},_i),this.disabledItemHandler=i=>Array.isArray(i)?i.some(r=>this.handlers.disabledItemHandler()(r)):!!i&&this.handlers.disabledItemHandler()(i),this.validate=({value:i})=>this.disabledItemHandler(i)?{tuiDisabledItem:i}:null}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,features:[ee([pt(Po,e,!0)]),Qe]});let t=e;return t})();var Sae=(()=>{let e=class e extends cf{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $$=(()=>{let e=class e extends oI{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275cmp=Z({type:e,selectors:[["tui-popups"]],features:[ee([sI(Sae)]),Qe],decls:2,vars:0,consts:[["viewContainer",""]],template:function(r,o){r&1&&Gd(0,null,0)},encapsulation:2,changeDetection:0});let t=e;return t})();var Aae=(t,e)=>{let n=new Date(t.year,t.month,1).getDay();return n>=e?n-e:dI-(e-n)},xae=({month:t,rowIndex:e,colIndex:n,firstDayOfWeek:i})=>{let r=e*dI+n-Aae(t,i)+1;return r>t.daysCount&&(r-=t.daysCount,t=t.append({month:1})),r<=0&&(t=t.append({month:-1}),r=t.daysCount+r),new Xe(t.year,t.month,r)},Rae=6,q$=(()=>{let e=class e{constructor(){this.firstDayOfWeek=g(yI),this.currentMonth=null,this.currentSheet=[]}transform(i,r=!1){if(this.currentMonth?.monthSame(i))return this.currentSheet;let o=[];for(let s=0;s<Rae;s++){let c=[];for(let u=0;u<dI;u++){let d=xae({month:i,rowIndex:s,colIndex:u,firstDayOfWeek:this.firstDayOfWeek}),f=(y,_=i)=>y.year<_.year||y.month<_.month,m=(y,_=i)=>y.year>_.year||y.month>_.month;if(!(f(d)&&!r)){if(m(d)&&!r)break;c.push(d)}}o.push(c)}return this.currentSheet=o.filter(s=>s.length),this.currentMonth=i,this.currentSheet}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Ri({name:"tuiCalendarSheet",type:e,pure:!0});let t=e;return t})();var G$=(()=>{let e=class e{constructor(){this.months$=g(vI)}transform({month:i}){return this.months$.pipe(H(r=>r[i]||r[0]))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Ri({name:"tuiMonth",type:e,pure:!0});let t=e;return t})();function Mae(t){let e=t.length-1;return[t[e]||"",...t.slice(0,e)]}var W$=(()=>{let e=class e{constructor(){this.firstDayOfWeekIndex=g(yI)}transform(i){return i.pipe(H(Mae),H(r=>[...r.slice(this.firstDayOfWeekIndex),...r.slice(0,this.firstDayOfWeekIndex)]))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Ri({name:"tuiOrderWeekDays",type:e,pure:!0});let t=e;return t})();var Nae=["*"];function Pae(t,e){if(t&1){let n=lt();ut(0),j(1,"button",1),Q("click",function(){Ce(n);let r=W();return De(r.onLeftClick())}),re(2),L(),j(3,"span",2),Ut(4),L(),j(5,"button",3),Q("click",function(){Ce(n);let r=W();return De(r.onRightClick())}),re(6),L(),st()}if(t&2){let n=e.ngIf,i=W();V(),me("t-button_hidden",i.disabled||i.leftDisabled),U("iconStart",i.icons.decrement)("tabIndex",i.focusable?0:-1),V(),nt(" ",n[0]," "),V(3),me("t-button_hidden",i.disabled||i.rightDisabled),U("iconStart",i.icons.increment)("tabIndex",i.focusable?0:-1),V(),nt(" ",n[1]," ")}}var K$=(()=>{let e=class e{constructor(){this.icons=g(r$),this.spinTexts$=g(e$),this.focusable=!0,this.disabled=!1,this.leftDisabled=!1,this.rightDisabled=!1,this.leftClick=new Ae,this.rightClick=new Ae}onLeftClick(){!this.disabled&&!this.leftDisabled&&this.leftClick.emit()}onRightClick(){!this.disabled&&!this.rightDisabled&&this.rightClick.emit()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-spin-button"]],hostBindings:function(r,o){r&1&&Q("mousedown.zoneless.prevent",function(){return 0})("keydown.arrowLeft.prevent",function(){return o.onLeftClick()})("keydown.arrowRight.prevent",function(){return o.onRightClick()})},inputs:{focusable:"focusable",disabled:"disabled",leftDisabled:"leftDisabled",rightDisabled:"rightDisabled"},outputs:{leftClick:"leftClick",rightClick:"rightClick"},ngContentSelectors:Nae,decls:2,vars:3,consts:[[4,"ngIf"],["appearance","flat","automation-id","tui-spin-button__left","size","xs","tuiIconButton","","type","button",1,"t-button",3,"click","iconStart","tabIndex"],[1,"t-content","t-calendar-title"],["appearance","flat","automation-id","tui-spin-button__right","size","xs","tuiIconButton","","type","button",1,"t-button",3,"click","iconStart","tabIndex"]],template:function(r,o){r&1&&(qn(),X(0,Pae,7,10,"ng-container",0),et(1,"async")),r&2&&U("ngIf",on(1,1,o.spinTexts$))},dependencies:[gn,Pt,zr],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;font:var(--tui-font-text-l);text-align:center;font-weight:700}.t-button[_ngcontent-%COMP%]{transform:scaleX(var(--tui-inline))}.t-button_hidden[_ngcontent-%COMP%]{visibility:hidden}.t-content[_ngcontent-%COMP%]{padding:0 .5rem}"],changeDetection:0});let t=e;return t})();var Oae=(t,e,n,i,r)=>[t,e,n,i,r];function kae(t,e){if(t&1&&ce(0,"div",3),t&2){let n=e.$implicit;U("textContent",n)}}function Fae(t,e){if(t&1&&ce(0,"div",11),t&2){let n=W().ngIf;dt("background",(n==null?null:n[1])||"")}}function Lae(t,e){if(t&1&&(j(0,"div",10),ce(1,"div",11),X(2,Fae,1,2,"div",12),L()),t&2){let n=e.ngIf;V(),dt("background",n==null?null:n[0]),V(),U("ngIf",n.length>1)}}function Vae(t,e){if(t&1){let n=lt();j(0,"div",8),et(1,"tuiMapper"),Q("click",function(){Ce(n);let r=W().tuiLet,o=W(4);return De(o.onItemClick(r))})("tuiHoveredChange",function(r){Ce(n);let o=W().tuiLet,s=W(4);return De(s.onItemHovered(r&&o))}),re(2),X(3,Lae,3,3,"div",9),et(4,"tuiMapper"),L()}if(t&2){let n=W().tuiLet,i=W(4);me("t-cell_disabled",i.disabledItemHandler(n))("t-cell_today",i.itemIsToday(n))("t-cell_unavailable",i.itemIsUnavailable(n)),ke("data-range",i.getItemRange(n))("data-type",rc(1,10,n,i.dayTypeHandler)),V(2),nt(" ",n.day," "),V(),U("ngIf",Xs(4,13,zD(19,Oae,n,i.toMarkers,i.itemIsToday(n),i.getItemRange(n),i.markerHandler)))}}function Uae(t,e){if(t&1&&(ut(0),X(1,Vae,5,25,"div",7),st()),t&2){let n=e.tuiLet,i=W(4);V(),U("ngIf",n&&(!i.itemIsUnavailable(n)||i.showAdjacent))}}function Bae(t,e){if(t&1&&(ut(0),X(1,Uae,2,1,"ng-container",2),st()),t&2){let n=e.$implicit,i=W().$implicit,r=W().tuiLet;V(),U("tuiLet",r[i]==null?null:r[i][n])}}function jae(t,e){if(t&1&&(j(0,"div",5),X(1,Bae,2,1,"ng-container",6),L()),t&2){let n=e.$implicit,i=W().tuiLet;V(),U("tuiRepeatTimesOf",(i[n]==null?null:i[n].length)||0)}}function Hae(t,e){if(t&1&&(j(0,"div"),X(1,jae,2,1,"div",4),L()),t&2){let n=e.tuiLet;V(),U("tuiRepeatTimesOf",n.length)}}function zae(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=W();V(),nt(" ",n.value.formattedYear," ")}}function $ae(t,e){if(t&1){let n=lt();j(0,"button",3),Q("click",function(){Ce(n);let r=W();return De(r.onYearClick())}),re(1),L()}if(t&2){let n=W();V(),nt(" ",n.value.formattedYear," ")}}function qae(t,e){if(t&1){let n=lt();j(0,"div",4),Q("click",function(){let r=Ce(n).tuiLet,o=W(3);return De(o.yearClick.emit(r))})("tuiHoveredChange",function(r){let o=Ce(n).tuiLet,s=W(3);return De(s.onItemHovered(r,o))}),re(1),L()}if(t&2){let n=e.tuiLet,i=W(3);me("t-cell_disabled",i.isDisabled(n))("t-cell_today",i.itemIsToday(n)),U("tuiScrollIntoView",i.scrollItemIntoView(n)),ke("data-range",i.getItemRange(n)),V(),nt(" ",n," ")}}function Gae(t,e){if(t&1&&(ut(0),X(1,qae,2,7,"div",3),st()),t&2){let n=e.$implicit,i=W().$implicit,r=W();V(),U("tuiLet",r.getItem(i,n))}}function Wae(t,e){t&1&&(j(0,"div",1),X(1,Gae,2,1,"ng-container",2),L()),t&2&&(V(),U("tuiRepeatTimesOf",4))}function Kae(t,e){if(t&1){let n=lt();j(0,"tui-scrollbar",2)(1,"tui-calendar-year",3),Q("yearClick",function(r){Ce(n);let o=W();return De(o.onPickerYearClick(r))}),L()()}if(t&2){let n=W();V(),U("initialItem",n.month.year)("max",n.computedMax.year)("min",n.computedMin.year)("rangeMode",n.options.rangeMode)("value",n.value)}}function Qae(t,e){if(t&1){let n=lt();j(0,"tui-calendar-spin",4),Q("valueChange",function(r){Ce(n);let o=W();return De(o.onPaginationValueChange(r))})("yearClick",function(){Ce(n);let r=W();return De(r.onPaginationYearClick())}),L(),j(1,"tui-calendar-sheet",5),et(2,"tuiMapper"),Q("dayClick",function(r){Ce(n);let o=W();return De(o.onDayClick(r))})("hoveredItemChange",function(r){Ce(n);let o=W();return De(o.onHoveredItemChange(r))}),L()}if(t&2){let n=W();U("max",n.computedMaxViewedMonth)("min",n.computedMinViewedMonth)("value",n.month),V(),U("disabledItemHandler",qD(2,9,n.disabledItemHandler,n.disabledItemHandlerMapper,n.computedMin,n.computedMax))("hoveredItem",n.hoveredItem)("markerHandler",n.markerHandler)("month",n.month)("showAdjacent",n.showAdjacent)("value",n.value)}}var Z$={rangeMode:!1},UN=new M("",{factory:()=>Z$});function X$(t){return ys(UN,t,Z$)}var Yae=(()=>{let e=class e{constructor(){this.options=g(UN),this.today=Xe.currentLocal(),this.unorderedWeekDays$=g(t$),this.dayTypeHandler=g(Zz),this.month=_n.currentLocal(),this.disabledItemHandler=Fi,this.markerHandler=null,this.value=null,this.hoveredItem=null,this.showAdjacent=!0,this.single=!0,this.hoveredItemChange=new Ae,this.dayClick=new Ae,this.toMarkers=(i,r,o,s)=>{if(r||["active","end","start"].includes(o||""))return null;let c=s?.(i);return c?.length?c:null}}itemIsInterval(i){let{value:r,hoveredItem:o}=this;if(!(r instanceof Ui))return!1;if(!r.isSingleDay)return r.from.daySameOrBefore(i)&&r.to.dayAfter(i);if(o===null)return!1;let s=Ui.sort(r.from,o);return s.from.daySameOrBefore(i)&&s.to.dayAfter(i)}onItemHovered(i){this.updateHoveredItem(i||null)}getItemRange(i){let{value:r,hoveredItem:o}=this;if(!r)return null;if(r instanceof Xe&&!this.computedRangeMode)return r.daySame(i)?"active":null;if(r instanceof Ui&&r.isSingleDay)return r.from.daySame(i)?"active":null;if(!(r instanceof Xe)&&!(r instanceof Ui))return r.find(c=>c.daySame(i))?"active":null;let s=this.getRange(r,o);return s.isSingleDay&&s.from.daySame(i)?"active":s.from.daySame(i)?"start":s.to.daySame(i)?"end":s.from.dayBefore(i)&&s.to.dayAfter(i)?"middle":null}get computedRangeMode(){return!this.single||this.options.rangeMode}get isRangePicking(){return this.computedRangeMode?this.value instanceof Xe:this.value instanceof Ui&&this.value.isSingleDay}itemIsToday(i){return this.today.daySame(i)}itemIsUnavailable(i){return!this.month.monthSame(i)}onItemClick(i){this.dayClick.emit(i)}getRange(i,r){return i instanceof Xe?Ui.sort(i,r??i):i.isSingleDay?Ui.sort(i.from,r??i.to):i}updateHoveredItem(i){ry(this.hoveredItem,i,(r,o)=>r.daySame(o))||(this.hoveredItem=i,this.hoveredItemChange.emit(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-calendar-sheet"]],hostVars:2,hostBindings:function(r,o){r&2&&me("_picking",o.isRangePicking)},inputs:{month:"month",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",value:"value",hoveredItem:"hoveredItem",showAdjacent:"showAdjacent",single:"single"},outputs:{hoveredItemChange:"hoveredItemChange",dayClick:"dayClick"},decls:6,vars:9,consts:[[1,"t-row","t-row_weekday"],["class","t-cell",3,"textContent",4,"ngFor","ngForOf"],[4,"tuiLet"],[1,"t-cell",3,"textContent"],["automation-id","tui-calendar-sheet__row","class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-sheet__row",1,"t-row"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-sheet__cell","class","t-cell",3,"t-cell_disabled","t-cell_today","t-cell_unavailable","click","tuiHoveredChange",4,"ngIf"],["automation-id","tui-calendar-sheet__cell",1,"t-cell",3,"click","tuiHoveredChange"],["class","t-dots",4,"ngIf"],[1,"t-dots"],[1,"t-dot"],["class","t-dot",3,"background",4,"ngIf"]],template:function(r,o){r&1&&(j(0,"div",0),X(1,kae,1,1,"div",1),et(2,"tuiOrderWeekDays"),et(3,"async"),L(),X(4,Hae,2,1,"div",2),et(5,"tuiCalendarSheet")),r&2&&(V(),U("ngForOf",on(3,4,on(2,2,o.unorderedWeekDays$))),V(3),U("tuiLet",rc(5,6,o.month,!0)))},dependencies:[In,mi,Pt,gn,q$,TN,DN,Wl,W$,RN],styles:[`.t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;-webkit-mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem));mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);-webkit-mask:none;mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}.t-cell[_ngcontent-%COMP%]{inline-size:calc(100% / 7)}[data-type=weekday][_ngcontent-%COMP%]{color:var(--tui-text-primary)}[data-type=weekend][_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-row[_ngcontent-%COMP%]{justify-content:flex-start}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row_weekday[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none}.t-cell_unavailable[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}.t-dots[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;justify-content:center;margin-block-start:-.5rem;padding-block-end:.25rem}.t-dot[_ngcontent-%COMP%]{display:inline-block;inline-size:.25rem;block-size:.25rem;border-radius:100%;margin:0 .0625rem}`],changeDetection:0});let t=e;return Tr([jr],t.prototype,"getRange",null),t})(),Zae=(()=>{let e=class e{constructor(){this.value=_n.currentLocal(),this.min=Bi,this.max=wr,this.valueChange=new Ae,this.yearClick=new Ae}onYearClick(){this.yearClick.next(this.value)}append(i){let r=this.value.append(i);this.min.monthSameOrAfter(r)?this.updateValue(this.min):this.updateValue(this.max.monthSameOrBefore(r)?this.max:r)}updateValue(i){this.value.monthSame(i)||(this.value=i,this.valueChange.emit(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-calendar-spin"]],inputs:{value:"value",min:"min",max:"max"},outputs:{valueChange:"valueChange",yearClick:"yearClick"},decls:7,vars:10,consts:[["button",""],[3,"leftClick","rightClick","focusable","leftDisabled","rightDisabled"],[4,"ngIf","ngIfElse"],["id","year-btn","automation-id","tui-primitive-year-month-pagination__year-button","tabIndex","-1","tuiLink","","type","button",3,"click"]],template:function(r,o){if(r&1){let s=lt();j(0,"tui-spin-button",1),Q("leftClick",function(){return Ce(s),De(o.append({month:-1}))})("rightClick",function(){return Ce(s),De(o.append({month:1}))}),re(1),et(2,"tuiMonth"),et(3,"async"),X(4,zae,2,1,"ng-container",2)(5,$ae,2,1,"ng-template",null,0,ai),L()}if(r&2){let s=si(6);U("focusable",!1)("leftDisabled",o.value.monthSameOrBefore(o.min))("rightDisabled",o.value.monthSameOrAfter(o.max)),V(),nt(" ",on(3,8,on(2,6,o.value))," "),V(3),U("ngIf",o.min.year===o.max.year)("ngIfElse",s)}},dependencies:[gn,Pt,_$,G$,K$],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})(),Q$=100,Y$=4,FI=_n.currentLocal().year,Xae=(()=>{let e=class e{constructor(){this.hoveredItem=Y(null),this.isRangePicking=xe((i=this.value())=>this.rangeMode&&(i instanceof Xe||i instanceof _n)),this.rangeMode=!1,this.disabledItemHandler=g(er).disabledItemHandler(),this.yearClick=new Ae,this.initialItem=Y(FI),this.min=Y(Hl),this.max=Y(zl),this.value=Y(null)}set initialItemSetter(i){this.initialItem.set(i??FI)}set minSetter(i){this.min.set(i)}set maxSetter(i){this.max.set(i)}set valueSetter(i){this.value.set(i)}isDisabled(i){return this.max()&&this.max()<i||this.min()&&this.min()>i||this.disabledItemHandler(i)}getItemRange(i){let r=this.value(),o=this.hoveredItem();if(r instanceof Vi&&r.year===i)return"active";if(Yw(r))return r===i?"active":null;if(!(r instanceof dy)&&!(r instanceof Vi))return r?.find(m=>m.year===i)?"active":null;let s=this.isRangePicking()?o:null,c="from"in r?r.from?.year:r.year,u="from"in r?r.to.year:r.year,d=Math.min(c,s??u),f=Math.max(c,s??u);return d===f&&c===u&&c===i?"active":d===i?"start":f===i?"end":d<i&&i<f?"middle":null}onItemHovered(i,r){this.hoveredItem.set(i?r:null)}get rows(){return Math.ceil((this.calculatedMax-this.calculatedMin)/Y$)}scrollItemIntoView(i){return this.initialItem()===i}getItem(i,r){return i*Y$+r+this.calculatedMin}itemIsToday(i){return FI===i}get calculatedMin(){let i=this.initialItem()-Q$,r=this.min()??Hl;return r>i?r:i}get calculatedMax(){let i=this.initialItem()+Q$,r=this.max()??zl;return r<i?r+1:i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-calendar-year"]],hostVars:2,hostBindings:function(r,o){r&2&&me("_picking",o.isRangePicking())},inputs:{rangeMode:"rangeMode",disabledItemHandler:"disabledItemHandler",initialItemSetter:[2,"initialItem","initialItemSetter",i=>i??FI],minSetter:[2,"min","minSetter",i=>i??Hl],maxSetter:[2,"max","maxSetter",i=>i??zl],valueSetter:[0,"value","valueSetter"]},outputs:{yearClick:"yearClick"},features:[ee([Gl(e)])],decls:1,vars:1,consts:[["automation-id","tui-calendar-year__row","class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-year__row",1,"t-row"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-year__cell","class","t-cell",3,"t-cell_disabled","t-cell_today","tuiScrollIntoView","click","tuiHoveredChange",4,"tuiLet"],["automation-id","tui-calendar-year__cell",1,"t-cell",3,"click","tuiHoveredChange","tuiScrollIntoView"]],template:function(r,o){r&1&&X(0,Wae,2,1,"div",0),r&2&&U("tuiRepeatTimesOf",o.rows)},dependencies:[TN,DN,RN,yf],styles:[`.t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;-webkit-mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem));mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 32"><path d="M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);-webkit-mask:none;mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}[_nghost-%COMP%]{display:block;padding-inline-end:1rem;inline-size:15.75rem;padding:0 1.125rem}.t-cell[_ngcontent-%COMP%]{flex:1;border-block-start-width:.5rem;border-block-end-width:.5rem}`],changeDetection:0});let t=e;return t})(),zc=(()=>{let e=class e{constructor(){this.cdr=g(Tt),this.day=null,this.view="month",this.options=g(UN),this.month=_n.currentLocal(),this.disabledItemHandler=g(er).disabledItemHandler(),this.min=Bi,this.max=wr,this.minViewedMonth=Bi,this.maxViewedMonth=wr,this.hoveredItem=null,this.showAdjacent=!0,this.markerHandler=null,this.dayClick=new Ae,this.monthChange=new Ae,this.hoveredItemChange=new Ae,this.valueChange=new at,this.disabledItemHandlerMapper=(i,r,o)=>s=>s.dayBefore(r)||s.dayAfter(o)||i(s)}set value(i){this.cdr.markForCheck(),this.day=i,this.showAdjacent&&i instanceof Xe&&i.daySameOrBefore(Az)&&(this.month=i)}set initialView(i){this.view=i}get value(){return this.day}onPaginationValueChange(i){this.updateViewedMonth(i)}onDayClick(i){this.dayClick.emit(i),this.valueChange.next(i)}onHoveredItemChange(i){this.updateHoveredDay(i)}get computedMin(){return this.min??Bi}get computedMax(){return this.max??wr}get computedMinViewedMonth(){let i=this.computedMin,r=this.minViewedMonth??Bi;return r.monthSameOrAfter(i)?r:i}get computedMaxViewedMonth(){let i=this.computedMax,r=this.maxViewedMonth??wr;return r.monthSameOrBefore(i)?r:i}get isInYearView(){return this.view==="year"}onPaginationYearClick(){this.view="year"}onPickerYearClick(i){this.view="month",this.updateViewedMonth(new _n(i,this.month.month))}updateViewedMonth(i){this.month.monthSame(i)||(this.month=i,this.monthChange.emit(i))}updateHoveredDay(i){ry(this.hoveredItem,i,(r,o)=>r.daySame(o))||(this.hoveredItem=i,this.hoveredItemChange.emit(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-calendar"]],hostBindings:function(r,o){r&1&&Q("pointerdown.prevent.zoneless",function(){return 0})},inputs:{month:"month",disabledItemHandler:"disabledItemHandler",min:"min",max:"max",minViewedMonth:"minViewedMonth",maxViewedMonth:"maxViewedMonth",hoveredItem:"hoveredItem",showAdjacent:"showAdjacent",markerHandler:"markerHandler",value:"value",initialView:"initialView"},outputs:{dayClick:"dayClick",monthChange:"monthChange",hoveredItemChange:"hoveredItemChange"},features:[ee([Gl(e)])],decls:3,vars:2,consts:[["calendar",""],["automation-id","tui-calendar__scrollbar","class","t-scrollbar",4,"ngIf","ngIfElse"],["automation-id","tui-calendar__scrollbar",1,"t-scrollbar"],["automation-id","tui-calendar__year",3,"yearClick","initialItem","max","min","rangeMode","value"],["automation-id","tui-calendar__pagination",1,"t-pagination",3,"valueChange","yearClick","max","min","value"],["automation-id","tui-calendar__calendar",3,"dayClick","hoveredItemChange","disabledItemHandler","hoveredItem","markerHandler","month","showAdjacent","value"]],template:function(r,o){if(r&1&&X(0,Kae,2,5,"tui-scrollbar",1)(1,Qae,3,14,"ng-template",null,0,ai),r&2){let s=si(2);U("ngIf",o.isInYearView)("ngIfElse",s)}},dependencies:[Pt,Yae,Zae,Xae,Wl,AI],styles:["[_nghost-%COMP%]{display:block;min-block-size:20.25rem;inline-size:18rem;padding:1rem 1.125rem;box-sizing:border-box;flex-shrink:0}tui-dropdown-mobile[_nghost-%COMP%], tui-dropdown-mobile   [_nghost-%COMP%]{inline-size:100%}tui-calendar-year[_ngcontent-%COMP%]{padding:0}.t-scrollbar[_ngcontent-%COMP%]{block-size:18.25rem;inline-size:calc(100% + 1rem)}.t-pagination[_ngcontent-%COMP%]{margin-block-end:1rem}"],changeDetection:0});let t=e;return t})();var Jae=["tuiOption",""],e5=["*"],ece=t=>({$implicit:t});function tce(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=e.polymorpheusOutlet;V(),nt(" ",n," ")}}function nce(t,e){t&1&&Ut(0)}function ice(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=e.polymorpheusOutlet;V(),nt(" ",n," ")}}function rce(t,e){if(t&1&&(j(0,"div",1),X(1,ice,2,1,"ng-container",2),L()),t&2){let n=W();V(),U("polymorpheusOutlet",n.emptyContent||n.fallback())}}var oce=new M("");function BN(t){return[pt(oce,t),Gl(t)]}var Zl=new M("");function t5(t){return pt(Zl,t)}var $c=new M("");function LI(t){return{provide:$c,useValue:t}}var jN=(()=>{let e=class e{constructor(){this.localContent=null,this.globalContent=g($c,{optional:!0})}get content(){return this.globalContent??this.localContent}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,contentQueries:function(r,o,s){if(r&1&&oi(s,$c,5),r&2){let c;Bt(c=jt())&&(o.localContent=c.first)}}});let t=e;return t})(),n5=(()=>{let e=class e{constructor(){this.vcr=g(Vt),this.isMobile=g(Xn),this.el=de(),this.dataList=g(Gi(()=>ws),{optional:!0}),this.content=g($c,{optional:!0}),this.ref=this.content&&k_(this.content,{environmentInjector:g(Jt),elementInjector:g(Un),hostElement:de()}),this.dropdown=g(Ji,{self:!0,optional:!0})?.ref,this.disabled=!1,this.ref&&(this.vcr.insert(this.ref.hostView),this.ref.changeDetectorRef.detectChanges())}ngOnDestroy(){this.dataList?.handleFocusLossIfNecessary(this.el)}onMouseMove(){!this.isMobile&&!sf(this.el)&&this.dataList&&this.el.closest("[tuiDataListDropdownManager]")&&this.el.focus({preventScroll:!0})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["button","tuiOption","","new",""],["a","tuiOption","","new",""],["label","tuiOption","","new",""]],hostAttrs:["type","button","role","option"],hostVars:3,hostBindings:function(r,o){r&1&&Q("mousemove.zoneless",function(){return o.onMouseMove()}),r&2&&(ke("disabled",o.disabled||null),me("_with-dropdown",o.dropdown==null?null:o.dropdown()))},inputs:{disabled:"disabled"},features:[Oe([Pa])]});let t=e;return t})(),Xl=(()=>{let e=class e{constructor(){this.host=g(Zl,{optional:!0}),this.disabled=!1,this.value=Y(void 0)}set valueSetter(i){this.value.set(i)}onClick(i=this.value()){this.host?.handleOption&&i!==void 0&&this.host.handleOption(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["button","tuiOption","","value","","new",""],["a","tuiOption","","value","","new",""],["label","tuiOption","","value","","new",""]],hostBindings:function(r,o){r&1&&Q("click",function(){return o.onClick()})},inputs:{disabled:"disabled",valueSetter:[0,"value","valueSetter"]}});let t=e;return t})(),Jl=(()=>{let e=class e{constructor(){this.isMobile=g(Xn),this.el=de(),this.dataList=g(Gi(()=>ws),{optional:!0}),this.host=g(Zl,{optional:!0}),this.content=g($c,{optional:!0}),this.dropdown=g(Ji,{self:!0,optional:!0})?.ref,this.disabled=!1}ngOnDestroy(){this.dataList?.handleFocusLossIfNecessary(this.el)}onClick(){this.host?.handleOption&&this.value!==void 0&&this.host.handleOption(this.value)}onMouseMove(){!this.isMobile&&!sf(this.el)&&this.dataList&&this.el.closest("[tuiDataListDropdownManager]")&&this.el.focus({preventScroll:!0})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["button","tuiOption","",3,"new",""],["a","tuiOption","",3,"new",""],["label","tuiOption","",3,"new",""]],hostAttrs:["type","button","role","option"],hostVars:3,hostBindings:function(r,o){r&1&&Q("click",function(){return o.onClick()})("mousemove.zoneless",function(){return o.onMouseMove()}),r&2&&(ke("disabled",o.disabled||null),me("_with-dropdown",o.dropdown==null?null:o.dropdown()))},inputs:{disabled:"disabled",value:"value"},features:[Oe([Pa])],attrs:Jae,ngContentSelectors:e5,decls:3,vars:4,consts:[["t",""],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(r,o){if(r&1&&(qn(),X(0,tce,2,1,"ng-container",1)(1,nce,1,0,"ng-template",null,0,ai)),r&2){let s=si(2);U("polymorpheusOutlet",o.content||s)("polymorpheusOutletContext",Qi(2,ece,s))}},dependencies:[On],encapsulation:2,changeDetection:0});let t=e;return t})();function HN(){let t=["s","m","l"],e=g(Zl,{optional:!0})?.size;return e&&t.includes(e)?e:"l"}var ws=(()=>{let e=class e{constructor(){this.legacyOptionsQuery=Vc,this.optionsQuery=Vc,this.ngZone=g(_e),this.destroyRef=g(xt),this.el=de(),this.cdr=g(Tt),this.contentReady$=new Uo(1),this.fallback=an(g(Jz)),this.empty=Y(!1),this.size=HN(),this.options=an(this.contentReady$.pipe(Ue(()=>jo([oy(this.legacyOptionsQuery),oy(this.optionsQuery)])),H(([i,r])=>[...i.map(({value:o})=>o),...r.map(({value:o})=>o())].filter(Er)),vt([])),{requireSync:!0})}onKeyDownArrow(i,r){let{elements:o}=this;wz(o.indexOf(i),o,r)}handleFocusLossIfNecessary(i=this.el){ay(i)&&this.origin?.focus({preventScroll:!0})}ngAfterContentInit(){this.contentReady$.next(!0)}ngAfterContentChecked(){fi(0).pipe(Oo(this.ngZone),Jw(this.destroyRef)).subscribe(()=>{this.empty.set(!this.elements.length),this.cdr.detectChanges()})}getOptions(i=!1){return[...this.legacyOptionsQuery,...this.optionsQuery].filter(({disabled:r})=>i||!r).map(({value:r})=>ur(r)?r():r).filter(Er)}onFocusIn(i,r){!r.contains(i)&&!this.origin&&(this.origin=i)}get elements(){return Array.from(this.el.querySelectorAll("[tuiOption]"))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-data-list"]],contentQueries:function(r,o,s){if(r&1&&(oi(s,Jl,5),oi(s,Xl,5)),r&2){let c;Bt(c=jt())&&(o.legacyOptionsQuery=c),Bt(c=jt())&&(o.optionsQuery=c)}},hostAttrs:["role","listbox"],hostVars:1,hostBindings:function(r,o){r&1&&Q("focusin",function(c){return o.onFocusIn(c.relatedTarget,c.currentTarget)})("mousedown.prevent",function(){return 0})("wheel.zoneless.passive",function(){return o.handleFocusLossIfNecessary()})("mouseleave",function(c){return o.handleFocusLossIfNecessary(c.target)})("keydown.tab",function(){return o.handleFocusLossIfNecessary()})("keydown.shift.tab",function(){return o.handleFocusLossIfNecessary()})("keydown.arrowDown.prevent",function(c){return o.onKeyDownArrow(c.target,1)})("keydown.arrowUp.prevent",function(c){return o.onKeyDownArrow(c.target,-1)}),r&2&&ke("data-size",o.size)},inputs:{emptyContent:"emptyContent",size:"size"},features:[ee([BN(e),{provide:$c,useFactory:()=>g(jN,{optional:!0})?.content??g($c,{host:!0,skipSelf:!0,optional:!0})??g($c,{skipSelf:!0,optional:!0})}])],ngContentSelectors:e5,decls:2,vars:1,consts:[["class","t-empty",4,"ngIf"],[1,"t-empty"],[4,"polymorpheusOutlet"]],template:function(r,o){r&1&&(qn(),Ut(0),X(1,rce,2,1,"div",0)),r&2&&(V(),U("ngIf",o.empty()))},dependencies:[Pt,On],styles:[`tui-data-list{--tui-data-list-padding: .25rem;--tui-data-list-margin: .0625rem;display:flex;font:var(--tui-font-text-m);flex-direction:column;padding:calc(var(--tui-data-list-padding) - var(--tui-data-list-margin)) var(--tui-data-list-padding);color:var(--tui-text-tertiary)}tui-data-list:focus-within .t-trap{display:none}tui-data-list:focus-within [tuiOption]._with-dropdown:not(:focus){background-color:transparent}tui-data-list[data-size=s]{--tui-data-list-margin: 0rem}tui-data-list[data-size=s] [tuiOption][new]:not([tuiCell]){gap:.5rem}tui-data-list[data-size=s]>.t-empty,tui-data-list[data-size=s] [tuiOption]{--t-option-padding-inline: .375rem;font:var(--tui-font-text-s);min-block-size:2rem;padding-block-start:.3125rem;padding-block-end:.3125rem}tui-data-list[data-size=s]>.t-empty:before,tui-data-list[data-size=s] [tuiOption]:before{font-size:1rem}tui-data-list[data-size=m] [tuiOption][new]:not([tuiCell]){gap:.75rem}tui-data-list[data-size=m]>.t-empty,tui-data-list[data-size=m] [tuiOption]{--t-option-padding-inline: .5rem;font:var(--tui-font-text-s);min-block-size:2.5rem;padding-block-start:.375rem;padding-block-end:.375rem}tui-data-list[data-size=l]{--tui-data-list-padding: .375rem;--tui-data-list-margin: .125rem}tui-data-list[data-size=l] [tuiOption][new]:not([tuiCell]){gap:1rem}tui-data-list[data-size=l]>.t-empty,tui-data-list[data-size=l] [tuiOption]{--t-option-padding-inline: .625rem;font:var(--tui-font-text-m);min-block-size:2.75rem;padding-block-start:.375rem;padding-block-end:.375rem}tui-data-list>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0}tui-data-list [tuiOption]:not([new]){justify-content:space-between}tui-data-list [tuiOption]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;text-align:start;color:var(--tui-text-primary);border-radius:var(--tui-radius-s);outline:none;cursor:pointer;background-clip:padding-box}tui-data-list [tuiOption]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}@media (hover: hover) and (pointer: fine){tui-data-list [tuiOption]:hover:not(:disabled){background-color:var(--tui-background-neutral-1)}}tui-data-list [tuiOption]:active:not(:disabled),tui-data-list [tuiOption]:focus-within,tui-data-list [tuiOption]._with-dropdown{background-color:var(--tui-background-neutral-1)}tui-data-list [tuiOption]:not([new]):before{margin-inline-end:.5rem}tui-data-list [tuiOption]:after{font-size:1rem;margin:0 -.625rem 0 auto;border-inline-start:.5rem solid;border-inline-end:.5rem solid}tui-data-list>.t-empty,tui-data-list [tuiOption]{padding-inline-start:var(--t-option-padding-inline);padding-inline-end:var(--t-option-padding-inline)}tui-opt-group{position:relative;display:flex;font:var(--tui-font-text-xs);font-weight:700;color:var(--tui-text-primary);flex-direction:column;line-height:1rem}tui-data-list[data-size=l] tui-opt-group{font:var(--tui-font-text-m);font-weight:700;line-height:1.25rem}tui-data-list[data-size=l] tui-opt-group:before{padding-inline-start:.625rem;padding-inline-end:.625rem}tui-data-list[data-size=l] tui-opt-group:after{left:.625rem;right:.625rem}tui-opt-group:empty:before,tui-opt-group:empty:after{display:none}tui-opt-group:before{content:attr(data-label);padding:var(--tui-data-list-padding) .5rem var(--tui-data-list-padding);margin:var(--tui-data-list-margin) 0;white-space:normal;word-break:break-word}tui-opt-group:after{position:absolute;left:.5rem;right:.5rem;top:var(--tui-data-list-padding);block-size:1px;background:var(--tui-border-normal)}tui-opt-group:not(:empty)~tui-opt-group:before{padding-block-start:calc(.75rem + var(--tui-data-list-padding))}tui-opt-group:not(:empty)~tui-opt-group[data-label=""]:before,tui-opt-group:not(:empty)~tui-opt-group:not([data-label]):before{padding:var(--tui-data-list-padding) 0}tui-opt-group:not(:empty)~tui-opt-group:after{content:""}tui-opt-group[data-label=""]:before,tui-opt-group:not([data-label]):before{content:"";padding:0;margin:0}
`],encapsulation:2,changeDetection:0});let t=e;return t})();function sce(t,e){t&1&&Mi(0)}function ace(t,e){if(t&1&&(j(0,"section",2),X(1,sce,1,0,"ng-container",3),ce(2,"tui-scroll-controls",4),L()),t&2){let n=e.$implicit;ke("aria-labelledby",n.id),V(),U("polymorpheusOutlet",n.component)("polymorpheusOutletContext",n)}}var cce=new M("",{factory:()=>new ct([])}),uce={appearance:"",size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:"",data:void 0},k4e=new M("",{factory:()=>kt}),F4e=new M("",{factory:()=>uce});var L4e=new Error("Required dialog was dismissed");var i5=(()=>{let e=class e{constructor(){this.dialogs=an(g(cce),{initialValue:[]})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-dialogs"]],decls:2,vars:3,consts:[[1,"t-overlay"],["aria-modal","true","role","dialog","tuiAnimatedParent","","tuiFocusTrap","","tuiScrollRef","","class","t-dialog",4,"ngFor","ngForOf"],["aria-modal","true","role","dialog","tuiAnimatedParent","","tuiFocusTrap","","tuiScrollRef","",1,"t-dialog"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-scrollbars"]],template:function(r,o){r&1&&(ce(0,"div",0),X(1,ace,3,3,"section",1)),r&2&&(me("t-overlay_visible",o.dialogs().length),V(),U("ngForOf",o.dialogs()))},dependencies:[mi,On,df,kz,Yl,T$],styles:['[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;scrollbar-width:none;-ms-overflow-style:none;pointer-events:none;overflow:hidden;overscroll-behavior:none;overflow-wrap:break-word;margin-block-start:var(--t-root-top)}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{display:none}[_nghost-%COMP%]:has(section){pointer-events:auto;overflow:auto}[_nghost-%COMP%]:before{content:"";display:block;block-size:200%}.t-overlay[_ngcontent-%COMP%], .t-dialog[_ngcontent-%COMP%]{transition-property:filter;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;scrollbar-width:none;-ms-overflow-style:none;position:fixed;top:0;left:0;bottom:0;right:0;display:flex;block-size:100%;align-items:flex-start;outline:none;overflow:auto}.t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar, .t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-overlay[_ngcontent-%COMP%]:has(>.tui-enter), .t-dialog[_ngcontent-%COMP%]:has(>.tui-enter), .t-overlay[_ngcontent-%COMP%]:has(>.tui-leave), .t-dialog[_ngcontent-%COMP%]:has(>.tui-leave){overflow:clip}.t-dialog[_ngcontent-%COMP%]{position:sticky;overscroll-behavior:none;filter:brightness(.25)}.t-dialog[_ngcontent-%COMP%]:has(tui-dialog[new]){display:grid;place-items:center}.t-overlay[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;background:var(--tui-service-backdrop);-webkit-backdrop-filter:var(--tui-backdrop, none);backdrop-filter:var(--tui-backdrop, none);opacity:0;transition-timing-function:ease-in}.t-overlay_visible[_ngcontent-%COMP%]{opacity:1;transition-timing-function:ease-out}.t-dialog[_ngcontent-%COMP%]:last-child{pointer-events:auto;filter:none}tui-root:has(tui-dropdown-mobile._sheet)[_nghost-%COMP%]   .t-dialog[_ngcontent-%COMP%]:last-child, tui-root:has(tui-dropdown-mobile._sheet)   [_nghost-%COMP%]   .t-dialog[_ngcontent-%COMP%]:last-child{filter:brightness(.5)}.t-scrollbars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;margin:0;color:#747474}']});let t=e;return t})();var lce=["*"];function dce(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=e.polymorpheusOutlet;V(),nt(" ",n," ")}}function hce(t,e){if(t&1&&(j(0,"div",6),X(1,dce,2,1,"ng-container",7),L()),t&2){let n=W(2);me("t-text_horizontal",n.isHorizontal),V(),U("polymorpheusOutlet",n.textContent)}}function fce(t,e){if(t&1&&(j(0,"div",2),Rv(),j(1,"svg",3),ce(2,"circle",4),L(),X(3,hce,2,3,"div",5),L()),t&2){let n=W();me("t-loader_horizontal",n.isHorizontal)("t-loader_inherit-color",n.inheritColor),V(3),U("ngIf",n.textContent)}}var pce={size:"m",inheritColor:!1,overlay:!1},mce=new M("",{factory:()=>pce});var qc=(()=>{let e=class e{constructor(){this.isIOS=g(Uc),this.options=g(mce),this.isApple=mz(de())||this.isIOS,this.size=this.options.size,this.inheritColor=this.options.inheritColor,this.overlay=this.options.overlay,this.loading=!0}get isHorizontal(){return!c$(this.size)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-loader"]],hostVars:3,hostBindings:function(r,o){r&2&&(ke("data-size",o.size),me("_loading",o.loading))},inputs:{size:"size",inheritColor:"inheritColor",overlay:"overlay",textContent:"textContent",loading:[0,"showLoader","loading"]},ngContentSelectors:lce,decls:3,vars:7,consts:[[1,"t-content",3,"disabled"],["class","t-loader",3,"t-loader_horizontal","t-loader_inherit-color",4,"ngIf"],[1,"t-loader"],["automation-id","tui-loader__loader","focusable","false","height","100%","width","100%",1,"t-icon"],["cx","50%","cy","50%",1,"t-circle"],["automation-id","tui-loader__text","class","t-text",3,"t-text_horizontal",4,"ngIf"],["automation-id","tui-loader__text",1,"t-text"],[4,"polymorpheusOutlet"]],template:function(r,o){r&1&&(qn(),j(0,"fieldset",0),Ut(1),L(),X(2,fce,4,5,"div",1)),r&2&&(me("t-content_has-overlay",o.overlay&&o.loading)("t-content_loading",o.loading),U("disabled",o.loading&&!o.isApple),ke("inert",o.loading||null),V(2),U("ngIf",o.loading))},dependencies:[Pt,On],styles:["[_nghost-%COMP%]{position:relative;display:flex;min-inline-size:1.5rem;--tui-thickness: calc(var(--t-diameter) / 12)}._loading[_nghost-%COMP%]{overflow:hidden}[data-size=xs][_nghost-%COMP%]{--t-diameter: .75em}[data-size=s][_nghost-%COMP%]{--t-diameter: 1em}[data-size=m][_nghost-%COMP%]{--t-diameter: 1.5em}[data-size=l][_nghost-%COMP%]{--t-diameter: 2.5em}[data-size=xl][_nghost-%COMP%]{--t-diameter: 3.5em}[data-size=xxl][_nghost-%COMP%]{--t-diameter: 5em}.t-content[_ngcontent-%COMP%]{z-index:0;min-inline-size:100%;block-size:100%;padding:0;margin:0;border:none}.t-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.t-content_loading[_ngcontent-%COMP%]{pointer-events:none}.t-loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;inset-inline-start:-100%;flex-direction:column;align-items:center;justify-content:center;min-inline-size:100%;min-block-size:var(--t-diameter);flex-shrink:0;align-self:center;color:var(--tui-text-primary);stroke:var(--tui-background-accent-1);animation:tuiFadeIn var(--tui-duration);font-size:1rem}.t-loader.t-loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.t-loader.t-loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.t-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:var(--tui-font-text-s);margin-block-start:1rem;color:inherit;max-inline-size:100%;text-align:center;stroke-width:0}.t-text_horizontal[_ngcontent-%COMP%]{margin:0;margin-inline-start:1rem}@keyframes _ngcontent-%COMP%_tuiLoaderRotate{0%{transform:rotate(-90deg)}50%{transform:rotate(-90deg) rotate(1turn)}to{transform:rotate(-90deg) rotate(3turn)}}.t-icon[_ngcontent-%COMP%]{display:block;inline-size:var(--t-diameter);block-size:var(--t-diameter);margin:.25rem calc(var(--t-diameter) / -2);border-radius:100%;overflow:hidden;animation:_ngcontent-%COMP%_tuiLoaderRotate 4s linear infinite}@supports (-webkit-hyphens: none){.t-icon[_ngcontent-%COMP%]{overflow:visible}}@keyframes _ngcontent-%COMP%_tuiLoaderDashOffset{0%{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}50%{stroke-dashoffset:calc(.05 * calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness))))}to{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}}.t-circle[_ngcontent-%COMP%]{r:calc(var(--t-diameter) / 2 - var(--tui-thickness));stroke-dasharray:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)));fill:none;stroke:inherit;stroke-width:max(var(--tui-thickness),1.5px);animation:_ngcontent-%COMP%_tuiLoaderDashOffset 4s linear infinite}"],changeDetection:0});let t=e;return t})();var gce=["*",[["tuiOverContent"]],[["tuiOverDialogs"]],[["tuiOverAlerts"]],[["tuiOverDropdowns"]],[["tuiOverHints"]]],yce=["*","tuiOverContent","tuiOverDialogs","tuiOverAlerts","tuiOverDropdowns","tuiOverHints"];function vce(t,e){t&1&&ce(0,"tui-scroll-controls",3)}function _ce(t,e){if(t&1&&(ut(0),X(1,vce,1,0,"tui-scroll-controls",2),ce(2,"tui-popups"),Ut(3,1),ce(4,"tui-dialogs"),Ut(5,2),ce(6,"tui-alerts"),Ut(7,3),ce(8,"tui-dropdowns"),Ut(9,4),ce(10,"tui-hints"),Ut(11,5),st()),t&2){let n=W();V(),U("ngIf",n.scrollbars)}}var r5=(()=>{let e=class e{constructor(){this.doc=g($e),this.el=de(),this.reducedMotion=g(MN),this.duration=u$(g(Qz)),this.isChildRoot=!!g(e,{optional:!0,skipSelf:!0}),this.top=Y(!this.isChildRoot),this.isMobileRes=an(g(C$).pipe(H(r=>r==="mobile"),Ca()),{initialValue:!1}),this.nativeScrollbar=g(SI).mode==="native",this.scrollbars=!this.nativeScrollbar&&!g(Xn)&&!this.isChildRoot;let i=g(vo);i.removeStylesOnCompDestroy=!1,i.delegate&&(i.delegate.removeStylesOnCompDestroy=!1),this.top()&&(this.doc.documentElement.setAttribute("data-tui-theme",g(o$).toLowerCase()),this.nativeScrollbar||this.doc.defaultView?.document.documentElement.classList.add("tui-zero-scrollbar"))}get isTopLayer(){return this.doc.fullscreenElement?.matches("tui-root")?this.doc.fullscreenElement===this.el:!this.isChildRoot}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-root"]],hostAttrs:["data-tui-version","4.50.0"],hostVars:6,hostBindings:function(r,o){r&1&&Q("touchstart.passive.zoneless",function(){return 0})("fullscreenchange",function(){return o.top.set(o.isTopLayer)},Pr),r&2&&(dt("--tui-duration",o.duration,"ms")("--tui-scroll-behavior",o.reducedMotion?"auto":"smooth"),me("_mobile",o.isMobileRes()))},features:[Oe([Uz,qz,Fz])],ngContentSelectors:yce,decls:3,vars:1,consts:[[1,"t-root-content"],[4,"ngIf"],["class","t-root-scrollbar",4,"ngIf"],[1,"t-root-scrollbar"]],template:function(r,o){r&1&&(qn(gce),j(0,"div",0),Ut(1),L(),X(2,_ce,12,1,"ng-container",1)),r&2&&(V(2),U("ngIf",o.top()))},dependencies:[Pt,I$,i5,N$,B$,$$,Yl],styles:[`@keyframes tuiSkeletonVibe{to{opacity:.5}}@keyframes tuiPresent{to{content:""}}@keyframes tuiFade{0%{opacity:0}}@keyframes tuiSlide{0%{transform:var(--tui-from, translateY(100%))}}@keyframes tuiScale{0%{transform:scale(0)}}@keyframes tuiCollapse{0%{grid-template-rows:0fr}to{grid-template-rows:1fr}}.tui-enter,.tui-leave{animation-duration:var(--tui-duration);animation-timing-function:ease-in-out;pointer-events:none}.tui-leave{animation-direction:reverse}
`,`.tui-zero-scrollbar{scrollbar-width:none;-ms-overflow-style:none}.tui-zero-scrollbar::-webkit-scrollbar,.tui-zero-scrollbar::-webkit-scrollbar-thumb{display:none}body,input{margin:0}tui-root{position:relative;display:block;font:var(--tui-font-text-s);color:var(--tui-text-primary);flex:1;border-image:conic-gradient(var(--tui-background-base) 0 0) fill 0/0/0 0 100vh 0;-webkit-tap-highlight-color:transparent}:root{--tui-inline-start: left;--tui-inline-end: right;--tui-inline: 1}[dir=rtl]{--tui-inline-start: right;--tui-inline-end: left;--tui-inline: -1}tui-root>.t-root-scrollbar{position:fixed;top:0;left:0;bottom:0;right:0;z-index:0;display:none;margin:0}[data-tui-theme] tui-root>.t-root-scrollbar{display:block}.t-root-content{position:relative;top:var(--t-root-top);block-size:100%;isolation:isolate}.t-root-content>*{--t-root-top: 0}[tuiDropdownButton][tuiDropdownButton]{display:none}
`],encapsulation:2});let t=e;return t})();var VI=(()=>{let e=class e{constructor(){this.resolver=ff(),this.backgroundSrc=Y(null),this.iconSrc=Y(this.resolve(g(_I,{self:!0,optional:!0})||g(hf,{self:!0,optional:!0})))}set icon(i){this.iconSrc.set(this.resolve(i))}set background(i){this.backgroundSrc.set(this.resolve(i))}resolve(i){return i?`url(${this.resolver(i)})`:null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-icon"]],hostVars:4,hostBindings:function(r,o){r&2&&dt("--t-icon",o.iconSrc()||"url()")("--t-icon-bg",o.backgroundSrc())},inputs:{icon:"icon",background:"background"},decls:0,vars:0,template:function(r,o){},styles:[`tui-icon{position:relative;display:inline-block;inline-size:1em;block-size:1em;font-size:1.5rem;flex-shrink:0;border:0 solid transparent;vertical-align:middle;box-sizing:border-box;-webkit-mask:var(--t-icon-bg) no-repeat center / contain;mask:var(--t-icon-bg) no-repeat center / contain}@media (hover: hover) and (pointer: fine){tui-icon[data-appearance=icon]:hover{color:var(--tui-text-secondary)}}tui-icon:after,tui-icon[tuiIcons]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";display:block;-webkit-mask:var(--t-icon) no-repeat center / contain;mask:var(--t-icon) no-repeat center / contain;background:currentColor}
`],encapsulation:2,changeDetection:0});let t=e;return t})();var Ece=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-label"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiLabel]{display:flex;gap:.25rem;flex-direction:column;font:var(--tui-font-text-s);color:var(--tui-text-primary)}[tuiLabel]:not([data-orientation=vertical]){flex-direction:row;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;font:var(--tui-font-text-m)}[tuiLabel]:has(tui-textfield),[tuiLabel]:has(tui-primitive-textfield),[tuiLabel]:has(tui-textarea){flex-direction:column!important;inline-size:auto!important;font:var(--tui-font-text-s)!important}[tuiLabel] input[type=checkbox],[tuiLabel] input[type=radio]{margin-inline-end:.5rem}[tuiLabel] input[type=checkbox][data-size=s],[tuiLabel] input[type=radio][data-size=s]{margin-inline-end:.25rem;margin-block-start:.125rem}[tuiLabel] small{font:var(--tui-font-text-s)}[tuiLabel] [tuiTitle]{margin-block-start:.125rem}[tuiLabel] [tuiSubtitle]{color:var(--tui-text-secondary)}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),wf=(()=>{let e=class e{constructor(){this.el=de(),this.nothing=ci(Ece),this.parent=g(Gi(()=>Zl),{optional:!0})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["label","tuiLabel",""]],contentQueries:function(r,o,s){if(r&1&&oi(s,Zl,5),r&2){let c;Bt(c=jt())&&(o.textfield=c.first)}},hostVars:2,hostBindings:function(r,o){r&2&&ke("for",o.el.htmlFor||(o.parent==null?null:o.parent.id))("data-orientation",o.textfield?"vertical":"horizontal")}});let t=e;return t})();var wce=typeof ResizeObserver<"u"?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Ice="content-box",$N=Ice,bce=new M("[WA_RESIZE_OPTION_BOX]",{providedIn:"root",factory:()=>$N}),s5=bce,o5=(()=>{class t extends ne{constructor(){let n=g(Je).nativeElement,i=g(s5);super(r=>{let o=new wce(s=>r.next(s));return o.observe(n,{box:i}),()=>{o.disconnect()}})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),a5=(()=>{class t{waResizeObserver=g(o5);box=$N;static \u0275fac=function(i){return new(i||t)};static \u0275dir=F({type:t,selectors:[["","waResizeObserver",""]],inputs:{waResizeBox:[0,"box","waResizeBox"]},outputs:{waResizeObserver:"waResizeObserver"},features:[ee([o5,{provide:s5,useFactory:()=>g(Je).nativeElement.getAttribute("waResizeBox")||$N}])]})}return t})();var jje=new M("[WA_RESIZE_OBSERVER_SUPPORT]",{providedIn:"root",factory:()=>!!g(ln).ResizeObserver});var Tce=["ghost"],Cce=["vcr"],Dce=[[["input"]],[["select"]],[["textarea"]],[["label"]],"*",[["tui-icon"]]],Sce=["input","select","textarea","label","*","tui-icon"],Ace=t=>({$implicit:t});function xce(t,e){t&1&&Mi(0)}function Rce(t,e){if(t&1){let n=lt();j(0,"button",7),Q("click",function(){Ce(n);let r=W();return De(r.accessor==null?null:r.accessor.setValue(null))})("pointerdown.zoneless.prevent",function(){Ce(n);let r=W();return De(r.input==null||r.input.nativeElement==null?null:r.input.nativeElement.focus())}),re(1),L()}if(t&2){let n=W();U("iconStart",n.icons.close),V(),nt(" ",n.clear()," ")}}function Mce(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=e.polymorpheusOutlet;V(),nt(" ",n," ")}}function Nce(t,e){if(t&1&&(j(0,"span",8),X(1,Mce,2,1,"ng-container",9),L()),t&2){let n=W();V(),U("polymorpheusOutlet",n.content)("polymorpheusOutletContext",Qi(2,Ace,n.control==null?null:n.control.value))}}function Pce(t,e){if(t&1&&ce(0,"input",10,1),t&2){let n=W();U("value",n.computedFiller())}}var c5=(()=>{let e=class e{constructor(){this.el=de(),this.isAndroid=g(vN)}clear(){this.el.value=""}prevent(i){this.isAndroid&&(i.preventDefault(),this.el.focus())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiSelectLike",""]],hostAttrs:["tuiSelectLike","","inputmode","none","spellcheck","false","autocomplete","off"],hostBindings:function(r,o){r&1&&Q("beforeinput",function(c){return c.inputType.includes("delete")||c.preventDefault()})("input.capture",function(c){return(c.inputType==null?null:c.inputType.includes("delete"))&&o.clear()})("mousedown",function(c){return o.prevent(c)})}});let t=e;return t})(),qN={appearance:"textfield",size:"l",cleaner:!0},If=new M("",{factory:()=>({appearance:Y(qN.appearance),size:Y(qN.size),cleaner:Y(qN.cleaner)})});var u5=new M("");function UI(t){return pt(u5,t)}var BI=(()=>{let e=class e{constructor(){this.directive=g(Ji),this.directive.tuiDropdown=g(Qt),sc(g(pi))&&this.directive.el.matches(":focus-within")&&this.directive.toggle(!0)}ngOnDestroy(){this.directive.tuiDropdown=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["ng-template","tuiTextfieldDropdown",""]]});let t=e;return t})(),Oce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e});let t=e;return t})(),kce=(()=>{let e=class e{constructor(){this.filler=Y(""),this.autoId=Hz(),this.focusedIn=Ez(de()),this.contentReady$=new Uo(1),this.inputQuery=Y(void 0),this.auxiliaryQuery=Vc,this.open=Ef(),this.dropdown=g(Ji),this.dropdownOpen=g(_f),this.icons=g(mI),this.clear=an(g(Xz)),this.computedFiller=xe((i=this.value())=>{let r=i+this.filler().slice(i.length);return r.length>i.length?r:""}),this.showFiller=xe(()=>this.focused()&&!!this.computedFiller()&&(!!this.value()||!this.input?.nativeElement.placeholder)),this.focused=xe(()=>this.open()||this.focusedIn()),this.options=g(If),this.el=de(),this.value=gN(this.inputQuery),this.auxiliaries=an(this.contentReady$.pipe(Ue(()=>oy(this.auxiliaryQuery)),vt([])),{requireSync:!0})}set fillerSetter(i){this.filler.set(i)}get id(){return this.input?.nativeElement.id||this.autoId}get size(){return this.options.size()}ngAfterContentInit(){this.contentReady$.next(!0),this.inputQuery.set(this.input)}handleOption(i){this.accessor?.setValue(i),this.open.set(!1)}get hasLabel(){return!!this.label?.nativeElement?.childNodes.length}onResize({contentRect:i}){this.el.style.setProperty("--t-side",jn(i.width))}onIconClick(){this.input?.nativeElement.focus(),!(!this.dropdownOpen.tuiDropdownEnabled||this.input?.nativeElement.matches("input:read-only,textarea:read-only"))&&(this.open.update(i=>!i),this.input?.nativeElement.showPicker?.())}onScroll(i){this.input?.nativeElement===i&&this.ghost?.nativeElement.scrollTo({left:this.input.nativeElement.scrollLeft})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,contentQueries:function(r,o,s){if(r&1&&(oi(s,wf,5,Je),oi(s,u5,5),oi(s,Zn,5),oi(s,Sa,5),oi(s,GN,7,Je),oi(s,NN,5)),r&2){let c;Bt(c=jt())&&(o.label=c.first),Bt(c=jt())&&(o.accessor=c.first),Bt(c=jt())&&(o.control=c.first),Bt(c=jt())&&(o.cva=c.first),Bt(c=jt())&&(o.input=c.first),Bt(c=jt())&&(o.auxiliaryQuery=c)}},viewQuery:function(r,o){if(r&1&&(dr(Tce,5),dr(Cce,7,Vt)),r&2){let s;Bt(s=jt())&&(o.ghost=s.first),Bt(s=jt())&&(o.vcr=s.first)}},inputs:{content:"content",fillerSetter:[0,"filler","fillerSetter"]},standalone:!1});let t=e;return t})(),br=(()=>{let e=class e extends kce{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275cmp=Z({type:e,selectors:[["tui-textfield",3,"multi",""]],hostVars:7,hostBindings:function(r,o){r&1&&Q("click.self.prevent",function(){return 0})("pointerdown.self.prevent",function(){return o.onIconClick()})("scroll.capture.zoneless",function(c){return o.onScroll(c.target)})("tuiActiveZoneChange",function(c){return!c&&(o.cva==null?null:o.cva.onTouched())}),r&2&&(ke("data-size",o.options.size()),me("_with-label",o.hasLabel)("_with-template",o.content&&(o.control==null?null:o.control.value)!=null)("_disabled",o.input==null||o.input.nativeElement==null?null:o.input.nativeElement.disabled))},features:[ee([y$({size:"xs",appearance:"icon"}),t5(e)]),Oe([Ji,R$,P$,Pa,j$,jN,Oce]),Qe],ngContentSelectors:Sce,decls:14,vars:6,consts:[["vcr",""],["ghost",""],[4,"ngIf"],[1,"t-content",3,"pointerdown.prevent","waResizeObserver"],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button","class","t-clear",3,"iconStart","click","pointerdown.zoneless.prevent",4,"ngIf"],["class","t-template",4,"ngIf"],["aria-hidden","true","disabled","","class","t-filler",3,"value",4,"ngIf"],["appearance","icon","size","xs","tabindex","-1","tuiIconButton","","type","button",1,"t-clear",3,"click","pointerdown.zoneless.prevent","iconStart"],[1,"t-template"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["aria-hidden","true","disabled","",1,"t-filler",3,"value"]],template:function(r,o){if(r&1){let s=lt();qn(Dce),X(0,xce,1,0,"ng-container",2),et(1,"async"),Ut(2),Ut(3,1),Ut(4,2),Ut(5,3),j(6,"span",3),Q("pointerdown.prevent",function(){return Ce(s),De(o.input==null||o.input.nativeElement==null?null:o.input.nativeElement.focus())})("waResizeObserver",function(u){return Ce(s),De(u[0]&&o.onResize(u[0]))}),Ut(7,4),X(8,Rce,2,2,"button",4),Mi(9,null,0),Ut(11,5),L(),X(12,Nce,2,4,"span",5)(13,Pce,2,1,"input",6)}r&2&&(U("ngIf",on(1,4,o.control==null||o.control.control==null?null:o.control.control.valueChanges)),V(8),U("ngIf",o.options.cleaner()),V(4),U("ngIf",(o.control==null?null:o.control.value)!=null),V(),U("ngIf",o.showFiller()))},dependencies:[gn,Pt,On,zr,a5],styles:[`tui-textfield{scrollbar-width:none;-ms-overflow-style:none;transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;--t-height: var(--tui-height-l);--t-padding: var(--tui-padding-l);--t-label: -.7em;--t-label-size: .83em;--t-end: 0rem;--t-start: 0rem;position:relative;display:flex;flex-wrap:wrap;align-items:center;cursor:pointer;min-block-size:var(--t-height);color:var(--tui-text-tertiary);padding:0 var(--t-padding);border-radius:var(--tui-radius-l);font:var(--tui-font-text-ui-m);line-height:1.25rem;box-sizing:border-box;gap:0 .25rem;isolation:isolate}tui-textfield::-webkit-scrollbar,tui-textfield::-webkit-scrollbar-thumb{display:none}tui-textfield[style*="--t-icon-start:"]{--t-start: 2.25rem}tui-textfield[style*="--t-icon-end:"]{--t-end: 2.25rem}tui-textfield[tuiIcons]:after{position:relative;block-size:auto;align-self:stretch;border-inline-start:var(--t-padding) solid transparent;border-inline-end:var(--t-padding) solid transparent;margin:0 calc(-1 * var(--t-padding))}tui-textfield::-webkit-resizer{border:.25rem solid transparent;inline-size:.5rem;block-size:.5rem;box-sizing:content-box;color:var(--tui-text-tertiary);background:linear-gradient(-45deg,transparent,transparent .125rem,currentColor .125rem,currentColor .1875rem,transparent .1875rem,transparent .25rem,currentColor .25rem,currentColor .3125rem,transparent .35rem);background-clip:content-box}tui-textfield label,tui-textfield>.t-content,tui-textfield>.t-template{pointer-events:none}tui-textfield input,tui-textfield select,tui-textfield textarea{font:inherit;resize:none;outline:none;padding-block-start:1.125rem;padding-block-end:1.125rem}tui-textfield input[inputmode=none],tui-textfield select[inputmode=none],tui-textfield textarea[inputmode=none]{caret-color:transparent}tui-textfield[data-size=s]{--t-height: var(--tui-height-s);--t-padding: var(--tui-padding-s);border-radius:var(--tui-radius-m);gap:0;font:var(--tui-font-text-ui-s);line-height:1rem}tui-textfield[data-size=s][style*="--t-icon-start:"]{--t-start: 1.25rem}tui-textfield[data-size=s][style*="--t-icon-end:"]{--t-end: 1.25rem}tui-textfield[data-size=s]:before{margin-inline-end:.5rem;margin-inline-start:-.125rem;font-size:1rem}tui-textfield[data-size=s]:after{margin-inline-end:calc(-.125rem - var(--t-padding));margin-inline-start:calc(.625rem - var(--t-padding));font-size:1rem}tui-textfield[data-size=s] input,tui-textfield[data-size=s] select,tui-textfield[data-size=s] textarea{padding-block-start:.5rem;padding-block-end:.5rem}tui-textfield[data-size=s]>.t-content{margin-inline-end:-.375rem}tui-textfield[data-size=m]{--t-height: var(--tui-height-m);--t-padding: var(--tui-padding-m);border-radius:var(--tui-radius-m);font:var(--tui-font-text-ui-s);line-height:1rem}tui-textfield[data-size=m][style*="--t-icon-start:"]{--t-start: 1.75rem}tui-textfield[data-size=m][style*="--t-icon-end:"]{--t-end: 1.75rem}tui-textfield[data-size=m]:before{margin-inline-start:-.125rem;margin-inline-end:.125rem}tui-textfield[data-size=m]:after{margin-inline-start:calc(.25rem - var(--t-padding));margin-inline-end:calc(-.125rem - var(--t-padding))}tui-textfield[data-size=m] input,tui-textfield[data-size=m] select,tui-textfield[data-size=m] textarea{padding-block-start:.875rem;padding-block-end:.875rem}tui-textfield[data-size=m]>.t-content{margin-inline-end:-.125rem}tui-textfield[data-size=l]{--t-label: -.7rem}tui-textfield:hover{color:var(--tui-text-secondary)}tui-textfield:hover:has(input:read-only):not([multi]),tui-textfield:hover:has(textarea:read-only),tui-textfield:hover:has(select[data-mode~=readonly]){color:var(--tui-text-tertiary)}tui-textfield:before{z-index:1;margin-inline-end:.5rem;pointer-events:none}tui-textfield:has(:disabled:not(.t-filler,button,option,[tuiChip])):before,tui-textfield:has(:disabled:not(.t-filler,button,option,[tuiChip])):after,tui-textfield:has(:disabled:not(.t-filler,button,option,[tuiChip]))>.t-template{opacity:var(--tui-disabled-opacity)}tui-textfield._disabled:before,tui-textfield._disabled:after,tui-textfield._disabled>.t-template{opacity:var(--tui-disabled-opacity)}tui-textfield:has(label:not(:empty))>.t-template,tui-textfield:has(label:not(:empty)) input:not([type=range]),tui-textfield:has(label:not(:empty)) select:defined,tui-textfield:has(label:not(:empty)) textarea:defined{padding-block-start:calc(var(--t-height) / 3);padding-block-end:0}tui-textfield:not([data-focus=true]):has(label:not(:empty))>.t-template::placeholder,tui-textfield:not([data-focus=true]):has(label:not(:empty)) input:not([type=range])::placeholder,tui-textfield:not([data-focus=true]):has(label:not(:empty)) select:defined::placeholder,tui-textfield:not([data-focus=true]):has(label:not(:empty)) textarea:defined::placeholder,tui-textfield:not([data-focus=true]):has(label:not(:empty))>.t-template._empty,tui-textfield:not([data-focus=true]):has(label:not(:empty)) input:not([type=range])._empty,tui-textfield:not([data-focus=true]):has(label:not(:empty)) select:defined._empty,tui-textfield:not([data-focus=true]):has(label:not(:empty)) textarea:defined._empty{color:transparent}tui-textfield._with-label>.t-template,tui-textfield._with-label input:not([type=range]),tui-textfield._with-label select:defined,tui-textfield._with-label textarea:defined{padding-block-start:calc(var(--t-height) / 3);padding-block-end:0}tui-textfield:not([data-focus=true])._with-label>.t-template::placeholder,tui-textfield:not([data-focus=true])._with-label input:not([type=range])::placeholder,tui-textfield:not([data-focus=true])._with-label select:defined::placeholder,tui-textfield:not([data-focus=true])._with-label textarea:defined::placeholder,tui-textfield:not([data-focus=true])._with-label>.t-template._empty,tui-textfield:not([data-focus=true])._with-label input:not([type=range])._empty,tui-textfield:not([data-focus=true])._with-label select:defined._empty,tui-textfield:not([data-focus=true])._with-label textarea:defined._empty{color:transparent}tui-textfield>.t-template,tui-textfield input:defined,tui-textfield select:defined,tui-textfield textarea:defined{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;-webkit-appearance:none;appearance:none;box-sizing:border-box;border-radius:inherit;border-width:0;overscroll-behavior:none;padding-inline-start:calc(var(--t-start, 0rem) + var(--t-padding));padding-inline-end:calc(var(--t-end, 0rem) + var(--t-side) + var(--t-padding))}tui-textfield>.t-template{display:flex;align-items:center;color:var(--tui-text-primary)}tui-textfield._with-template input:not([type=range]),tui-textfield._with-template select,tui-textfield._with-template textarea{color:transparent!important}tui-textfield input:not([type=range]),tui-textfield select:defined,tui-textfield textarea:defined{pointer-events:auto;background:none}tui-textfield input:not([type=range]):not(select):read-only~.t-filler,tui-textfield select:defined:not(select):read-only~.t-filler,tui-textfield textarea:defined:not(select):read-only~.t-filler{display:none}tui-textfield input:not([type=range]):disabled~label,tui-textfield select:defined:disabled~label,tui-textfield textarea:defined:disabled~label,tui-textfield input:not([type=range]):disabled~.t-content,tui-textfield select:defined:disabled~.t-content,tui-textfield textarea:defined:disabled~.t-content{opacity:var(--tui-disabled-opacity)}tui-textfield input:not([type=range]):disabled~label>tui-icon,tui-textfield select:defined:disabled~label>tui-icon,tui-textfield textarea:defined:disabled~label>tui-icon,tui-textfield input:not([type=range]):disabled~.t-content>tui-icon,tui-textfield select:defined:disabled~.t-content>tui-icon,tui-textfield textarea:defined:disabled~.t-content>tui-icon{display:none}tui-textfield input:not([type=range]):-webkit-autofill~label,tui-textfield select:defined:-webkit-autofill~label,tui-textfield textarea:defined:-webkit-autofill~label,tui-textfield input:not([type=range]):not(._empty):not(:placeholder-shown)~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown)~label,tui-textfield textarea:defined:not(._empty):not(:placeholder-shown)~label{font-size:var(--t-label-size);transform:translateY(var(--t-label))}tui-textfield input:not([type=range]):-webkit-autofill:not(:disabled)[data-mode~=invalid]~label,tui-textfield select:defined:-webkit-autofill:not(:disabled)[data-mode~=invalid]~label,tui-textfield textarea:defined:-webkit-autofill:not(:disabled)[data-mode~=invalid]~label,tui-textfield input:not([type=range]):not(._empty):not(:placeholder-shown):not(:disabled)[data-mode~=invalid]~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown):not(:disabled)[data-mode~=invalid]~label,tui-textfield textarea:defined:not(._empty):not(:placeholder-shown):not(:disabled)[data-mode~=invalid]~label,tui-textfield input:not([type=range]):-webkit-autofill:invalid:not(:disabled):not([data-mode])~label,tui-textfield select:defined:-webkit-autofill:invalid:not(:disabled):not([data-mode])~label,tui-textfield textarea:defined:-webkit-autofill:invalid:not(:disabled):not([data-mode])~label,tui-textfield input:not([type=range]):not(._empty):not(:placeholder-shown):invalid:not(:disabled):not([data-mode])~label,tui-textfield select:defined:not(._empty):not(:placeholder-shown):invalid:not(:disabled):not([data-mode])~label,tui-textfield textarea:defined:not(._empty):not(:placeholder-shown):invalid:not(:disabled):not([data-mode])~label{color:var(--tui-text-negative)}tui-textfield input:not([type=range]):-webkit-autofill:not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield select:defined:-webkit-autofill:not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield textarea:defined:-webkit-autofill:not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield input:not([type=range]):not(._empty):not(:placeholder-shown):not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield select:defined:not(._empty):not(:placeholder-shown):not(:disabled):not([data-mode~=readonly])~.t-content .t-clear,tui-textfield textarea:defined:not(._empty):not(:placeholder-shown):not(:disabled):not([data-mode~=readonly])~.t-content .t-clear{display:flex}tui-textfield input:not([type=range]):not([data-mode~=readonly]):focus-visible:not([data-focus=false])::placeholder,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])::placeholder,tui-textfield textarea:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])::placeholder,tui-textfield input:not([type=range]):not([data-mode~=readonly]):focus-visible:not([data-focus=false])._empty,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])._empty,tui-textfield textarea:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])._empty{color:var(--tui-text-tertiary)}tui-textfield input:not([type=range]):not([data-mode~=readonly]):focus-visible:not([data-focus=false])~label,tui-textfield select:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])~label,tui-textfield textarea:defined:not([data-mode~=readonly]):focus-visible:not([data-focus=false])~label{color:var(--tui-text-primary)!important;font-size:var(--t-label-size);transform:translateY(var(--t-label))}tui-textfield input:not([type=range]):not([data-mode~=readonly])[data-focus=true]::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]::placeholder,tui-textfield textarea:defined:not([data-mode~=readonly])[data-focus=true]::placeholder,tui-textfield input:not([type=range]):not([data-mode~=readonly])[data-focus=true]._empty,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]._empty,tui-textfield textarea:defined:not([data-mode~=readonly])[data-focus=true]._empty{color:var(--tui-text-tertiary)}tui-textfield input:not([type=range]):not([data-mode~=readonly])[data-focus=true]~label,tui-textfield select:defined:not([data-mode~=readonly])[data-focus=true]~label,tui-textfield textarea:defined:not([data-mode~=readonly])[data-focus=true]~label{color:var(--tui-text-primary)!important;font-size:var(--t-label-size);transform:translateY(var(--t-label))}tui-textfield input:not([type=range]):not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)::placeholder,tui-textfield textarea:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)::placeholder,tui-textfield input:not([type=range]):not([data-mode~=readonly])[tuiWrapper]._focused::placeholder,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused::placeholder,tui-textfield textarea:defined:not([data-mode~=readonly])[tuiWrapper]._focused::placeholder,tui-textfield input:not([type=range]):not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)._empty,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)._empty,tui-textfield textarea:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)._empty,tui-textfield input:not([type=range]):not([data-mode~=readonly])[tuiWrapper]._focused._empty,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused._empty,tui-textfield textarea:defined:not([data-mode~=readonly])[tuiWrapper]._focused._empty{color:var(--tui-text-tertiary)}tui-textfield input:not([type=range]):not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)~label,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)~label,tui-textfield textarea:defined:not([data-mode~=readonly])[tuiWrapper]:not(._focused):has(:focus-visible)~label,tui-textfield input:not([type=range]):not([data-mode~=readonly])[tuiWrapper]._focused~label,tui-textfield select:defined:not([data-mode~=readonly])[tuiWrapper]._focused~label,tui-textfield textarea:defined:not([data-mode~=readonly])[tuiWrapper]._focused~label{color:var(--tui-text-primary)!important;font-size:var(--t-label-size);transform:translateY(var(--t-label))}@supports (-webkit-touch-callout: none){tui-textfield input:not([type=range])._ios-fix,tui-textfield select:defined._ios-fix,tui-textfield textarea:defined._ios-fix{position:fixed;left:1000rem}}tui-textfield [tuiLabel][tuiLabel][tuiLabel]{transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;display:block;flex:1;align-self:flex-start;font-size:inherit;line-height:var(--t-height)}tui-textfield label:defined,tui-textfield input:defined::placeholder,tui-textfield textarea:defined::placeholder,tui-textfield select:defined._empty{color:var(--tui-text-secondary)}tui-textfield select:not([data-mode~=readonly]){cursor:pointer}tui-textfield select option[value=""]:disabled{color:transparent}tui-textfield select optgroup,tui-textfield select option{background-color:var(--tui-background-elevation-3)}tui-textfield select optgroup,tui-textfield select option:not(:disabled){color:var(--tui-text-primary)}tui-textfield button,tui-textfield a{pointer-events:auto}tui-textfield>.t-content{z-index:1;display:flex;block-size:var(--t-height);align-items:center;gap:inherit;margin-inline-start:auto;isolation:isolate;border-radius:inherit}tui-textfield>.t-content>tui-icon{pointer-events:auto}tui-textfield textarea~.t-content{min-inline-size:.5rem}tui-textfield .t-clear{z-index:1;display:none;pointer-events:auto}tui-textfield>.t-filler:defined{pointer-events:none;color:var(--tui-text-tertiary);opacity:1}tui-textfield [tuiFluidTypography]{font-weight:700}tui-textfield [tuiSelectLike]:not(:read-only){cursor:pointer}tui-textfield:has(input[type=tel]){direction:ltr}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),GN=(()=>{let e=class e{constructor(){this.focused=Y(null),this.control=g(Zn,{optional:!0}),this.a=h$(g(If).appearance,{}),this.s=f$(null,{}),this.m=m$(this.mode,{}),this.f=p$(xe(()=>this.focused()??this.textfield.focused()),{}),this.el=de(),this.handlers=g(er),this.textfield=g(br),this.readOnly=!1,this.invalid=null,this.value=gN(this.el)}set focusedSetter(i){this.focused.set(i)}set stateSetter(i){this.s.set(i)}get mode(){return this.readOnly?"readonly":this.invalid===!1?"valid":this.invalid?"invalid":null}ngOnChanges(){this.m.set(this.mode)}setValue(i){this.el.focus(),this.el.select(),i==null?this.el.ownerDocument.execCommand("delete"):this.el.ownerDocument.execCommand("insertText",!1,this.handlers.stringify()(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,hostAttrs:["tuiTextfield",""],hostVars:4,hostBindings:function(r,o){r&1&&Q("input",function(){return 0})("focusin",function(){return 0})("focusout",function(){return 0}),r&2&&(Ni("id",o.textfield.id)("readOnly",o.readOnly),me("_empty",o.value()===""))},inputs:{readOnly:"readOnly",invalid:"invalid",focusedSetter:[0,"focused","focusedSetter"],stateSetter:[0,"state","stateSetter"]},features:[ee([UI(e)]),rn]});let t=e;return t})(),ed=(()=>{let e=class e extends GN{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["input","tuiTextfield","",3,"tuiInputCard","",3,"tuiInputExpire","",3,"tuiInputCVC",""]],features:[ee([UI(e),pt(GN,e)]),Oe([hI,Hn]),Qe]});let t=e;return t})(),Gc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,features:[Oe([{directive:ed,inputs:["invalid","invalid","focused","focused","readOnly","readOnly","state","state"]}])]});let t=e;return t})();function l5(t){let{auxiliaries:e}=g(br);return xe(()=>e().find(t)??null)}function d5(t){let e=g(If),n=g(t);return wi(_y,"iconEnd",xe(()=>n.icon(e.size())),{})}var WN=(()=>{let e=class e{constructor(){de().type="text"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e});let t=e;return t})();var Fce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-card-large"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiCardMedium],[tuiCardLarge]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;position:relative;display:flex;align-items:flex-start;flex-shrink:0;text-decoration:none;overscroll-behavior:contain;overflow:hidden;background:var(--tui-background-elevation-2)}[tuiCardMedium] [tuiTitle],[tuiCardLarge] [tuiTitle],[tuiCardMedium] [tuiSubtitle],[tuiCardLarge] [tuiSubtitle]{max-inline-size:100%}[tuiCardMedium]>*,[tuiCardLarge]>*{scrollbar-width:none;-ms-overflow-style:none}[tuiCardMedium]>*::-webkit-scrollbar,[tuiCardLarge]>*::-webkit-scrollbar,[tuiCardMedium]>*::-webkit-scrollbar-thumb,[tuiCardLarge]>*::-webkit-scrollbar-thumb{display:none}
`,`[tuiCardLarge][data-space]{--t-space: .75rem;--t-radius: var(--tui-radius-l);--t-comp: -.25rem;--t-padding: .75rem;--t-dim: calc(var(--t-padding) + var(--t-comp));font:var(--tui-font-text-m);padding:var(--t-padding);border-radius:var(--t-radius);box-sizing:border-box}[tuiCardLarge][data-space][data-space=normal]{--t-radius: 1.5rem;--t-padding: 1.5rem;--t-space: 1.5rem}[tuiCardLarge][data-space][data-space=compact]{--t-radius: 1rem;--t-padding: 1.25rem;--t-space: 1.25rem}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader],[tuiForm]){flex-direction:column;gap:var(--t-space);align-items:stretch}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader],[tuiForm])>:last-child:not([tuiCell]){margin-block-start:auto}[tuiCardLarge][data-space][tuiHeader]{padding:var(--t-dim) var(--t-dim) var(--t-dim) var(--t-padding)}[tuiCardLarge][data-space][tuiHeader] [tuiLink]:last-child{margin-inline-end:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space]>[tuiHeader]{margin:var(--t-comp) var(--t-comp) calc(1.5 * var(--t-comp)) 0}[tuiCardLarge][data-space]>[tuiHeader] [tuiLink]:last-child{margin-inline-end:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space] [tuiCell]{inline-size:-webkit-fill-available;inline-size:-moz-available;inline-size:stretch;padding:.5rem;margin:-.5rem -.5rem -.75rem;border-radius:var(--tui-radius-l)}[tuiCardLarge][data-space] [tuiCell]:last-of-type{margin-block-end:-.5rem}[tuiCardLarge][data-space]>[tuiLink]:last-child{display:block;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;margin-block-end:var(--t-comp)}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),Wc=(()=>{let e=class e{constructor(){this.nothing=ci(Fce),this.space="normal"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiCardLarge",""]],hostAttrs:["tuiCardLarge",""],hostVars:1,hostBindings:function(r,o){r&2&&ke("data-space",o.space||"normal")},inputs:{space:[0,"tuiCardLarge","space"]}});let t=e;return t})();var Lce=["*"];function Vce(t,e){if(t&1&&ce(0,"img",2),t&2){let n=W();U("src",n.value,p_)}}function Uce(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=W();V(),Ki(n.value)}}var Bce={appearance:"",round:!0,size:"l"},h5=new M("",{factory:()=>Bce});var f5=(()=>{let e=class e{constructor(){this.options=g(h5),this.size=this.options.size,this.round=this.options.round}get value(){return this.src||""}get svg(){return Br(this.value)&&this.value.endsWith(".svg")}get type(){return this.value&&!Br(this.value)?"img":this.value.startsWith("@tui.")?"icon":this.value.length>0&&this.value.length<3?"text":this.value.length?"img":"content"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-avatar"],["button","tuiAvatar",""],["a","tuiAvatar",""]],hostVars:6,hostBindings:function(r,o){r&2&&(ke("data-size",o.size)("data-type",o.type),me("_round",o.round)("_svg",o.svg))},inputs:{size:"size",round:"round",src:"src"},features:[ee([mf(h5)]),Oe([gf,{directive:_y,inputs:["iconStart","src"]}])],ngContentSelectors:Lce,decls:3,vars:2,consts:[["alt","","loading","lazy",3,"src",4,"ngIf"],[4,"ngIf"],["alt","","loading","lazy",3,"src"]],template:function(r,o){r&1&&(qn(),X(0,Vce,1,1,"img",0)(1,Uce,2,1,"ng-container",1),Ut(2)),r&2&&(U("ngIf",o.type==="img"),V(),U("ngIf",o.type==="text"))},dependencies:[Pt],styles:['[_nghost-%COMP%]{--t-size: 3.5rem;--t-radius: .75rem;position:relative;display:inline-flex;flex-shrink:0;inline-size:var(--t-size);block-size:var(--t-size);align-items:center;justify-content:center;white-space:nowrap;border-radius:var(--t-radius);border:none;background:var(--tui-background-neutral-1);color:var(--tui-text-secondary);vertical-align:middle;box-sizing:border-box;padding:.25rem;opacity:.999}[data-size=xs][_nghost-%COMP%]{--t-size: var(--tui-height-xs);--t-radius: .5rem;font:var(--tui-font-text-xs);font-weight:700}[data-size=xs][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-size:.5625rem}[data-size=s][_nghost-%COMP%]{--t-size: var(--tui-height-s);--t-radius: .5rem;font:var(--tui-font-text-s);font-weight:700}[data-size=s][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-xs);font-weight:700}[data-size=m][_nghost-%COMP%]{--t-size: calc(var(--tui-height-m) - .25rem);--t-radius: .75rem;font:var(--tui-font-text-l);font-weight:700}[data-size=m][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-weight:700}[data-size=l][_nghost-%COMP%]{--t-size: var(--tui-height-l);--t-radius: .75rem;font:var(--tui-font-heading-5)}[data-size=l][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-l);font-weight:700}[data-size=xl][_nghost-%COMP%]{--t-size: 5rem;--t-radius: .75rem;font:var(--tui-font-heading-3)}[data-size=xl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-4)}[data-size=xxl][_nghost-%COMP%]{--t-size: 6rem;--t-radius: 1rem;font:var(--tui-font-heading-3)}[data-size=xxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-size=xxxl][_nghost-%COMP%]{--t-size: 8rem;--t-radius: 1.25rem;font:var(--tui-font-heading-2)}[data-size=xxxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-type][_nghost-%COMP%]:before{display:none}[_nghost-%COMP%]:not([data-type=icon]):before{-webkit-mask:none;mask:none}[data-type=img][_nghost-%COMP%]:not(._svg){background:transparent}[data-type=icon][_nghost-%COMP%]:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";display:block;font-size:calc(var(--t-size) * .6);-webkit-mask-size:1em;mask-size:1em}._round[_nghost-%COMP%]{--t-radius: calc(var(--t-size) / 2)}[_nghost-%COMP%]     img, [_nghost-%COMP%]     picture, [_nghost-%COMP%]     video{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;object-fit:cover;box-sizing:border-box;border-radius:inherit}._svg[_nghost-%COMP%]   img[_ngcontent-%COMP%]{padding:20%;object-fit:contain;border-radius:unset}'],changeDetection:0});let t=e;return t})();var jce=new M("",{factory:()=>"@tui.chevron-down"}),Hce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-chevron"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiChevron][tuiIcons]:after,tui-icon[tuiChevron]:after{transition-property:transform,color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;cursor:pointer}tui-textfield[tuiChevron][tuiIcons]:after{font-size:1rem}tui-textfield[data-size=s][tuiChevron][tuiIcons]:after{margin-inline-end:calc(-.125rem - var(--t-padding))}tui-textfield[data-size=m][tuiChevron][tuiIcons]:after{margin-inline-end:calc(.125rem - var(--t-padding))}tui-textfield[data-size=l][tuiChevron][tuiIcons]:after{margin-inline-end:calc(.25rem - var(--t-padding))}[tuiChevron][tuiIcons]._chevron-rotated:after,tui-icon[tuiChevron]._chevron-rotated:after{transform:rotate(180deg)}[tuiChevron]:has(input[tuiAppearance]:read-only):after{cursor:default}tui-textfield[tuiChevron][style*="--t-icon-end:"][data-size=l]{--t-end: 1.875rem}tui-textfield[tuiChevron][style*="--t-icon-end:"][data-size=m]{--t-end: 1.5rem}
`],encapsulation:2,changeDetection:0});let t=e;return t})(),HI=(()=>{let e=class e{constructor(){this.el=de(),this.dropdown=g(Ji,{optional:!0}),this.nothing=ci(Hce),this.toggle=sn(()=>this.el.classList.toggle("_chevron-rotated",this.chevron()||this.chevron()===""&&!!this.dropdown?.ref())),this.chevron=Y("")}set tuiChevron(i){this.chevron.set(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiChevron",""]],hostAttrs:["tuiChevron",""],inputs:{tuiChevron:"tuiChevron"},features:[ee([pt(hf,jce)])]});let t=e;return t})();var p5=new M("");var c3e=new M("",{factory:()=>uy}),u3e=new M(""),l3e=new M(""),d3e=new M(""),h3e=new M("",{factory:Et("confirm")}),f3e=new M("",{factory:Et("cancel")}),p3e=new M("",{factory:Et("done")}),m3e=new M("",{factory:Et("more")}),g3e=new M("",{factory:Et("hide")}),y3e=new M("",{factory:Et("showAll")}),m5=new M("",{factory:Et("otherDate")}),v3e=new M("",{factory:Et("mobileCalendarTexts")}),_3e=new M("",{factory:Et("range")}),E3e=new M("",{factory:Et("countTexts")}),w3e=new M("",{factory:Et("time")}),g5=new M("",{factory:Et("dateTexts")}),I3e=new M("",{factory:Et("digitalInformationUnits")}),b3e=new M("",{factory:Et("copyTexts")}),T3e=new M("",{factory:Et("passwordTexts")}),C3e=new M("",{factory:Et("shortCalendarMonths")}),D3e=new M("",{factory:Et("fileTexts")}),S3e=new M("",{factory:Et("pagination")}),A3e=new M("",{factory:Et("inputFileTexts")}),x3e=new M("",{factory:Et("multiSelectTexts")}),R3e=new M("",{factory:Et("countries")}),M3e=new M("",{factory:Et("previewTexts")}),N3e=new M("",{factory:Et("zoomTexts")}),P3e=new M("",{factory:Et("phoneSearch")}),zce={icon:()=>"@tui.calendar",min:Bi,max:wr,nativePicker:!1},[O3e,k3e]=Xi(zce),$ce={stringify:String,identityMatcher:qw,disabledItemHandler:Fi},y5=new M("",{factory:()=>$ce});var F3e=new M("");var L3e=new M("",{factory:()=>g(vI).pipe(H(t=>e=>e?`${t[e.month]??""} ${e.formattedYear}`:""))}),qce={rotate:"@tui.rotate-ccw-square",prev:"@tui.arrow-left",next:"@tui.arrow-right",zoomIn:"@tui.plus",zoomOut:"@tui.minus",zoomReset:"@tui.minimize"},V3e=new M("",{factory:()=>qce});var U3e=new M("",{factory:()=>({})});var Kc=class t{incomeCategories=["\u0417\u0430\u0440\u043F\u043B\u0430\u0442\u0430","\u0424\u0440\u0438\u043B\u0430\u043D\u0441","\u0418\u043D\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438","\u041F\u043E\u0434\u0430\u0440\u043A\u0438"];expenseCategories=["\u0415\u0434\u0430","\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442","\u0420\u0430\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u044F","\u0417\u0434\u043E\u0440\u043E\u0432\u044C\u0435"];categoryColors={\u0417\u0430\u0440\u043F\u043B\u0430\u0442\u0430:"#248929",\u0424\u0440\u0438\u043B\u0430\u043D\u0441:"#7ad113",\u0418\u043D\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0438:"#bde936",\u041F\u043E\u0434\u0430\u0440\u043A\u0438:"#FFC107",\u0415\u0434\u0430:"#ff6122",\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442:"#22a7ff",\u0420\u0430\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u044F:"#d632a9",\u0417\u0434\u043E\u0440\u043E\u0432\u044C\u0435:"#8a02a1"};getIncomeCategories(){return[...this.incomeCategories]}getExpenseCategories(){return[...this.expenseCategories]}getColor(e){return this.categoryColors[e]||"#fedd2e"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};function v5(t){let{anchorOffset:e=0,focusOffset:n=0}=t.ownerDocument.getSelection()||{},i=Math.min(e,n),r=Math.max(e,n);return[i,r]}function Gce(t,[e,n]){var i,r,o,s;let c=t.ownerDocument,u=c.createRange();u.setStart(t.firstChild||t,Math.min(e,(r=(i=t.textContent)===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0)),u.setEnd(t.lastChild||t,Math.min(n,(s=(o=t.textContent)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0));let d=c.getSelection();d&&(d.removeAllRanges(),d.addRange(u))}var QN=class{constructor(e){this.element=e,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(e){this.element.innerHTML=e.replace(/\n$/,`

`)}get selectionStart(){return v5(this.element)[0]}get selectionEnd(){return v5(this.element)[1]}setSelectionRange(e,n){Gce(this.element,[e??0,n??0])}select(){this.setSelectionRange(0,this.value.length)}};function Wce(t){let e=new QN(t);return new Proxy(t,{get(n,i){if(i in e)return e[i];let r=n[i];return typeof r=="function"?r.bind(n):r},set(n,i,r,o){return Reflect.set(i in e?e:n,i,r,o)}})}var b5=t=>t.isContentEditable?Wce(t):t.querySelector("input,textarea")||t,bf={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},YN=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){let e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}let n=this.now.value!==e.value,i=this.now.selection.some((r,o)=>r!==e.selection[o]);!n&&!i||(n&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,n){this.now=e,this.updateElementState(e,{inputType:n,data:null})}};function Kce(t,...e){return e.every(({value:n})=>n===t.value)}function ZN(t,...e){return e.every(({value:n,selection:i})=>n===t.value&&i[0]===t.selection[0]&&i[1]===t.selection[1])}function _5({value:t,selection:e},n,i){let[r,o]=e,s=typeof i=="function"?i({value:t,selection:e}):i;return{value:t,selection:s==="replace"?[r,Math.max(r+n.length,o)]:[r,o]}}function GI(t){return typeof t=="string"}function E5(t,e,n,i){let r="";for(let o=e.length;o<t.length;o++){let s=t[o]||"",c=i?.value[o]===s;if(!GI(s)||s===n&&!c)return r;r+=s}return r}function T5(t,e){return Array.isArray(e)?t.length===e.length&&Array.from(t).every((n,i)=>{let r=e[i]||"";return GI(r)?n===r:n.match(r)}):e.test(t)}function Qce(t,e,n){let i=null,r=null,o=Array.from(t.value).reduce((c,u,d)=>{let f=E5(e,c,u,n),m=c+f,y=e[m.length]||"";return i===null&&d>=t.selection[0]&&(i=m.length),r===null&&d>=t.selection[1]&&(r=m.length),GI(y)?m+y:u.match(y)?m+u:f.startsWith(u)?m:c},""),s=E5(e,o,"",n);return{value:T5(o+s,e)?o+s:o,selection:[i??o.length,r??o.length]}}function Yce({value:t,selection:e},n){let[i,r]=e,o=i,s=r,c=Array.from(t).reduce((u,d,f)=>{let m=u+d;return i===f&&(o=u.length),r===f&&(s=u.length),m.match(n)?m:u},"");return{value:c,selection:[Math.min(o,c.length),Math.min(s,c.length)]}}function zI(t,e,n=null){if(T5(t.value,e))return t;let{value:i,selection:r}=Array.isArray(e)?Qce(t,e,n):Yce(t,e);return{selection:r,value:Array.isArray(e)?i.slice(0,e.length):i}}function w5(t,e){if(!Array.isArray(e))return t;let[n,i]=t.selection,r=[],o=Array.from(t.value).reduce((s,c,u)=>{let d=e[u]||"";return u===n&&r.push(s.length),u===i&&r.push(s.length),GI(d)&&d===c?s:s+c},"");return r.length<2&&r.push(...new Array(2-r.length).fill(o.length)),{value:o,selection:[r[0],r[1]]}}var by=class{constructor(e,n){this.maskOptions=n,this.unmaskInitialState={value:"",selection:[0,0]},this.value="",this.selection=[0,0];let i=this.getMaskExpression(e),{value:r,selection:o}=zI(e,i);this.unmaskInitialState=w5({value:r,selection:o},i),this.value=r,this.selection=o}addCharacters(e){let{value:n,selection:i,maskOptions:r}=this,o={value:n,selection:i},{selection:[s,c]}=_5(o,e,r.overwriteMode),u=this.getMaskExpression({value:n.slice(0,s)+e+n.slice(c),selection:[s+e.length,s+e.length]}),[d,f]=_5(this.unmaskInitialState,e,r.overwriteMode).selection,m=this.unmaskInitialState.value.slice(0,d)+e,y=m.length,_=zI({value:m+this.unmaskInitialState.value.slice(f),selection:[y,y]},u,o),C=n.slice(0,s),R=zI({value:m,selection:[y,y]},u,o);if(R.value===C||R.value.length<C.length&&w5(R,u).value===this.unmaskInitialState.value.slice(0,d)||ZN(this,_))throw new Error("Invalid mask value");this.value=_.value,this.selection=_.selection}deleteCharacters(){let[e,n]=this.selection;if(e===n||!n)return;let{value:i}=this,r=this.getMaskExpression({value:i.slice(0,e)+i.slice(n),selection:[e,e]}),o={value:i},[s,c]=this.unmaskInitialState.selection,u=this.unmaskInitialState.value.slice(0,s)+this.unmaskInitialState.value.slice(c),d=zI({value:u,selection:[s,s]},r,o);this.value=d.value,this.selection=d.selection}getMaskExpression(e){let{mask:n}=this.maskOptions;return typeof n=="function"?n(e):n}},Ty=class{constructor(e){this.element=e,this.listeners=[]}listen(e,n,i){let r=n;this.element.addEventListener(e,r,i),this.listeners.push(()=>this.element.removeEventListener(e,r,i))}destroy(){this.listeners.forEach(e=>e())}},Fo={CTRL:1,ALT:2,SHIFT:4,META:8},wy={Y:89,Z:90};function Iy(t,e,n){return t.ctrlKey===!!(e&Fo.CTRL)&&t.altKey===!!(e&Fo.ALT)&&t.shiftKey===!!(e&Fo.SHIFT)&&t.metaKey===!!(e&Fo.META)&&t.keyCode===n}function Zce(t){return Iy(t,Fo.CTRL,wy.Y)||Iy(t,Fo.CTRL|Fo.SHIFT,wy.Z)||Iy(t,Fo.META|Fo.SHIFT,wy.Z)}function Xce(t){return Iy(t,Fo.CTRL,wy.Z)||Iy(t,Fo.META,wy.Z)}function WI(t,e){var n;let i=t.value;if(typeof e=="string")t.value=e;else{let[r,o]=e.selection;t.value=e.value,t.matches(":focus")&&((n=t.setSelectionRange)===null||n===void 0||n.call(t,r,o))}t.value!==i&&t.dispatchEvent(new Event("input",{bubbles:!0}))}function Jce({value:t,selection:e},n){let[i,r]=e;if(i!==r)return[i,r];let o=n?t.slice(i).indexOf(`
`)+1||t.length:t.slice(0,r).lastIndexOf(`
`)+1;return[n?i:o,n?o:r]}function eue({value:t,selection:e},n){let[i,r]=e;return i!==r?[i,r]:(n?[i,r+1]:[i-1,r]).map(s=>Math.min(Math.max(s,0),t.length))}var tue=/\s+$/g,nue=/^\s+/g,I5=/\s/;function iue({value:t,selection:e},n){let[i,r]=e;if(i!==r)return[i,r];if(n){let u=t.slice(i),[d]=u.match(nue)||[""],f=u.trimStart().search(I5);return[i,f!==-1?i+d.length+f:t.length]}let o=t.slice(0,r),[s]=o.match(tue)||[""],c=o.trimEnd().split("").reverse().findIndex(u=>I5.exec(u));return[c!==-1?r-s.length-c:0,r]}function $I(t=[]){return(e,...n)=>t.reduce((i,r)=>Object.assign(Object.assign({},i),r(i,...n)),e)}function Qc(t,e){let n=Object.assign(Object.assign({},bf),e),i=$I(n.preprocessors),r=$I(n.postprocessors),o=typeof t=="string"?{value:t,selection:[0,0]}:t,{elementState:s}=i({elementState:o,data:""},"validation"),c=new by(s,n),{value:u,selection:d}=r(c,o);return typeof t=="string"?u:{value:u,selection:d}}function rue(){return t=>{let e=new Ty(t),n=!1,i,r=t.value;return e.listen("keydown",({key:o})=>{n=o==="Unidentified"}),e.listen("beforeinput",o=>{i=o,r=t.value}),e.listen("input",o=>{n&&i.defaultPrevented&&i.inputType==="deleteContentBackward"&&o.inputType==="deleteContentBackward"&&(t.value=r)},{capture:!0}),()=>e.destroy()}}var KN=" ";function oue(){let t="",e=0,n=null,i=!1;return r=>{let o=new Ty(r);return o.listen("beforeinput",s=>{var c,u;let{value:d,selectionStart:f,selectionEnd:m}=r,y=n?.inputType==="insertText"&&n?.data===KN&&!d.slice(0,Number(m)).endsWith(KN);s.inputType==="insertText"&&s.data===`.${KN}`&&(n?.inputType==="deleteContentBackward"&&i?(r.value=t,(c=r.setSelectionRange)===null||c===void 0||c.call(r,e,e)):y&&((u=r.setSelectionRange)===null||u===void 0||u.call(r,f,f))),i=y,n=s,t=d,e=Number((y?e:m)===d.length?m:f)}),()=>o.destroy()}}var sue=[oue(),rue()],qI=class extends YN{constructor(e,n){super(),this.element=e,this.maskitoOptions=n,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new Ty(this.element),this.options=Object.assign(Object.assign({},bf),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=$I(this.options.preprocessors),this.postprocessor=$I(this.options.postprocessors),this.teardowns=this.options.plugins.concat(sue).map(i=>i(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",i=>{if(Zce(i))return i.preventDefault(),this.redo();if(Xce(i))return i.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",i=>{var r,o,s;let c=i.inputType.includes("Forward");switch(this.updateHistory(this.elementState),i.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:i,isForward:c,selection:eue(this.elementState,c)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:i,isForward:c,selection:Jce(this.elementState,c),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:i,isForward:c,selection:iue(this.elementState,c)});case"historyRedo":return i.preventDefault(),this.redo();case"historyUndo":return i.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(i);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(i,(s=(r=i.data)!==null&&r!==void 0?r:(o=i.dataTransfer)===null||o===void 0?void 0:o.getData("text/plain"))!==null&&s!==void 0?s:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&!ZN(this.upcomingElementState,this.elementState)&&this.updateElementState(this.upcomingElementState),this.upcomingElementState=null},{capture:!0}),this.eventListener.listen("input",({inputType:i})=>{i!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e?.())}updateElementState({value:e,selection:n},i){let r=this.elementState.value;this.updateValue(e),this.updateSelectionRange(n),i&&r!==e&&this.dispatchInputEvent(i)}get elementState(){let{value:e,selectionStart:n,selectionEnd:i}=this.element;return{value:e,selection:[n??0,i??0]}}get maxLength(){let{maxLength:e}=this.element;return e===-1?1/0:e}updateSelectionRange([e,n]){var i;let{element:r}=this;r.matches(":focus")&&(r.selectionStart!==e||r.selectionEnd!==n)&&((i=r.setSelectionRange)===null||i===void 0||i.call(r,e,n))}updateValue(e){(this.element.value!==e||this.element.isContentEditable)&&(this.element.value=e)}ensureValueFitsMask(){this.updateElementState(Qc(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:n,isForward:i}){let r={value:this.elementState.value,selection:n},{elementState:o}=this.preprocessor({elementState:r,data:""},i?"deleteForward":"deleteBackward"),s=new by(o,this.options);s.deleteCharacters();let c=this.postprocessor(s,r);if(Kce(r,o,s,c)){let[u,d]=o.selection;return e.preventDefault(),this.updateSelectionRange(i?[d,d]:[u,u])}this.upcomingElementState=c}handleInsert(e,n){let{options:i,maxLength:r,elementState:o}=this,[s,c]=o.selection,{elementState:u,data:d=n}=this.preprocessor({data:n,elementState:o},"insert"),f=new by(u,i);try{f.addCharacters(d)}catch{return e.preventDefault()}this.upcomingElementState=this.clampState(this.postprocessor(f,o)),o.value.length>=r&&s===c&&(i.overwriteMode==="replace"&&!ZN(this.upcomingElementState,o)?this.dispatchInputEvent({inputType:"insertText",data:n}):this.upcomingElementState=null)}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}clampState({value:e,selection:n}){let[i,r]=n,o=this.maxLength;return{value:e.slice(0,o),selection:[Math.min(i,o),Math.min(r,o)]}}};var Tf=(()=>{let e=class e{constructor(){this.elementRef=g(Je).nativeElement,this.ngZone=g(_e),this.maskedElement=null,this.options=null,this.elementPredicate=b5;let i=g(Lc,{self:!0,optional:!0});if(i){let r=i.writeValue.bind(i);i.writeValue=o=>{r(this.options?Qc(String(o??""),this.options):o)}}}ngOnChanges(){return x(this,null,function*(){let{elementPredicate:i,options:r,maskedElement:o,elementRef:s,ngZone:c}=this;if(o?.destroy(),!r)return;let u=yield i(s);this.elementPredicate!==i||this.options!==r||c.runOutsideAngular(()=>{this.maskedElement=new qI(u,r)})})}ngOnDestroy(){this.maskedElement?.destroy()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},features:[rn]});let t=e;return t})();function D5(){let t=g(br,{optional:!0})?.control||g(Zn,{optional:!0});return an(Zw(t),{requireSync:!0})}function KI(t){return wi(Tf,"options",t)}var aue=["type","checkbox","tuiCheckbox",""],S5={size:"m",appearance:t=>t.checked||t.indeterminate?"primary":"outline-grayscale",icons:{checked:"@tui.check",indeterminate:"@tui.minus"}},A5=new M("",{factory:()=>S5});function x5(t){return ys(A5,t,S5)}var R5=(()=>{let e=class e{constructor(){this.appearance=g(Hn),this.options=g(A5),this.cdr=g(Tt),this.resolver=ff(),this.destroyRef=g(xt),this.el=de(),this.size=this.options.size,this.control=g(Zn,{optional:!0,self:!0})}ngOnInit(){this.control?.valueChanges&&Zw(this.control).pipe(Ca(this.cdr),Dt(this.destroyRef)).subscribe(i=>{let r=this.control instanceof Jg&&i===null?this.control.model:i;this.el.indeterminate=r===null})}ngDoCheck(){this.appearance.tuiAppearance=Br(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}getIcon(i){let r=this.options.icons[i],o=Br(r)?r:r(this.size);return o&&`url(${this.resolver(o)})`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["input","type","checkbox","tuiCheckbox",""]],hostVars:8,hostBindings:function(r,o){r&2&&(Ni("disabled",!o.control||o.control.disabled),ke("data-size",o.size),dt("--t-checked-icon",o.getIcon("checked"))("--t-indeterminate-icon",o.getIcon("indeterminate")),me("_readonly",!o.control))},inputs:{size:"size"},features:[Oe([{directive:Hn,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]},hI])],attrs:aue,decls:0,vars:0,template:function(r,o){},styles:[`[tuiCheckbox]{--t-size: 1.5rem;--t-radius: var(--tui-radius-s);inline-size:var(--t-size);block-size:var(--t-size);border-radius:var(--t-radius);cursor:pointer;margin:0;flex-shrink:0}[tuiCheckbox]:before{position:absolute;top:0;left:0;bottom:0;right:0;content:"";inline-size:1rem;block-size:1rem;margin:auto;background:currentColor;-webkit-mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>') center / 100%;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>') center / 100%;transform:scale(0);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out}[tuiCheckbox]:disabled._readonly{opacity:1;pointer-events:none}[tuiCheckbox]:checked:before,[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-checked-icon);mask-image:var(--t-checked-icon);transform:scale(1);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out,-webkit-mask 0s ease-in-out}[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-indeterminate-icon);mask-image:var(--t-indeterminate-icon)}[tuiCheckbox][data-size=s]{--t-size: 1rem;--t-radius: var(--tui-radius-xs)}[tuiCheckbox][data-size=s]:before{inline-size:.875rem;block-size:.875rem}[tuiCheckbox]:invalid:not([data-mode]),[tuiCheckbox][data-mode~=invalid]{color:#fff}
`],encapsulation:2,changeDetection:0});let t=e;return t})();var XN=(()=>{let e=class e{constructor(){this.handlers=g(er),this.value=D5(),this.datalist=g(ws),this.option=g(Xl,{optional:!0}),this.selected=xe((i=this.value(),r=this.option?.value())=>Er(r)&&Er(i)&&this.handlers.identityMatcher()(i,r)),this.scrolled=wi(yf,"tuiScrollIntoView",this.selected)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],hostAttrs:["tuiSelectOption",""],hostVars:4,hostBindings:function(r,o){r&2&&me("_value",o.option)("_selected",o.selected())},features:[ee([x5({appearance:()=>"action"})]),Oe([yf])],decls:1,vars:2,consts:[["tuiCheckbox","","type","checkbox",1,"t-check",3,"checked","size"]],template:function(r,o){r&1&&ce(0,"input",0),r&2&&U("checked",o.selected())("size",o.datalist.size==="l"?"m":"s")},dependencies:[R5],styles:["._value[_nghost-%COMP%] > .t-check[_ngcontent-%COMP%]{order:100;margin-inline-start:auto;pointer-events:none}._value._selected[_nghost-%COMP%] ~   [tuiSelectOption]>.t-check:before{opacity:0}[_nghost-%COMP%]:not(._value) > .t-check[_ngcontent-%COMP%], tui-dropdown-mobile:not(._sheet)[_nghost-%COMP%] > .t-check[_ngcontent-%COMP%], tui-dropdown-mobile:not(._sheet)   [_nghost-%COMP%] > .t-check[_ngcontent-%COMP%]{display:none}.t-check[_ngcontent-%COMP%]:before{inline-size:100%;block-size:100%}"],changeDetection:0});let t=e;return t})(),QI=(()=>{let e=class e extends Sa{constructor(){super(...arguments),this.textfield=g(ed),this.open=Ef(),this.itemsHandlers=g(er),this.dropdownEnabled=MI(this.interactive),this.valueEffect=sn(()=>{let i=this.value(),r=Er(i)?this.itemsHandlers.stringify()(i):"";this.textfield.value.set(r)},_i)}setValue(i){this.onChange(i),i||this.open.set(!0)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["input","tuiSelect",""]],hostVars:1,hostBindings:function(r,o){r&1&&Q("input",function(c){return(c.inputType==null?null:c.inputType.includes("delete"))&&o.setValue(null)}),r&2&&Ni("disabled",o.disabled())},features:[ee([LI(XN),UI(e),af(e)]),Oe([Gc,c5]),Qe]});let t=e;return t})();var M5=(t,e,n,i)=>[t,e,n,i,!1],N5=(t,e,n,i)=>[t,e,n,i,!0],cue=(t,e,n,i,r,o)=>[t,e,n,i,r,o];function uue(t,e){if(t&1){let n=lt();j(0,"tui-calendar",3),et(1,"tuiMapper"),et(2,"tuiMapper"),et(3,"tuiMapper"),et(4,"tuiMapper"),pm("hoveredItemChange",function(r){Ce(n);let o=W();return R_(o.hoveredItem,r)||(o.hoveredItem=r),De(r)}),Q("dayClick",function(r){Ce(n);let o=W();return De(o.onDayClick(r))})("monthChange",function(r){Ce(n);let o=W();return De(o.onMonthChange(r.append({month:-1})))}),L()}if(t&2){let n=W();U("disabledItemHandler",n.calculatedDisabledItemHandler)("markerHandler",n.markerHandler)("max",Xs(1,9,Wd(29,M5,n.max,n.capsMapper,n.currentValue,n.maxLength)))("min",Xs(2,15,Wd(34,N5,n.min,n.capsMapper,n.currentValue,n.maxLength)))("minViewedMonth",gm(3,21,n.defaultViewedMonth,n.monthOffset,1))("month",gm(4,25,n.defaultViewedMonth,n.monthOffset,1))("showAdjacent",!1)("value",n.currentValue),fm("hoveredItem",n.hoveredItem)}}function lue(t,e){if(t&1&&ce(0,"tui-icon",9),t&2){let n=W(4);dt("font-size",1,"rem"),U("icon",n.icons.check)}}function due(t,e){if(t&1){let n=lt();j(0,"button",7),Q("click",function(){let r=Ce(n).$implicit,o=W(3);return De(o.onItemSelect(r))})("pointerdown.prevent.zoneless",function(){return Ce(n),De(0)}),re(1),X(2,lue,1,3,"tui-icon",8),L()}if(t&2){let n=e.$implicit,i=W(3);ke("aria-checked",i.isItemActive(n)),V(),nt(" ",n," "),V(),U("ngIf",i.isItemActive(n))}}function hue(t,e){if(t&1&&(j(0,"tui-data-list",5),X(1,due,3,3,"button",6),et(2,"async"),et(3,"tuiMapper"),L()),t&2){let n=W(2);dt("flex",1),V(),U("ngForOf",Xs(3,5,$D(12,cue,n.items,n.mapper,n.min,n.max,n.minLength,on(2,3,n.otherDateText$))))}}function fue(t,e){if(t&1&&X(0,hue,4,19,"tui-data-list",4),t&2){let n=W();U("ngIf",!n.mobile)}}var pue=(t,e,n)=>i=>{if(!e||e instanceof Ui||!n)return t(i);let r=Object.fromEntries(Object.entries(n).map(([u,d])=>[u,-d])),o=e.append(r).append({day:1}),s=e.append(n).append({day:-1});return o.dayBefore(i)&&s.dayAfter(i)||t(i)},mue=(t,e,n,i)=>{if(e instanceof Ui&&!e.isSingleDay||!e||!n)return i?t||Bi:t||wr;let r=Object.fromEntries(Object.entries(n).map(([c,u])=>[c,-u])),s=(e instanceof Xe?e:e.from).append(i?r:n).append({day:i?1:-1});return i?s.dayBefore(t||Bi)?t||Bi:s:t&&s.dayAfter(t)?t:s},P5=(()=>{let e=class e{constructor(){this.selectedPeriod=null,this.cdr=g(Tt),this.currentValue=null,this.previousValue=null,this.hoveredItem=null,this.month=_n.currentLocal(),this.otherDateText$=g(m5),this.icons=g(mI),this.capsMapper=mue,this.mobile=g(Xn),this.disabledItemHandler=Fi,this.markerHandler=null,this.items=[],this.min=Bi,this.max=wr,this.minLength=null,this.maxLength=null,this.item=null,this.valueChange=new Ae,this.itemChange=new Ae,this.monthOffset=(i,r)=>i.append({month:r}),this.mapper=(i,r,o,s,c)=>[...i.filter(u=>(s===null||u.range.from.append(s).append({day:-1}).daySameOrBefore(u.range.to))&&(r===null||u.range.to.daySameOrAfter(r))&&(o===null||u.range.from.daySameOrBefore(o))),c||""],g(p5,{optional:!0})?.pipe(Ca(),Dt()).subscribe(i=>{this.currentValue=i,this.initDefaultViewedMonth()})}set valueSetter(i){this.currentValue=i}set defaultViewedMonth(i){this.currentValue||(this.month=i)}set value(i){this.cdr.markForCheck(),this.currentValue=i,this.initDefaultViewedMonth()}get defaultViewedMonth(){return this.month}get selectedActivePeriod(){return this.selectedPeriod}set selectedActivePeriod(i){this.selectedPeriod=i}ngOnChanges(){this.currentValue||this.initDefaultViewedMonth()}ngOnInit(){this.initDefaultViewedMonth()}get calculatedDisabledItemHandler(){return this.calculateDisabledItemHandler(this.disabledItemHandler,this.currentValue,this.minLength)}onEsc(i){i.key!=="Escape"||!(this.currentValue instanceof Xe)||(i.stopPropagation(),this.currentValue=this.previousValue)}isItemActive(i){let{activePeriod:r}=this;return Br(i)&&r===null||r===i||r?.toString()===i.toString()}onItemSelect(i){Br(i)?this.activePeriod!==null&&(this.selectedActivePeriod=null,this.itemChange.emit(null),this.updateValue(null)):(this.selectedActivePeriod=i,this.itemChange.emit(i),this.updateValue(i.range.dayLimit(this.min,this.max))),this.initDefaultViewedMonth()}onMonthChange(i){this.month=i}onDayClick(i){if(this.previousValue=this.currentValue,this.selectedActivePeriod=null,this.currentValue instanceof Xe){let r=Ui.sort(this.currentValue,i);this.currentValue=r,this.itemChange.emit(this.findItemByDayRange(r)),this.updateValue(r)}else this.currentValue=i}updateValue(i){this.currentValue=i,this.valueChange.emit(i)}get activePeriod(){return this.item??this.selectedActivePeriod??(this.items.find(i=>ry(this.currentValue instanceof Xe?new Ui(this.currentValue,this.currentValue):this.currentValue,i.range,(r,o)=>r.from.daySame(o.from.dayLimit(this.min,this.max))&&r.to.daySame(o.to.dayLimit(this.min,this.max))))||null)}calculateDisabledItemHandler(i,r,o){return pue(i,r,o)}initDefaultViewedMonth(){this.currentValue instanceof Xe?this.month=this.currentValue:this.currentValue?this.month=this.items.length?this.currentValue.to:this.currentValue.from:this.max&&this.month.monthSameOrAfter(this.max)?this.month=this.items.length?this.max:this.max.append({month:-1}):this.min&&this.month.monthSameOrBefore(this.min)&&(this.month=this.min)}findItemByDayRange(i){return this.items.find(r=>i.daySame(r.range))??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-calendar-range"]],hostVars:2,hostBindings:function(r,o){r&1&&Q("keydown.capture",function(c){return o.onEsc(c)},Pr),r&2&&me("_mobile",o.mobile)},inputs:{disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",min:"min",max:"max",minLength:"minLength",maxLength:"maxLength",item:"item",valueSetter:[0,"value","valueSetter"],defaultViewedMonth:"defaultViewedMonth"},outputs:{valueChange:"valueChange",itemChange:"itemChange"},features:[ee([Gl(e),X$({rangeMode:!0})]),rn],decls:7,vars:39,consts:[["presets",""],["automation-id","tui-calendar-range__calendar",3,"hoveredItemChange","dayClick","monthChange","disabledItemHandler","markerHandler","max","maxViewedMonth","min","month","showAdjacent","value","hoveredItem"],[3,"disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem","hoveredItemChange","dayClick","monthChange",4,"ngIf","ngIfElse"],[3,"hoveredItemChange","dayClick","monthChange","disabledItemHandler","markerHandler","max","min","minViewedMonth","month","showAdjacent","value","hoveredItem"],["automation-id","tui-calendar-range__menu","role","menu",3,"flex",4,"ngIf"],["automation-id","tui-calendar-range__menu","role","menu"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","type","button",3,"click","pointerdown.prevent.zoneless",4,"ngFor","ngForOf"],["automation-id","tui-calendar-range__menu__item","role","menuitemradio","tuiOption","","type","button",3,"click","pointerdown.prevent.zoneless"],["automation-id","tui-calendar-range__checkmark",3,"icon","font-size",4,"ngIf"],["automation-id","tui-calendar-range__checkmark",3,"icon"]],template:function(r,o){if(r&1){let s=lt();j(0,"tui-calendar",1),et(1,"tuiMapper"),et(2,"tuiMapper"),et(3,"tuiMapper"),pm("hoveredItemChange",function(u){return Ce(s),R_(o.hoveredItem,u)||(o.hoveredItem=u),De(u)}),Q("dayClick",function(u){return Ce(s),De(o.onDayClick(u))})("monthChange",function(u){return Ce(s),De(o.onMonthChange(u))}),L(),X(4,uue,5,39,"tui-calendar",2)(5,fue,1,1,"ng-template",null,0,ai)}if(r&2){let s=si(6);me("t-calendar",!o.mobile),U("disabledItemHandler",o.calculatedDisabledItemHandler)("markerHandler",o.markerHandler)("max",Xs(1,13,Wd(29,M5,o.max,o.capsMapper,o.currentValue,o.maxLength)))("maxViewedMonth",o.items.length||o.mobile?null:gm(2,19,o.defaultViewedMonth,o.monthOffset,-1))("min",Xs(3,23,Wd(34,N5,o.min,o.capsMapper,o.currentValue,o.maxLength)))("month",o.defaultViewedMonth)("showAdjacent",!!o.items.length||o.mobile)("value",o.currentValue),fm("hoveredItem",o.hoveredItem),V(4),U("ngIf",!o.items.length&&!o.mobile)("ngIfElse",s)}},dependencies:[gn,mi,Pt,zc,ws,Jl,VI,Wl],styles:["[_nghost-%COMP%]:not(._mobile){display:flex;min-inline-size:30rem}.t-calendar[_ngcontent-%COMP%]{border-inline-end:1px solid var(--tui-border-normal)}"],changeDetection:0});let t=e;return Tr([jr],t.prototype,"calculateDisabledItemHandler",null),t})();function gue(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=e.polymorpheusOutlet;V(),nt(" ",n," ")}}function yue(t,e){if(t&1){let n=lt();j(0,"button",7,2),Q("click.capture",function(){let r=Ce(n).$implicit,o=W(3);return De(o.itemClick.emit(r))}),X(2,gue,2,1,"ng-container",8),L()}if(t&2){let n=e.$implicit,i=si(1),r=W(3);U("disabled",r.disabledItemHandler(n))("value",n),V(2),U("polymorpheusOutlet",r.itemContent)("polymorpheusOutletContext",r.getContext(n,i))}}function vue(t,e){if(t&1&&(ut(0),X(1,yue,3,4,"button",6),st()),t&2){let n=W(2);V(),U("ngForOf",n.$cast(n.items))}}function _ue(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=e.polymorpheusOutlet;V(),nt(" ",n," ")}}function Eue(t,e){if(t&1){let n=lt();j(0,"button",10,2),Q("click",function(){let r=Ce(n).$implicit,o=W(3);return De(o.itemClick.emit(r))}),j(2,"span",11),X(3,_ue,2,1,"ng-container",8),L()()}if(t&2){let n=e.$implicit,i=si(1),r=W(3);U("disabled",r.disabledItemHandler(n))("value",n),V(3),U("polymorpheusOutlet",r.itemContent)("polymorpheusOutletContext",r.getContext(n,i))}}function wue(t,e){if(t&1&&X(0,Eue,4,4,"button",9),t&2){let n=W(2);U("ngForOf",n.$cast(n.items))}}function Iue(t,e){if(t&1&&(j(0,"tui-data-list",4),X(1,vue,2,1,"ng-container",5)(2,wue,1,1,"ng-template",null,1,ai),L()),t&2){let n=si(3),i=W();U("emptyContent",i.emptyContent)("size",i.size),V(),U("ngIf",i.newOptionMode)("ngIfElse",n)}}function bue(t,e){t&1&&ce(0,"tui-loader",12)}var YI=(()=>{let e=class e{constructor(){this.datalist=Y(null),this.itemsHandlers=g(er),this.itemsHandlersLegacy=g(y5),this.legacyOptionsQuery=Vc,this.optionsQuery=Vc,this.newOptionMode=de().hasAttribute("new"),this.items=[],this.disabledItemHandler=this.newOptionMode?this.itemsHandlers?.disabledItemHandler():this.itemsHandlersLegacy.disabledItemHandler,this.size=HN(),this.itemClick=new Ae,this.options=xe(()=>this.datalist()?.options()??[]),this.itemContent=({$implicit:i})=>this.newOptionMode?this.itemsHandlers.stringify()(i):this.itemsHandlersLegacy.stringify(i)}getContext(i,{nativeElement:r}){return{$implicit:i,active:sf(r)}}getOptions(i=!1){return[...this.legacyOptionsQuery,...this.optionsQuery].filter(({disabled:r})=>i||!r).map(({value:r})=>ur(r)?r():r).filter(Er)}set datalistSetter(i){this.datalist.set(i)}$cast(i){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["tui-data-list-wrapper",3,"labels",""],["tui-data-list-wrapper","new","",3,"labels",""]],viewQuery:function(r,o){if(r&1&&(dr(ws,5),dr(Jl,5),dr(Xl,5)),r&2){let s;Bt(s=jt())&&(o.datalistSetter=s.first),Bt(s=jt())&&(o.legacyOptionsQuery=s),Bt(s=jt())&&(o.optionsQuery=s)}},inputs:{items:"items",disabledItemHandler:"disabledItemHandler",emptyContent:"emptyContent",size:"size",itemContent:"itemContent"},outputs:{itemClick:"itemClick"},features:[ee([BN(e)])],decls:3,vars:2,consts:[["loading",""],["legacyOptionFallback",""],["elementRef","elementRef"],[3,"emptyContent","size",4,"ngIf","ngIfElse"],[3,"emptyContent","size"],[4,"ngIf","ngIfElse"],["new","","tuiElement","","tuiOption","","type","button",3,"disabled","value","click.capture",4,"ngFor","ngForOf"],["new","","tuiElement","","tuiOption","","type","button",3,"click.capture","disabled","value"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-data-list-wrapper__option","tuiElement","","tuiOption","","type","button",3,"disabled","value","click",4,"ngFor","ngForOf"],["automation-id","tui-data-list-wrapper__option","tuiElement","","tuiOption","","type","button",3,"click","disabled","value"],[1,"t-content"],["automation-id","tui-data-list-wrapper__loader",1,"t-loader"]],template:function(r,o){if(r&1&&X(0,Iue,4,4,"tui-data-list",3)(1,bue,1,0,"ng-template",null,0,ai),r&2){let s=si(2);U("ngIf",o.items)("ngIfElse",s)}},dependencies:[mi,Pt,On,ws,Jl,n5,Xl,Oz,qc],styles:["[_nghost-%COMP%]{display:block}.t-content[_ngcontent-%COMP%]{flex:1;min-inline-size:0}.t-loader[_ngcontent-%COMP%]{margin:.75rem 0}"],changeDetection:0});let t=e;return t})();function td(t,e,n){let i=Math.min(Number(n),Math.max(Number(e),Number(t)));return t instanceof Date?new Date(i):i}function Tue(t){return t.replaceAll(/\W/g,"").length}var V5={day:31,month:12,year:9999},Cue=[".",",","\u0431","\u044E"],Due=new Date("0001-01-01T00:00"),Sue=new Date("9999-12-31T23:59:59.999");var eP="\xA0",Aue="\u200B",xue="\u2013",Rue="\u2014",tP="-",U5="\u2212",Mue="\u30FC";var C$e=new RegExp(`[${eP}APM]+$`,"g"),D$e=new RegExp(`${eP}[AP]M$`,"g"),Nue=[":","."];var B5=t=>{var e,n,i,r,o,s;return{day:(n=(e=t.match(/d/g))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0,month:(r=(i=t.match(/m/g))===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0,year:(s=(o=t.match(/y/g))===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0}};function Pue(t){return{day:String(t.getDate()).padStart(2,"0"),month:String(t.getMonth()+1).padStart(2,"0"),year:String(t.getFullYear()).padStart(4,"0"),hours:String(t.getHours()).padStart(2,"0"),minutes:String(t.getMinutes()).padStart(2,"0"),seconds:String(t.getSeconds()).padStart(2,"0"),milliseconds:String(t.getMilliseconds()).padStart(3,"0")}}var Oue=["day","month","year"];function kue(t){return[...Oue].sort((e,n)=>t.indexOf(e[0])>t.indexOf(n[0])?1:-1)}function Fue(t,e){return t.length<e.length?!1:t.split(/\D/).every(n=>!/^0+$/.exec(n))}function j5(t,e,n){let i=Tue(e);return t.replace(n,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${i}}`,"g"))||[]}function nP(t,e){let n=e.replaceAll(/[^dmy]/g,""),i=t.replaceAll(/\D+/g,""),r={day:i.slice(n.indexOf("d"),n.lastIndexOf("d")+1),month:i.slice(n.indexOf("m"),n.lastIndexOf("m")+1),year:i.slice(n.indexOf("y"),n.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(r).filter(([o,s])=>!!s).sort(([o],[s])=>e.toLowerCase().indexOf(o.slice(0,1))>e.toLowerCase().indexOf(s.slice(0,1))?1:-1))}function Lue(t,e){var n,i,r,o,s,c,u;let d=((n=t.year)===null||n===void 0?void 0:n.length)===2?`20${t.year}`:t.year,f=new Date(Number(d??"0"),Number((i=t.month)!==null&&i!==void 0?i:"1")-1,Number((r=t.day)!==null&&r!==void 0?r:"1"),Number((o=e?.hours)!==null&&o!==void 0?o:"0"),Number((s=e?.minutes)!==null&&s!==void 0?s:"0"),Number((c=e?.seconds)!==null&&c!==void 0?c:"0"),Number((u=e?.milliseconds)!==null&&u!==void 0?u:"0"));return f.setFullYear(Number(d??"0")),f}var H5=", ";function Cy({day:t,month:e,year:n,hours:i,minutes:r,seconds:o,milliseconds:s},{dateMode:c,dateTimeSeparator:u=H5,timeMode:d}){var f;let m=((f=c.match(/y/g))===null||f===void 0?void 0:f.length)===2?n?.slice(-2):n;return(c+(d?u+d:"")).replaceAll(/d+/g,t??"").replaceAll(/m+/g,e??"").replaceAll(/y+/g,m??"").replaceAll(/H+/g,i??"").replaceAll("MSS",s??"").replaceAll(/M+/g,r??"").replaceAll(/S+/g,o??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}function Vue({dateString:t,dateModeTemplate:e,dateSegmentsSeparator:n,offset:i,selection:[r,o]}){var s,c;let u=nP(t,e),d=Object.entries(u),f=kue(e),m={};for(let C=0;C<d.length;C++){let[R,N]=d[C],k=Cy(m,{dateMode:e}),$=V5[R],K=k.length&&n.length,he=i+k.length+K+B5(e)[R],Ke=he>=r&&he===o;if(Ke&&Number(N)>Number($)){let fe=f[f.indexOf(R)+1];if(!fe||fe==="year")return{validatedDateString:"",updatedSelection:[r,o]};m[R]=`0${N.slice(0,-1)}`,d[C+1]=[fe,N.slice(-1)+((c=(s=d[C+1])===null||s===void 0?void 0:s[1])!==null&&c!==void 0?c:"").slice(1)];continue}if(Ke&&Number(N)<1)return{validatedDateString:"",updatedSelection:[r,o]};m[R]=N}let y=Cy(m,{dateMode:e}),_=y.length-t.length;return{validatedDateString:y,updatedSelection:[r+_,o+_]}}function Cf(t){return t}function Uue(){}var z5=/[\\^$.*+?()[\]{}|]/g,Bue=new RegExp(z5.source);function ui(t){return t&&Bue.test(t)?t.replaceAll(z5,String.raw`\$&`):t}function Lo(t,{prefix:e,postfix:n}){var i,r;let o=new RegExp(`^${ui(e)}`),s=new RegExp(`${ui(n)}$`),[c=""]=(i=t.match(o))!==null&&i!==void 0?i:[],[u=""]=(r=t.match(s))!==null&&r!==void 0?r:[];return{extractedPrefix:c,extractedPostfix:u,cleanValue:c||u?t.slice(c.length,u.length?-u.length:1/0):t}}function jue(t,e){let n="";for(let i=0;i<t.length;i++){if(t[i]!==e[i])return n;n+=t[i]}return n}var Hue=/^0+$/;function JN(t,e,n=0){let i=t.padEnd(e.length,"0");if(Number(i)<=Number(e))return{validatedSegmentValue:t,prefixedZeroesCount:n};if(i.endsWith("0"))return JN(`0${t.slice(0,e.length-1)}`,e,n+1);let r=t.slice(0,e.length-1);return Hue.exec(r)?{validatedSegmentValue:"",prefixedZeroesCount:n}:JN(`${r}0`,e,n)}function O5(t){return t.replaceAll(/[-]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}function zue({dateModeTemplate:t,dateSegmentSeparator:e,splitFn:n,uniteFn:i}){return({value:r,selection:o})=>{var s;let[c,u]=o,{dateStrings:d,restPart:f=""}=n(r),m=[],y=0;d.forEach(C=>{let R=nP(C,t),k=Object.entries(R).reduce(($,[K,he])=>{let{validatedSegmentValue:Ke,prefixedZeroesCount:fe}=JN(he,`${V5[K]}`);return y+=fe,Object.assign(Object.assign({},$),{[K]:Ke})},{});m.push(Cy(k,{dateMode:t}))});let _=i(m,r)+(!((s=d[d.length-1])===null||s===void 0)&&s.endsWith(e)?e:"")+f;return y&&_.slice(u+y,u+y+e.length)===e&&(y+=e.length),{selection:[c+y,u+y],value:_}}}function $5(){return({elementState:t,data:e})=>{let{value:n,selection:i}=t;return{elementState:{selection:i,value:O5(n)},data:O5(e)}}}var S$e=new RegExp(`[${Nue.map(ui).join("")}]$`);function $ue(t,e){let n=B5(e);return Object.fromEntries(Object.entries(t).map(([i,r])=>{let o=n[i];return[i,r.length===o&&/^0+$/.exec(r)?"1".padStart(o,"0"):r]}))}var que="1972";function Gue({dateModeTemplate:t,min:e=Due,max:n=Sue,rangeSeparator:i="",dateSegmentSeparator:r="."}){return({value:o,selection:s})=>{let c=i&&o.endsWith(i),u=j5(o,t,i),d="";for(let f of u){d+=d?i:"";let m=nP(f,t);if(!Fue(f,t)){let C=$ue(m,t),R=Cy(C,{dateMode:t}),N=f.endsWith(r)?r:"";d+=R+N;continue}let y=Lue(Object.assign({year:que},m)),_=td(y,e,n);d+=Cy(Pue(_),{dateMode:t})}return{selection:s,value:d+(c?i:"")}}}function Wue({dateModeTemplate:t,dateSegmentsSeparator:e,rangeSeparator:n="",dateTimeSeparator:i=H5}){return({elementState:r,data:o})=>{let s=t.split(e),c=o.includes(i),u=o.slice(0,c?o.indexOf(i):1/0).split(/\D/).filter(Boolean);if(!u.length||u.length%s.length!==0)return{elementState:r,data:o};let d=u.reduce((f,m,y)=>{var _;let C=(_=s[y%s.length])!==null&&_!==void 0?_:"",R=Math.trunc(y/s.length),N=y%s.length===s.length-1;return f[R]||(f[R]=""),f[R]+=N?m:`${m.padStart(C.length,"0")}${e}`,f},[]);return{elementState:r,data:c?`${d[0]}${o.slice(o.indexOf(i))}`:d.join(n)}}}function Kue(t){let e=new RegExp(`${ui(t)}$`);return t?({value:n,selection:i},r)=>{if(!n&&!r.value.endsWith(t))return{value:n,selection:i};if(!n.endsWith(t)&&!r.value.endsWith(t))return{selection:i,value:n+t};let o=r.value.replace(e,""),s=r.selection[1]>o.length,c=jue(o,n);return{selection:i,value:Array.from(t).reverse().reduce((u,d,f)=>{let m=u.length-1-f,y=c[m]===d&&s;return u[m]!==d||y?u.slice(0,m+1)+d+u.slice(m+1):u},n)}}:Cf}function Que(t){return t?({value:e,selection:n},i)=>{if(e.startsWith(t)||!e&&!i.value.startsWith(t))return{value:e,selection:n};let[r,o]=n,s=Array.from(t).reduce((u,d,f)=>u[f]===d?u:u.slice(0,f)+d+u.slice(f),e),c=s.length-e.length;return{selection:[r+c,o+c],value:s}}:Cf}function Yue({dateModeTemplate:t,dateSegmentsSeparator:e,rangeSeparator:n=""}){return({elementState:i,data:r})=>{let{value:o,selection:s}=i;if(r===e)return{elementState:i,data:s[0]===o.length?r:""};if(!r.replaceAll(/\D/g,""))return{elementState:i,data:r};let c=r.replaceAll(new RegExp(`[^\\d${ui(e)}${n}]`,"g"),""),[u,d]=s,f=d+r.length,m=o.slice(0,u)+c+o.slice(f),y=j5(m,t,n),_="",C=!!n&&m.includes(n);for(let N of y){let{validatedDateString:k,updatedSelection:$}=Vue({dateString:N,dateModeTemplate:t,dateSegmentsSeparator:e,offset:_.length,selection:[u,f]});if(N&&!k)return{elementState:i,data:""};f=$[1],_+=C&&!_?k+n:k}let R=_.slice(u,f);return{elementState:{selection:s,value:_.slice(0,u)+R.split(e).map(N=>"0".repeat(N.length)).join(e)+_.slice(f)},data:R}}}function iP(t,e,n){return(i,r)=>{let o=()=>e(i,r);return i.addEventListener(t,o,n),()=>i.removeEventListener(t,o,n)}}function Zue(t){return(e,n)=>{let i=e.ownerDocument,r=0,o=()=>r++,s=()=>{r=Math.max(--r,0)},c=()=>{if(e.matches(":focus")){if(r)return i.addEventListener("mouseup",c,{once:!0,passive:!0});t(e,n)}};return i.addEventListener("selectionchange",c,{passive:!0}),e.addEventListener("focus",c,{passive:!0}),e.addEventListener("mousedown",o,{passive:!0}),i.addEventListener("mouseup",s,{passive:!0}),()=>{i.removeEventListener("selectionchange",c),e.removeEventListener("focus",c),e.removeEventListener("mousedown",o),i.removeEventListener("mouseup",s)}}}function q5(t){return Zue(e=>{var n,i;let r=(n=e.selectionStart)!==null&&n!==void 0?n:0,o=(i=e.selectionEnd)!==null&&i!==void 0?i:0,[s,c]=t(e.value,[r,o]);(s>r||c<o)&&e.setSelectionRange(td(r,s,c),td(o,s,c))})}function Xue(t=""){let e=(n,[i,r])=>r>=n.length-t.length;return({elementState:n},i)=>{let{value:r,selection:o}=n;if(!r||e(r,o))return{elementState:n};let[s,c]=o,u=r.slice(s,c).replaceAll(/\d/g,"0"),d=r.slice(0,s)+u+r.slice(c);return u.replaceAll(/\D/g,"")?i==="validation"||i==="insert"&&s===c?{elementState:{selection:o,value:d}}:{elementState:{selection:i==="deleteBackward"||i==="insert"?[s,s]:[c,c],value:d}}:{elementState:n}}}function G5({mode:t,separator:e=".",max:n,min:i}){let r=t.split("/").join(e);return Object.assign(Object.assign({},bf),{mask:Array.from(r).map(o=>e.includes(o)?o:/\d/),overwriteMode:"replace",preprocessors:[$5(),Xue(),Wue({dateModeTemplate:r,dateSegmentsSeparator:e}),Yue({dateModeTemplate:r,dateSegmentsSeparator:e})],postprocessors:[zue({dateModeTemplate:r,dateSegmentSeparator:e,splitFn:o=>({dateStrings:[o]}),uniteFn:([o=""])=>o}),Gue({min:i,max:n,dateModeTemplate:r,dateSegmentSeparator:e})]})}var A$e=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});function Jue({prefix:t,postfix:e}){return({elementState:n,data:i})=>{let{cleanValue:r}=Lo(i,{prefix:t,postfix:e});return{elementState:n,data:r}}}function W5({decimalPseudoSeparators:t,decimalSeparator:e,maximumFractionDigits:n,min:i,minusSign:r,postfix:o,prefix:s,pseudoMinuses:c,thousandSeparator:u}){let d=i<0&&[r,...c].includes(s)?"":k5(s),f=String.raw`\d`,m=i<0?`[${r}${c.map(N=>`\\${N}`).join("")}]?`:"",y=u?`[${f}${ui(u).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${f}]*`,_=Number.isFinite(n)?n:"",C=n>0?`([${ui(e)}${t.map(ui).join("")}]${f}{0,${_}})?`:"",R=k5(o);return new RegExp(`^${d}${m}${y}${C}${R}$`)}function k5(t){return t?`${t.split("").map(e=>`${ui(e)}?`).join("")}`:""}function Dy(t,e={}){let{decimalSeparator:n=".",minusSign:i=""}=typeof e=="string"?{decimalSeparator:e}:e,r=!!new RegExp(`^\\D*[${ui(i)}\\${Q5.join("\\")}]`).exec(t),o=ui(n),s=t.replaceAll(new RegExp(`${o}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${o}]`,"g"),"").replace(n,n&&".");return s?+`${r?tP:""}${s}`:NaN}function ele(t){var e;let n=String(t),[i="",r]=n.split("e-"),o=n;if(r){let[,s]=i.split("."),c=Number(r)+((e=s?.length)!==null&&e!==void 0?e:0);o=t.toFixed(c)}return o}function K5(t,{decimalSeparator:e,minusSign:n}){let[i="",r=""]=e?t.split(e):[t],o=ui(n),[,s="",c=""]=new RegExp(`^(?:[^\\d${o}])?(${o})?(.*)`).exec(i)||[];return{minus:s,integerPart:c,decimalPart:r}}function tle({decimalSeparator:t,thousandSeparator:e,decimalPseudoSeparators:n=Cue}){return n.filter(i=>i!==e&&i!==t)}function nle({decimalSeparator:t,minimumFractionDigits:e,prefix:n,postfix:i,minusSign:r}){return e?({value:o,selection:s})=>{let{cleanValue:c,extractedPrefix:u,extractedPostfix:d}=Lo(o,{prefix:n,postfix:i});if(Number.isNaN(Dy(c,{decimalSeparator:t,minusSign:r})))return{value:o,selection:s};let[f,m=""]=c.split(t);return{value:u+f+t+m.padEnd(e,"0")+d,selection:s}}:Cf}function ile({prefix:t,postfix:e,decimalSeparator:n,minusSign:i}){return({value:r,selection:o})=>{let[s]=o,{cleanValue:c,extractedPrefix:u,extractedPostfix:d}=Lo(r,{prefix:t,postfix:e}),{minus:f,integerPart:m,decimalPart:y}=K5(c,{decimalSeparator:n,minusSign:i}),_=!m&&!y&&!!n&&c.includes(n);return!m&&!Number(y)&&s===(f+u).length||_?{selection:o,value:u+f+d}:{value:r,selection:o}}}function rle({decimalPseudoSeparators:t,decimalSeparator:e,minusSign:n,postfix:i,prefix:r,pseudoMinuses:o}){let s=!0,c=W5({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:o,prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER,minusSign:n});return({elementState:u,data:d})=>{if(!s)return{elementState:u,data:d};s=!1;let{value:f,selection:m}=u,[y,_]=m,{extractedPrefix:C,cleanValue:R,extractedPostfix:N}=Lo(f,{prefix:r,postfix:i}),k=Qc({selection:[Math.max(y-C.length,0),td(_-C.length,0,R.length)],value:R},{mask:c}),[$,K]=k.selection;return{elementState:{selection:[$+C.length,K+C.length],value:C+k.value+N},data:d}}}function ole({decimalSeparator:t,thousandSeparator:e,prefix:n,postfix:i}){let r=s=>{let c=ui(e);return s.replace(new RegExp(`^(\\D+)?[0${c}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${c}]+(?=[1-9])`),"$1")},o=(s,c)=>{let u=s.slice(0,c),d=s.slice(c).startsWith("0");return u.length-r(u).length+(d?1:0)};return({value:s,selection:c})=>{let[u,d]=c,{cleanValue:f,extractedPrefix:m,extractedPostfix:y}=Lo(s,{prefix:n,postfix:i}),_=!!t&&f.includes(t),[C="",R=""]=t?f.split(t):[f],N=r(C);if(C===N)return{value:s,selection:c};let k=u-o(s,u),$=d-o(s,d);return{value:m+N+(_?t:"")+R+y,selection:[Math.max(k,0),Math.max($,0)]}}}function sle({min:t,max:e,decimalSeparator:n,minusSign:i}){return({value:r,selection:o})=>{let s=Dy(r,{decimalSeparator:n,minusSign:i}),c=s>0?Math.min(s,e):Math.max(s,t);if(s&&c!==s){let u=`${c}`.replace(".",n).replace(tP,i);return{value:u,selection:[u.length,u.length]}}return{value:r,selection:o}}}function ale({decimalSeparator:t,thousandSeparator:e,minimumFractionDigits:n}){return({elementState:i,data:r},o)=>{let{value:s,selection:c}=i,[u,d]=c,f=s.slice(u,d),m=n?[t,e]:[e],y=!!n&&u>s.indexOf(t)&&!!f.match(/^0+$/gi);return o!=="deleteBackward"&&o!=="deleteForward"||!m.includes(f)&&!y?{elementState:i,data:r}:{elementState:{value:s,selection:o==="deleteForward"?[d,d]:[u,u]},data:r}}}function cle({decimalSeparator:t,maximumFractionDigits:e,prefix:n,postfix:i}){let r=new RegExp(`^\\D*${ui(t)}`);return({elementState:o,data:s})=>{let{value:c,selection:u}=o,{cleanValue:d,extractedPrefix:f}=Lo(c,{prefix:n,postfix:i}),[m,y]=u,_=td(m-f.length,0,d.length),C=td(y-f.length,0,d.length);if(e<=0||d.slice(0,_).includes(t)||d.slice(C).includes(t)||!s.match(r))return{elementState:o,data:s};let R=/\d+/.exec(d.slice(0,_));return{elementState:o,data:R?s:`0${s}`}}}function F5({validCharacter:t,pseudoCharacters:e,prefix:n,postfix:i}){let r=new RegExp(`[${e.join("")}]`,"gi");return({elementState:o,data:s})=>{let{value:c,selection:u}=o,{cleanValue:d,extractedPostfix:f,extractedPrefix:m}=Lo(c,{prefix:n,postfix:i});return{elementState:{selection:u,value:m+d.replace(r,t)+f},data:s.replace(r,t)}}}function ule({decimalSeparator:t,prefix:e,postfix:n}){return t?({elementState:i,data:r})=>{let{value:o,selection:s}=i,[c,u]=s,{cleanValue:d}=Lo(o,{prefix:e,postfix:n});return{elementState:i,data:!d.includes(t)||o.slice(c,u+1).includes(t)?r:r.replaceAll(new RegExp(ui(t),"gi"),"")}}:Cf}function lle({thousandSeparator:t,decimalSeparator:e,prefix:n,postfix:i,minusSign:r}){if(!t)return Cf;let o=(...s)=>s.every(c=>/\s/.test(c));return({value:s,selection:c})=>{let[u,d]=c,[f,m]=c,{cleanValue:y,extractedPostfix:_,extractedPrefix:C}=Lo(s,{prefix:n,postfix:i}),{minus:R,integerPart:N,decimalPart:k}=K5(y,{decimalSeparator:e,minusSign:r}),$=e&&y.includes(e),K=y.length-(R+N+($?e+k:"")).length;K>0&&u&&u<=K&&(f-=K),K>0&&d&&d<=K&&(m-=K);let he=Array.from(N).reduceRight((Ke,fe,b)=>{let E=!(!b&&fe===t)&&!!Ke.length&&(Ke.length+1)%4===0,I=fe===t||o(fe,t);return E&&I?t+Ke:!E&&I?(b&&b<=u&&f--,b&&b<=d&&m--,Ke):E?(b<u&&f++,b<d&&m++,fe+t+Ke):fe+Ke},"");return{value:C+R+he+($?e:"")+k+_,selection:[f,m]}}}function dle({maximumFractionDigits:t,decimalSeparator:e,prefix:n,postfix:i}){if(t>0||!e)return Cf;let r=new RegExp(`${ui(e)}.*$`,"g");return({elementState:o,data:s})=>{let{value:c,selection:u}=o,{cleanValue:d,extractedPrefix:f,extractedPostfix:m}=Lo(c,{prefix:n,postfix:i}),[y,_]=u,C=f+d.replace(r,"")+m;return{elementState:{selection:[Math.min(y,C.length),Math.min(_,C.length)],value:C},data:s.replace(r,"")}}}var L5=[0,0];function hle({decimalSeparator:t,thousandSeparator:e,prefix:n,postfix:i}){let r=ole({decimalSeparator:t,thousandSeparator:e,prefix:n,postfix:i});return iP("blur",o=>{let s=r({value:o.value,selection:L5},{value:"",selection:L5}).value;WI(o,s)},{capture:!0})}function fle({min:t,max:e,decimalSeparator:n,minusSign:i}){return iP("blur",(r,o)=>{let s=Dy(r.value,{decimalSeparator:n,minusSign:i}),c=td(s,t,e);!Number.isNaN(s)&&s!==c&&WI(r,Qc(ele(c),o))},{capture:!0})}function ple({decimalSeparator:t,prefix:e,postfix:n}){return t?iP("blur",i=>{let{cleanValue:r,extractedPostfix:o,extractedPrefix:s}=Lo(i.value,{prefix:e,postfix:n}),c=s+r.replace(new RegExp(`^(\\D+)?${ui(t)}`),`$10${t}`)+o;WI(i,c)},{capture:!0}):Uue}var Q5=[tP,xue,Rue,Mue,U5];function rP({max:t=Number.MAX_SAFE_INTEGER,min:e=Number.MIN_SAFE_INTEGER,precision:n=0,thousandSeparator:i=eP,decimalSeparator:r=".",decimalPseudoSeparators:o,decimalZeroPadding:s=!1,prefix:c="",postfix:u="",minusSign:d=U5,maximumFractionDigits:f=n,minimumFractionDigits:m=s?f:0}={}){let y=Q5.filter(N=>N!==i&&N!==r&&N!==d),_=tle({decimalSeparator:r,thousandSeparator:i,decimalPseudoSeparators:o}),C=c.endsWith(r)&&f>0?`${c}${Aue}`:c,R=rle({decimalSeparator:r,decimalPseudoSeparators:_,pseudoMinuses:y,prefix:C,postfix:u,minusSign:d});return r=f<=0&&r===i?"":r,Object.assign(Object.assign({},bf),{mask:W5({decimalSeparator:r,maximumFractionDigits:f,min:e,minusSign:d,postfix:u,prefix:C,pseudoMinuses:y,thousandSeparator:i,decimalPseudoSeparators:_}),preprocessors:[$5(),R,Jue({prefix:C,postfix:u}),F5({validCharacter:d,pseudoCharacters:y,prefix:C,postfix:u}),F5({validCharacter:r,pseudoCharacters:_,prefix:C,postfix:u}),cle({decimalSeparator:r,maximumFractionDigits:f,prefix:C,postfix:u}),ale({decimalSeparator:r,minimumFractionDigits:m,thousandSeparator:i}),dle({maximumFractionDigits:f,decimalSeparator:r,prefix:C,postfix:u}),ule({decimalSeparator:r,prefix:C,postfix:u})],postprocessors:[sle({decimalSeparator:r,min:e,max:t,minusSign:d}),Que(C),Kue(u),lle({decimalSeparator:r,thousandSeparator:i,prefix:C,postfix:u,minusSign:d}),nle({decimalSeparator:r,prefix:C,postfix:u,minusSign:d,minimumFractionDigits:Math.min(m,f)}),ile({prefix:C,postfix:u,decimalSeparator:r,minusSign:d})],plugins:[hle({decimalSeparator:r,thousandSeparator:i,prefix:C,postfix:u}),ple({decimalSeparator:r,prefix:C,postfix:u}),fle({min:e,max:t,decimalSeparator:r,minusSign:d})],overwriteMode:m>0?({value:N,selection:[k]})=>k<=N.indexOf(r)?"shift":"replace":"shift"})}function gle(t=Yt){let e=an(g(g5)),n=an(g(PN),{initialValue:gI});return wi(br,"fillerSetter",xe(()=>{let{mode:i,separator:r}=n(),o=e()??"",s=o&&cz(o[i],r);return t(s)}),{})}var yle={icon:()=>"@tui.calendar",min:Bi,max:wr,valueTransformer:uy},[oP,o5e]=Xi(yle),vle={DMY:"dd/mm/yyyy",MDY:"mm/dd/yyyy",YMD:"yyyy/mm/dd"},_le=(()=>{let e=class e extends Sa{constructor(){super(...arguments),this.calendar=l5(i=>i instanceof zc||i instanceof P5),this.el=de(),this.textfield=g(ed),this.filler=gle(),this.mobile=g(Xn),this.open=Ef(),this.icon=d5(oP),this.handlers=g(kI),this.dropdownEnabled=MI(xe(()=>!this.native&&this.interactive())),this.options=g(oP),this.format=an(g(PN),{initialValue:gI}),this.valueEffect=sn(()=>{let i=this.stringify(this.value())||(this.filler().length===this.el.value.length?"":this.el.value);this.textfield.value.set(i)},_i),this.calendarIn=sn(()=>{this.calendar()&&this.processCalendar(this.calendar())},_i),this.calendarOut=sn(i=>{let r=this.calendar()?.valueChange.subscribe(o=>this.setDate(o));i(()=>r?.unsubscribe())}),this.native=!!g(WN,{optional:!0})&&this.mobile,this.min=Y(this.options.min),this.max=Y(this.options.max)}set minSetter(i){this.min.set(i instanceof Xe?i:this.options.min)}set maxSetter(i){this.max.set(i instanceof Xe?i:this.options.max)}writeValue(i){let r=this.control.pristine&&this.control.untouched&&!i;(en(()=>i!==this.value())||r)&&(super.writeValue(i),this.textfield.value.set(this.stringify(this.value())))}setDate(i){this.onChange(i),this.open.set(!1),this.el.closest("tui-dropdown")||this.el.blur()}processCalendar(i){let r=this.value();i.value=Array.isArray(r)?r[0]:r,i.disabledItemHandler=this.handlers.disabledItemHandler(),i.min=this.min(),i.max=this.max()}onClick(){!this.mobile&&this.dropdownEnabled()&&this.open.update(i=>!i)}stringify(i){return i?.toString(this.format().mode,this.format().separator)??""}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,hostVars:2,hostBindings:function(r,o){r&1&&Q("input",function(c){return o.onValueChange(c.target.value)})("click.capture.stop",function(){return o.onClick()}),r&2&&(Ni("disabled",o.disabled()),ke("inputmode",o.mobile&&o.open()?"none":"numeric"))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"]},features:[Qe]});let t=e;return t})(),ZI=(()=>{let e=class e extends _le{constructor(){super(...arguments),this.identity=g(er).identityMatcher.set((i,r)=>i.daySame(r)),this.mask=KI(xe(()=>G5({separator:this.format().separator,mode:vle[this.format().mode],min:this.min().toLocalNativeDate(),max:this.max().toLocalNativeDate()})))}onValueChange(i){this.control?.control?.updateValueAndValidity({emitEvent:!1}),this.onChange(i.length===ly?Xe.normalizeParse(i,this.format().mode):null)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["input","tuiInputDate",""]],features:[ee([LI(XN),af(e),rI(oP)]),Oe([Gc,M$,H$,Tf]),Qe]});let t=e;return t})();var Ele={min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,prefix:"",postfix:"",step:0,icons:{increase:"@tui.plus",decrease:"@tui.minus"},valueTransformer:null},[Y5,S5e]=Xi(Ele),wle=18,XI=(()=>{let e=class e extends Sa{constructor(){super(...arguments),this.options=g(Y5),this.textfield=g(ed),this.isIOS=g(Uc),this.minRaw=Y(this.options.min),this.maxRaw=Y(this.options.max),this.numberFormat=an(g(i$),{initialValue:fy}),this.formatted=xe(()=>Dy(this.textfield.value(),this.numberFormat())),this.precision=xe(()=>Number.isNaN(this.numberFormat().precision)?2:this.numberFormat().precision),this.unfinished=xe((i=this.formatted())=>i<0?i>this.max():i<this.min()),this.element=de(),this.mask=KI(xe(()=>this.computeMask(this.maskParams))),this.inputMode=xe(()=>this.isIOS?this.min()<0?"text":"decimal":"numeric"),this.defaultMaxLength=xe(()=>{let{decimalSeparator:i,thousandSeparator:r}=this.numberFormat(),s=!!this.precision()&&this.textfield.value().includes(i)?Math.min(this.precision()+1,20):0,c=r.repeat(5).length;return wle+s+c}),this.onChangeEffect=sn(()=>{let i=this.formatted();if(Number.isNaN(i)){this.onChange(null);return}this.unfinished()||i<this.min()||i>this.max()||this.value()===i||this.onChange(i)},_i),this.maskInitialCalibrationEffect=sn(()=>{let i=rP(oe(O({},this.maskParams),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER}));this.textfield.value.update(r=>Qc(r,i))},_i),this.min=xe(()=>Math.min(this.minRaw(),this.maxRaw())),this.max=xe(()=>Math.max(this.minRaw(),this.maxRaw())),this.prefix=Y(this.options.prefix),this.postfix=Y(this.options.postfix)}set minSetter(i){this.minRaw.set(this.transformer.fromControlValue(i??this.options.min))}set maxSetter(i){this.maxRaw.set(this.transformer.fromControlValue(i??this.options.max))}set prefixSetter(i){this.prefix.set(i)}set postfixSetter(i){this.postfix.set(i)}writeValue(i){super.writeValue(i),en(()=>this.setValue(this.value()))}setValue(i){this.textfield.value.set(this.formatNumber(i))}onFocus(){Number.isNaN(this.formatted())&&!this.readOnly()&&this.textfield.value.set(this.prefix()+this.postfix())}get maskParams(){let s=this.numberFormat(),{decimalMode:i}=s,r=Oa(s,["decimalMode"]),o=this.precision();return oe(O({},r),{maximumFractionDigits:o,min:this.min(),max:this.max(),prefix:this.prefix(),postfix:this.postfix(),minimumFractionDigits:i==="always"?o:0})}formatNumber(i){return i===null||Number.isNaN(i)?"":(this.prefix()!==cN?this.prefix():"")+S$(i,oe(O({},this.numberFormat()),{precision:iz(i,this.precision())?this.precision():1/0})).replace(Gw,cN)+this.postfix()}computeMask(i){let{prefix:r="",postfix:o=""}=i,u=rP(i),{plugins:s}=u,c=Oa(u,["plugins"]);return oe(O({},c),{plugins:[...s,q5(d=>[r.length,d.length-o.length])]})}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Be(e)))(o||e)}})(),e.\u0275dir=F({type:e,selectors:[["input","tuiInputNumber",""]],hostVars:3,hostBindings:function(r,o){r&1&&Q("blur",function(){return o.setValue(o.transformer.fromControlValue(o.control.value))})("focus",function(){return o.onFocus()}),r&2&&(Ni("disabled",o.disabled()),ke("inputMode",o.inputMode())("maxLength",o.element.maxLength>0?o.element.maxLength:o.defaultMaxLength()))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"],prefixSetter:[0,"prefix","prefixSetter"],postfixSetter:[0,"postfix","postfixSetter"]},features:[ee([af(e),rI(Y5)]),Oe([Gc,Tf]),Qe]});let t=e;return t})();var Ile=["text"],ble=["tuiTextarea",""],Tle=t=>({$implicit:t});function Cle(t,e){t&1&&ce(0,"tui-scroll-controls",6)}function Dle(t,e){if(t&1&&(ut(0),re(1),st()),t&2){let n=e.polymorpheusOutlet;V(),Ki(n)}}function Sle(t,e){if(t&1&&(X(0,Cle,1,0,"tui-scroll-controls",2),j(1,"span",3,1),X(3,Dle,2,1,"ng-container",4),L(),ce(4,"span",5)),t&2){let n=W();U("ngIf",!n.isMobile),V(),dt("max-height",1.25*n.max,"em")("min-height",1.25*n.min,"em"),V(2),U("polymorpheusOutlet",n.content)("polymorpheusOutletContext",Qi(7,Tle,n.el.value))}}var[Ale,xle]=Xi({min:1,max:3,content:({$implicit:t})=>t}),JI=(()=>{let e=class e{constructor(){this.options=g(Ale),this.vcr=g(Vt),this.el=de(),this.textfield=g(br),this.isMobile=g(Xn),this.min=this.options.min,this.max=this.options.max,this.content=this.options.content}ngAfterViewInit(){this.template&&this.vcr.createEmbeddedView(this.template)}onScroll(){this.text?.nativeElement.scrollTo({top:this.el.scrollTop})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["textarea","tuiTextarea",""]],viewQuery:function(r,o){if(r&1&&(dr(Qt,5),dr(Ile,5)),r&2){let s;Bt(s=jt())&&(o.template=s.first),Bt(s=jt())&&(o.text=s.first)}},hostAttrs:["ngSkipHydration","true"],hostVars:2,hostBindings:function(r,o){r&1&&Q("scroll.zoneless",function(){return o.onScroll()})("scroll.once",function(){return o.onScroll()}),r&2&&me("_mobile",o.isMobile)},inputs:{min:"min",max:"max",content:"content"},features:[ee([pt(Ra,Je)]),Oe([Gc])],attrs:ble,decls:2,vars:0,consts:[["template",""],["text",""],["class","t-scroll",4,"ngIf"],["aria-hidden","true",1,"t-ghost"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-hack"],[1,"t-scroll"]],template:function(r,o){r&1&&X(0,Sle,5,9,"ng-template",null,0,ai)},dependencies:[Pt,On,Yl],styles:['tui-textfield._with-label[data-size="m"][_nghost-%COMP%], tui-textfield._with-label[data-size="m"]   [_nghost-%COMP%]{border-block-start-width:calc(.5rem + var(--t-height) / 3);padding-block-start:0}tui-textfield._with-label[data-size="l"][_nghost-%COMP%], tui-textfield._with-label[data-size="l"]   [_nghost-%COMP%]{border-block-start-width:calc(.625rem + var(--t-height) / 3);padding-block-start:0}tui-textfield[data-size="s"][_nghost-%COMP%], tui-textfield[data-size="s"]   [_nghost-%COMP%]{padding-block-start:.5rem;padding-block-end:.25rem}tui-textfield[data-size="m"][_nghost-%COMP%], tui-textfield[data-size="m"]   [_nghost-%COMP%]{padding-block-start:.875rem;padding-block-end:.25rem}tui-textfield[data-size="l"][_nghost-%COMP%], tui-textfield[data-size="l"]   [_nghost-%COMP%]{padding-block-start:1.125rem;padding-block-end:.375rem}[_nghost-%COMP%]{word-break:break-word;border:0 solid transparent}[data-appearance=table][_nghost-%COMP%]{border-block-start:1px solid transparent;border-block-end:none!important}[_nghost-%COMP%]:not(._mobile){scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%]:not(._mobile)::-webkit-scrollbar, [_nghost-%COMP%]:not(._mobile)::-webkit-scrollbar-thumb{display:none}.t-scroll[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;top:.25rem;bottom:.25rem;min-block-size:0}  tui-textfield._with-label[data-size=m] .t-scroll{top:calc(.5rem + var(--t-height) / 3)}  tui-textfield._with-label[data-size=l] .t-scroll{top:calc(.625rem + var(--t-height) / 3)}.t-ghost[_ngcontent-%COMP%]{position:relative;z-index:1;order:1;inline-size:-webkit-fill-available;inline-size:-moz-available;inline-size:stretch;white-space:pre-wrap;word-break:break-word;overflow-wrap:break-word;padding-inline-start:var(--t-start);padding-inline-end:calc(var(--t-end) + var(--t-side));pointer-events:none;box-sizing:content-box;overflow:hidden;color:transparent}.t-ghost[_ngcontent-%COMP%]:after{content:" "}  tui-textfield._with-label[data-size=m] textarea~.t-ghost{margin-block-start:-1.375rem;padding-block-end:.3125rem}  tui-textfield._with-label[data-size=l] textarea~.t-ghost{margin-block-start:-1.75rem;padding-block-end:.5rem}  tui-textfield[data-size=s] textarea~.t-ghost{margin-block-start:-1.5rem;padding-block-end:.5rem}  tui-textfield[data-size=m] textarea~.t-ghost{margin-block-start:-2rem;padding-block-end:.875rem}  tui-textfield[data-size=l] textarea~.t-ghost{margin-block-start:-2.5rem;padding-block-end:1rem}.t-hack[_ngcontent-%COMP%]{transition-property:box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;pointer-events:none;border-radius:inherit;box-shadow:inset 0 0 0 1px transparent}'],changeDetection:0});let t=e;return t})(),Rle=(()=>{let e=class e{constructor(){this.limit=g(Sy).limit,this.context=Bc(),this.background="linear-gradient(transparent 0.125rem, var(--tui-status-negative-pale) 0.125rem, var(--tui-status-negative-pale) calc(100% - 0.125rem), transparent calc(100% - 0.125rem))"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],decls:2,vars:4,consts:[[3,"textContent"]],template:function(r,o){r&1&&A_(0,"span",0)(1,"span",0),r&2&&(Ni("textContent",o.context.$implicit.slice(0,o.limit())),V(),dt("background",o.background),Ni("textContent",o.context.$implicit.slice(o.limit())))},encapsulation:2,changeDetection:0});let t=e;return t})(),Mle=(()=>{let e=class e{constructor(){this.limit=Y(0),this.length=Y(0)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],decls:1,vars:2,template:function(r,o){r&1&&re(0),r&2&&x_("",o.length()," / ",o.limit())},styles:["[_nghost-%COMP%]{z-index:1;inline-size:100%;order:2;text-align:end;pointer-events:none;padding-block-end:.75rem;font:var(--tui-font-text-ui-xs);color:var(--tui-text-secondary)}"],changeDetection:0});let t=e;return t})(),Nle=new Ir(Rle),Sy=(()=>{let e=class e{constructor(){this.textfield=g(br),this.ref=g(Vt).createComponent(Mle),this.size=g(If).size,this.limit=Y(0)}set limitSetter(i){this.limit.set(i)}ngDoCheck(){this.ref.instance.length.set(this.textfield.value().length),this.ref.instance.limit.set(this.limit())}validate(i){return Pn.maxLength(this.limit())(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=F({type:e,selectors:[["","tuiTextarea","","limit",""]],hostVars:2,hostBindings:function(r,o){r&2&&dt("border-block-end-width",o.size()==="l"?1.875:1.75,"rem")},inputs:{limitSetter:[0,"limit","limitSetter"]},features:[ee([pt(Po,e,!0),xle({content:Nle})])]});let t=e;return t})();function Ple(t,e){if(t&1&&ce(0,"tui-data-list-wrapper",16),t&2){let n=W();U("items",n.categories)}}function Ole(t,e){t&1&&ce(0,"tui-calendar")}function kle(t,e){if(t&1&&(j(0,"div",17),re(1),L()),t&2){let n=W();me("success",n.messageType==="success")("error",n.messageType==="error"),V(),nt(" ",n.message," ")}}var eb=class t{fb=g(zw);categoriesService=g(Kc);transactionAdded=new Ae;cancel=new Ae;transactionForm;categories=[];message=null;messageType="success";INCOME=Ma;EXPENSE=Kl;minDate=new Xe(1900,1,1);maxDate=Xe.currentLocal();ngOnInit(){this.initForm()}initForm(){this.transactionForm=this.fb.group({description:[""],amount:[null,[Pn.required,Pn.min(.01)]],type:[Kl,Pn.required],category:["",Pn.required],date:[Xe.currentLocal(),Pn.required]}),this.updateCategories(Kl)}updateType(e){this.transactionForm.patchValue({type:e}),this.updateCategories(e)}updateCategories(e){this.categories=e===Ma?this.categoriesService.getIncomeCategories():this.categoriesService.getExpenseCategories(),this.categories.length>0&&this.transactionForm.patchValue({category:this.categories[0]})}onSubmit(){if(this.transactionForm.valid){let e=this.transactionForm.value;this.transactionAdded.emit(e),this.resetForm()}}resetForm(){let e=this.transactionForm.get("type")?.value;this.transactionForm.patchValue({description:"",amount:null,category:this.categories.length>0?this.categories[0]:"",date:Xe.currentLocal()}),this.transactionForm.markAsPristine(),this.transactionForm.markAsUntouched(),this.updateCategories(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-transaction-form"]],outputs:{transactionAdded:"transactionAdded",cancel:"cancel"},decls:32,vars:14,consts:[[1,"transaction-form",3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],[1,"type-selector"],["tuiButton","",3,"click"],[1,"form-column"],["tuiChevron",""],["tuiSelect","","formControlName","category","placeholder","\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"],["new","",3,"items",4,"tuiTextfieldDropdown"],["tuiLabel",""],["tuiInputNumber","","formControlName","amount"],["tuiInputDate","","formControlName","date",3,"max","min"],[4,"tuiTextfieldDropdown"],["tuiTextarea","","formControlName","description",3,"limit","max","min"],["tuiButton","","type","submit",1,"submit-btn",3,"disabled"],[1,"message",3,"success","error"],["new","",3,"items"],[1,"message"]],template:function(n,i){if(n&1&&(j(0,"form",0),Q("ngSubmit",function(){return i.onSubmit()}),j(1,"h2"),re(2,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E"),L(),j(3,"div",1)(4,"div",2)(5,"label"),re(6,"\u0422\u0438\u043F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438"),L(),j(7,"div",3)(8,"button",4),Q("click",function(){return i.updateType(i.INCOME)}),re(9," \u0414\u043E\u0445\u043E\u0434 "),L(),j(10,"button",4),Q("click",function(){return i.updateType(i.EXPENSE)}),re(11," \u0420\u0430\u0441\u0445\u043E\u0434 "),L()()()(),j(12,"div",5)(13,"tui-textfield",6),ce(14,"input",7),X(15,Ple,1,1,"tui-data-list-wrapper",8),L(),j(16,"tui-textfield")(17,"label",9),re(18,"\u0421\u0443\u043C\u043C\u0430"),L(),ce(19,"input",10),L(),j(20,"tui-textfield")(21,"label",9),re(22,"\u0414\u0430\u0442\u0430"),L(),ce(23,"input",11),X(24,Ole,1,0,"tui-calendar",12),L(),j(25,"tui-textfield")(26,"label",9),re(27,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),L(),ce(28,"textarea",13),L(),j(29,"button",14),re(30," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E "),L()(),ii(31,kle,2,5,"div",15),L()),n&2){let r,o;U("formGroup",i.transactionForm),V(8),me("_active",((r=i.transactionForm.get("type"))==null?null:r.value)===i.INCOME),V(2),me("_active",((o=i.transactionForm.get("type"))==null?null:o.value)===i.EXPENSE),V(13),U("max",i.maxDate)("min",i.minDate),V(2),dt("margin-block-end",1,"rem"),V(3),U("limit",100)("max",6)("min",3),V(),U("disabled",!i.transactionForm.valid),V(2),ri(i.message?31:-1)}},dependencies:[In,$w,Hw,Lc,Uw,Bw,ey,ty,br,HI,QI,YI,wf,BI,XI,ZI,zc,JI,Sy,zr],styles:[".transaction-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.transaction-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-weight:600;margin:0 0 2rem;font-size:1.8rem;position:relative}.transaction-form[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem}.transaction-form[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;opacity:.5}.transaction-form[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]   button._active[_ngcontent-%COMP%]{opacity:1}.form-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]})};var tb=class t{transform(e,n){let i=this.formatNumber(Math.abs(e));return n?`+ ${i} \u20BD`:`- ${i} \u20BD`}formatNumber(e){let[n,i]=e.toFixed(0).split("."),r=n.split("").reverse().reduce((o,s,c)=>c>0&&c%3===0?`${s} ${o}`:`${s}${o}`,"");return i?`${r},${i}`:r}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Ri({name:"transactionAmount",type:t,pure:!0})};var Fle=t=>["/transaction",t],Lle=(t,e)=>e.id;function Vle(t,e){t&1&&(j(0,"div",3),re(1,"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442"),L())}function Ule(t,e){if(t&1&&(j(0,"div",9),re(1),L()),t&2){let n=W().$implicit;V(),Ki(n.description)}}function Ble(t,e){if(t&1&&(j(0,"a",4)(1,"div",5)(2,"span",6),re(3),L(),j(4,"span",7),re(5),et(6,"transactionAmount"),L()(),j(7,"div",8),re(8),L(),ii(9,Ule,2,1,"div",9),L()),t&2){let n=e.$implicit,i=W(3);U("routerLink",Qi(10,Fle,n.id)),V(2),dt("background-color",i.getCategoryColor(n.category)),V(),nt(" ",n.category," "),V(2),nt(" ",rc(6,7,n.amount,n.type==="income")," "),V(3),Ki(i.formatDate(n.date)),V(),ri(n.description?9:-1)}}function jle(t,e){if(t&1&&VD(0,Ble,10,12,"a",4,Lle),t&2){let n=W();UD(n)}}function Hle(t,e){t&1&&ii(0,Vle,2,0,"div",3)(1,jle,2,0),t&2&&ri(e.length===0?0:1)}function zle(t,e){t&1&&ce(0,"tui-loader",2)}var nb=class t{txService=g(jc);categoriesService=g(Kc);transactions$=this.txService.getTransactions();getCategoryColor(e){return this.categoriesService.getColor(e)}formatDate(e){return new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-transaction-history"]],decls:7,vars:3,consts:[[1,"transaction-history"],[1,"transaction-list"],["size","l"],[1,"no-transactions"],[1,"transaction-item",3,"routerLink"],[1,"transaction-header"],[1,"category"],[1,"amount"],[1,"transaction-date"],[1,"transaction-description"]],template:function(n,i){if(n&1&&(j(0,"section",0)(1,"h2"),re(2,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439"),L(),j(3,"div",1),ii(4,Hle,2,1),et(5,"async"),Ku(6,zle,1,0,"tui-loader",2),L()()),n&2){let r;V(4),ri((r=on(5,1,i.transactions$))?4:6,r)}},dependencies:[In,qc,fh,gn,tb],styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.transaction-history[_ngcontent-%COMP%]{transition:all .3s ease}.transaction-history[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-weight:600;margin:0 0 2rem;font-size:1.8rem;position:relative}.transaction-list[_ngcontent-%COMP%]{display:grid;gap:16px}.transaction-item[_ngcontent-%COMP%]{padding:16px;border-radius:12px;background:#f6f7f8;transition:all .3s ease;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .6s ease;text-decoration:none;color:inherit;display:block}.transaction-item[_ngcontent-%COMP%]:hover{background:#eef0f2;transform:translateY(-2px);box-shadow:0 4px 10px #0000000d}.transaction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.transaction-header[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;font-size:1.2rem}.transaction-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;color:#fff;font-weight:700;min-width:100px;text-align:center}.transaction-date[_ngcontent-%COMP%]{font-size:.9rem;color:#a9a9a9;margin-bottom:8px}.transaction-description[_ngcontent-%COMP%]{font-size:.95rem;color:#5d5d5d;border-top:1px dashed #ddd;padding-top:8px}.no-transactions[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#a9a9a9}"],changeDetection:0})};var ib=class t{transactionService=g(jc);addTransaction(e){return x(this,null,function*(){try{yield this.transactionService.addTransaction(e)}catch(n){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0438 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438:",n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-dashboard"]],decls:5,vars:0,consts:[[1,"dashboard-content"],["tuiAppearance","floating","tuiCardLarge","",1,"form-section"],[3,"transactionAdded"]],template:function(n,i){n&1&&(j(0,"div",0)(1,"div",1)(2,"app-transaction-form",2),Q("transactionAdded",function(o){return i.addTransaction(o)}),L()(),j(3,"div",1),ce(4,"app-transaction-history"),L()())},dependencies:[In,Hn,Wc,eb,nb],styles:[".dashboard-content[_ngcontent-%COMP%]{max-width:1200px;margin:32px auto;display:flex;gap:32px;flex-wrap:wrap;justify-content:center;padding:0 32px}.form-section[_ngcontent-%COMP%]{flex:1;min-width:550px;max-width:750px;height:fit-content}.user-avatar[_ngcontent-%COMP%]{flex-shrink:0}app-transaction-form[_ngcontent-%COMP%], app-transaction-history[_ngcontent-%COMP%]{margin-top:0!important}"],changeDetection:0})};var rb=class t{authService=g(Hr);isLoading=!1;login(){return x(this,null,function*(){this.isLoading=!0;try{yield this.authService.loginWithGoogle()}catch(e){console.error("Login error:",e),this.isLoading=!1}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-login"]],decls:8,vars:0,consts:[[1,"login-container"],["tuiAppearance","floating","tuiCardLarge","",1,"login-card"],["tuiButton","","type","button","size","m","appearance","primary",3,"click"]],template:function(n,i){n&1&&(j(0,"div",0)(1,"div",1)(2,"h2"),re(3,"\u0412\u0445\u043E\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443"),L(),j(4,"p"),re(5,"\u0414\u043B\u044F \u0434\u043E\u0441\u0442\u0443\u043F\u0430 \u043A \u0444\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u043E\u043C\u0443 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),L(),j(6,"button",2),Q("click",function(){return i.login()}),re(7," \u0412\u043E\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Google "),L()()())},dependencies:[In,zr,Hn,Wc],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh;padding:1rem}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%;text-align:center;padding:2rem}.login-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem;color:var(--tui-text-02)}"],changeDetection:0})};function $le(t,e){t&1&&ce(0,"tui-loader")}function qle(t,e){if(t&1){let n=lt();j(0,"button",19),Q("click",function(){Ce(n);let r=W(2);return De(r.toggleEdit())}),re(1," \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),L()}}function Gle(t,e){if(t&1&&ce(0,"tui-data-list-wrapper",20),t&2){let n=W(2);U("items",n.categories)}}function Wle(t,e){t&1&&ce(0,"tui-calendar")}function Kle(t,e){if(t&1){let n=lt();j(0,"div",18)(1,"button",21),re(2,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),L(),j(3,"button",22),Q("click",function(){Ce(n);let r=W(2);return De(r.toggleEdit())}),re(4," \u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C "),L()()}if(t&2){let n=W(2);V(),U("disabled",!n.transactionForm.valid)}}function Qle(t,e){if(t&1){let n=lt();j(0,"section",0)(1,"div",1)(2,"button",2),re(3,"\u2190 \u041D\u0430\u0437\u0430\u0434 \u043A \u0441\u043F\u0438\u0441\u043A\u0443"),L(),j(4,"div",3),ii(5,qle,2,0,"button",4),L()(),j(6,"form",5),Q("ngSubmit",function(){Ce(n);let r=W();return De(r.onSubmit())}),j(7,"h2"),re(8),L(),j(9,"div",6)(10,"div",7)(11,"label"),re(12,"\u0422\u0438\u043F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438"),L(),j(13,"div",8)(14,"button",9),Q("click",function(){Ce(n);let r=W();return De(r.updateType(r.INCOME))}),re(15," \u0414\u043E\u0445\u043E\u0434 "),L(),j(16,"button",9),Q("click",function(){Ce(n);let r=W();return De(r.updateType(r.EXPENSE))}),re(17," \u0420\u0430\u0441\u0445\u043E\u0434 "),L()()(),j(18,"tui-textfield",10),ce(19,"input",11),X(20,Gle,1,1,"tui-data-list-wrapper",12),L(),j(21,"tui-textfield")(22,"label",13),re(23,"\u0421\u0443\u043C\u043C\u0430"),L(),ce(24,"input",14),L(),j(25,"tui-textfield")(26,"label",13),re(27,"\u0414\u0430\u0442\u0430"),L(),ce(28,"input",15),X(29,Wle,1,0,"tui-calendar",16),L(),j(30,"tui-textfield")(31,"label",13),re(32,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),L(),ce(33,"textarea",17),L(),ii(34,Kle,5,1,"div",18),L()()()}if(t&2){let n,i,r=W();V(5),ri(r.isEditing?-1:5),V(),U("formGroup",r.transactionForm),V(2),Ki(r.isEditing?"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438":"\u0414\u0435\u0442\u0430\u043B\u0438 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438"),V(6),me("_active",((n=r.transactionForm.get("type"))==null?null:n.value)===r.INCOME),U("disabled",!r.isEditing),V(2),me("_active",((i=r.transactionForm.get("type"))==null?null:i.value)===r.EXPENSE),U("disabled",!r.isEditing),V(12),U("max",r.maxDate)("min",r.minDate),V(2),dt("margin-block-end",1,"rem"),V(3),U("limit",100),V(),ri(r.isEditing?34:-1)}}var ob=class t{route=g(Lr);router=g(gi);fb=g(zw);txService=g(jc);categoriesService=g(Kc);transactionForm;transactionId=null;categories=[];isLoading=!0;isEditing=!1;transactionSub;INCOME=Ma;EXPENSE=Kl;minDate=new Xe(1900,1,1);maxDate=Xe.currentLocal();ngOnInit(){this.transactionId=this.route.snapshot.paramMap.get("id"),this.transactionId?this.loadTransaction(this.transactionId):this.router.navigate(["/"])}loadTransaction(e){this.transactionSub=this.txService.getTransactionById(e).subscribe(n=>{n?this.initForm(n):this.router.navigate(["/"]),this.isLoading=!1})}initForm(e){let n=Xe.fromLocalNativeDate(new Date(e.date));this.transactionForm=this.fb.group({description:[e.description||"",[Pn.required,Pn.maxLength(100)]],amount:[Math.abs(e.amount)||null,[Pn.required,Pn.min(.01)]],type:[e.type||Kl,Pn.required],category:[e.category||"",Pn.required],date:[n,Pn.required]}),this.updateCategories(this.transactionForm.get("type")?.value),this.isEditing||this.disableForm()}updateType(e){this.transactionForm.get("type")?.value!==e&&(this.transactionForm.patchValue({type:e}),this.updateCategories(e),this.categories.length>0&&this.transactionForm.patchValue({category:this.categories[0]}))}updateCategories(e){this.categories=e===Ma?this.categoriesService.getIncomeCategories():this.categoriesService.getExpenseCategories(),this.categories.length>0&&!this.transactionForm.get("category")?.value&&this.transactionForm.patchValue({category:this.categories[0]})}toggleEdit(){this.isEditing=!this.isEditing,this.isEditing?this.enableForm():this.loadTransaction(this.transactionId)}enableForm(){this.transactionForm.get("description")?.enable(),this.transactionForm.get("amount")?.enable(),this.transactionForm.get("type")?.enable(),this.transactionForm.get("category")?.enable(),this.transactionForm.get("date")?.enable()}disableForm(){this.transactionForm.get("description")?.disable(),this.transactionForm.get("amount")?.disable(),this.transactionForm.get("type")?.disable(),this.transactionForm.get("category")?.disable(),this.transactionForm.get("date")?.disable()}onSubmit(){return x(this,null,function*(){if(this.transactionForm.valid&&this.transactionId)try{let e=this.transactionForm.value;yield this.txService.updateTransaction(this.transactionId,e),this.isEditing=!1,this.disableForm()}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438:",e)}})}ngOnDestroy(){this.transactionSub&&this.transactionSub.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-transaction-detail"]],decls:2,vars:1,consts:[["tuiAppearance","floating","tuiCardLarge","",1,"transaction-detail"],[1,"header"],["tuiButton","","type","button","appearance","flat","routerLink","/"],[1,"actions"],["tuiButton","","type","button","appearance","primary"],[1,"transaction-form",3,"ngSubmit","formGroup"],[1,"form-column"],[1,"form-group"],[1,"type-selector"],["tuiButton","","type","button",3,"click","disabled"],["tuiChevron",""],["tuiSelect","","formControlName","category","placeholder","\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"],["new","",3,"items",4,"tuiTextfieldDropdown"],["tuiLabel",""],["tuiInputNumber","","formControlName","amount"],["tuiInputDate","","formControlName","date",3,"max","min"],[4,"tuiTextfieldDropdown"],["tuiTextarea","","formControlName","description",3,"limit"],[1,"form-actions"],["tuiButton","","type","button","appearance","primary",3,"click"],["new","",3,"items"],["tuiButton","","type","submit",3,"disabled"],["tuiButton","","type","button","appearance","secondary",3,"click"]],template:function(n,i){n&1&&ii(0,$le,1,0,"tui-loader")(1,Qle,35,15,"section",0),n&2&&ri(i.isLoading?0:1)},dependencies:[In,$w,Hw,Lc,Uw,Bw,ey,ty,Jm,fh,br,HI,QI,YI,wf,BI,XI,ZI,JI,zr,qc,zc,Sy,Hn,Wc],styles:[".transaction-detail[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:32px auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.transaction-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.transaction-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.transaction-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.transaction-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-weight:600;margin:0 0 2rem;font-size:1.8rem;position:relative}.transaction-form[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]{display:flex;gap:.5rem}.transaction-form[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;opacity:.5}.transaction-form[_ngcontent-%COMP%]   .type-selector[_ngcontent-%COMP%]   button._active[_ngcontent-%COMP%]{opacity:1}.form-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}tui-textfield[_ngcontent-%COMP%]   .t-wrapper[disabled][_ngcontent-%COMP%], input[_ngcontent-%COMP%]{opacity:.9;pointer-events:none}"]})};var sP=()=>{let t=g(Hr),e=g(gi);return t.currentUser$.pipe(ze(n=>n!==void 0),H(n=>n?!0:(e.navigate(["/login"]),!1)))};var Z5=[{path:"",component:ib,canActivate:[sP]},{path:"login",component:rb},{path:"transaction/:id",component:ob,canActivate:[sP]},{path:"**",redirectTo:""}];var sb={production:!1,firebase:{apiKey:"AIzaSyBAZnY7OSnMpZJAMFrE4OLpxX7n4Iqs_MQ",authDomain:"course-work-t-bank.firebaseapp.com",projectId:"course-work-t-bank",storageBucket:"course-work-t-bank.firebasestorage.app",messagingSenderId:"244813719656",appId:"1:244813719656:web:0fb7b5a76caf05008fb3dd"}};var X5={providers:[BV(),KD({eventCoalescing:!0}),AA(Z5),jL(),_U(()=>EU(sb.firebase)),vB(()=>_B()),rH(()=>cH())]};function Yle(t,e){if(t&1){let n=lt();j(0,"div",0),ce(1,"tui-avatar",2),j(2,"span",3),re(3),L(),j(4,"button",4),Q("click",function(){Ce(n);let r=W();return De(r.logout())}),re(5," \u0412\u044B\u0439\u0442\u0438 "),L()()}if(t&2){let n=e;V(),U("src",n.photoURL||""),V(2),Ki(n.displayName||n.email)}}function Zle(t,e){if(t&1){let n=lt();j(0,"button",5),Q("click",function(){Ce(n);let r=W();return De(r.login())}),ce(1,"tui-icon",6),re(2,` \u0412\u043E\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 Google
`),L()}}var ab=class t{authService=g(Hr);currentUser$=this.authService.currentUser$;login(){return x(this,null,function*(){yield this.authService.loginWithGoogle()})}logout(){return x(this,null,function*(){yield this.authService.logout()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-auth-button"]],decls:3,vars:3,consts:[[1,"user-info"],["tuiButton","","type","button","size","s","appearance","primary",1,"google-login-button"],["size","s",1,"user-avatar",3,"src"],[1,"user-name"],["tuiButton","","type","button","size","s","appearance","secondary",3,"click"],["tuiButton","","type","button","size","s","appearance","primary",1,"google-login-button",3,"click"],["icon","https://raw.githubusercontent.com/gilbarbara/logos/de2c1f96ff6e74ea7ea979b43202e8d4b863c655/logos/google-icon.svg"]],template:function(n,i){if(n&1&&(ii(0,Yle,6,2,"div",0),et(1,"async"),Ku(2,Zle,3,0,"button",1)),n&2){let r;ri((r=on(1,1,i.currentUser$))?0:2,r)}},dependencies:[In,f5,zr,VI,gn],styles:[".user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{flex-shrink:0}.user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:.9rem;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.google-login-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}"],changeDetection:0})};function Xle(t,e){t&1&&ce(0,"tui-loader",0),t&2&&U("overlay",!0)}function Jle(t,e){t&1&&(j(0,"header",1)(1,"div",2)(2,"h2",3),re(3,"\u0424\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0439 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C"),L(),ce(4,"app-auth-button"),L()())}function ede(t,e){t&1&&ii(0,Jle,5,0,"header",1),t&2&&ri(e?0:-1)}var cb=class t{authService=g(Hr);isLoading$=this.authService.currentUser$.pipe(H(e=>e===void 0));ngOnInit(){this.authService.initAuthStateListener()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Z({type:t,selectors:[["app-root"]],decls:7,vars:6,consts:[[3,"overlay"],["tuiAppearance","floating","tuiCardLarge","",1,"app-header"],[1,"header-content"],["tuiTitle",""]],template:function(n,i){if(n&1&&(j(0,"tui-root"),ii(1,Xle,1,1,"tui-loader",0),et(2,"async"),ii(3,ede,1,1),et(4,"async"),j(5,"main"),ce(6,"router-outlet"),L()()),n&2){let r;V(),ri(on(2,2,i.isLoading$)?1:-1),V(2),ri((r=on(4,4,i.authService.currentUser$))?3:-1,r)}},dependencies:[In,Jm,Km,r5,ab,Hn,Wc,w$,qc,gn],styles:[".app-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;border-radius:0;padding:16px 32px}.app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0}main[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}tui-loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"]})};var tde="firebase",nde="12.1.0";Oc(tde,nde,"app");SH(sb.firebase);ES(cb,X5).catch(t=>console.error(t));
